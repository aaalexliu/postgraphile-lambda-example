!function(e,a){for(var i in a)e[i]=a[i]}(exports,function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=221)}([function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"S",(function(){return isType})),__webpack_require__.d(__webpack_exports__,"x",(function(){return assertType})),__webpack_require__.d(__webpack_exports__,"R",(function(){return isScalarType})),__webpack_require__.d(__webpack_exports__,"w",(function(){return assertScalarType})),__webpack_require__.d(__webpack_exports__,"N",(function(){return isObjectType})),__webpack_require__.d(__webpack_exports__,"u",(function(){return assertObjectType})),__webpack_require__.d(__webpack_exports__,"H",(function(){return isInterfaceType})),__webpack_require__.d(__webpack_exports__,"o",(function(){return assertInterfaceType})),__webpack_require__.d(__webpack_exports__,"T",(function(){return isUnionType})),__webpack_require__.d(__webpack_exports__,"y",(function(){return assertUnionType})),__webpack_require__.d(__webpack_exports__,"E",(function(){return isEnumType})),__webpack_require__.d(__webpack_exports__,"l",(function(){return assertEnumType})),__webpack_require__.d(__webpack_exports__,"F",(function(){return isInputObjectType})),__webpack_require__.d(__webpack_exports__,"m",(function(){return assertInputObjectType})),__webpack_require__.d(__webpack_exports__,"J",(function(){return isListType})),__webpack_require__.d(__webpack_exports__,"q",(function(){return assertListType})),__webpack_require__.d(__webpack_exports__,"L",(function(){return isNonNullType})),__webpack_require__.d(__webpack_exports__,"s",(function(){return assertNonNullType})),__webpack_require__.d(__webpack_exports__,"G",(function(){return isInputType})),__webpack_require__.d(__webpack_exports__,"n",(function(){return assertInputType})),__webpack_require__.d(__webpack_exports__,"O",(function(){return isOutputType})),__webpack_require__.d(__webpack_exports__,"v",(function(){return assertOutputType})),__webpack_require__.d(__webpack_exports__,"I",(function(){return isLeafType})),__webpack_require__.d(__webpack_exports__,"p",(function(){return assertLeafType})),__webpack_require__.d(__webpack_exports__,"D",(function(){return isCompositeType})),__webpack_require__.d(__webpack_exports__,"k",(function(){return assertCompositeType})),__webpack_require__.d(__webpack_exports__,"C",(function(){return isAbstractType})),__webpack_require__.d(__webpack_exports__,"j",(function(){return assertAbstractType})),__webpack_require__.d(__webpack_exports__,"d",(function(){return GraphQLList})),__webpack_require__.d(__webpack_exports__,"e",(function(){return GraphQLNonNull})),__webpack_require__.d(__webpack_exports__,"U",(function(){return isWrappingType})),__webpack_require__.d(__webpack_exports__,"z",(function(){return assertWrappingType})),__webpack_require__.d(__webpack_exports__,"M",(function(){return isNullableType})),__webpack_require__.d(__webpack_exports__,"t",(function(){return assertNullableType})),__webpack_require__.d(__webpack_exports__,"B",(function(){return getNullableType})),__webpack_require__.d(__webpack_exports__,"K",(function(){return isNamedType})),__webpack_require__.d(__webpack_exports__,"r",(function(){return assertNamedType})),__webpack_require__.d(__webpack_exports__,"A",(function(){return getNamedType})),__webpack_require__.d(__webpack_exports__,"g",(function(){return definition_GraphQLScalarType})),__webpack_require__.d(__webpack_exports__,"f",(function(){return definition_GraphQLObjectType})),__webpack_require__.d(__webpack_exports__,"i",(function(){return argsToArgsConfig})),__webpack_require__.d(__webpack_exports__,"P",(function(){return isRequiredArgument})),__webpack_require__.d(__webpack_exports__,"c",(function(){return definition_GraphQLInterfaceType})),__webpack_require__.d(__webpack_exports__,"h",(function(){return definition_GraphQLUnionType})),__webpack_require__.d(__webpack_exports__,"a",(function(){return definition_GraphQLEnumType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return definition_GraphQLInputObjectType})),__webpack_require__.d(__webpack_exports__,"Q",(function(){return isRequiredInputField}));var objectEntries=__webpack_require__(30),inspect=__webpack_require__(2),keyMap=__webpack_require__(18),mapValue=__webpack_require__(37),toObjMap=__webpack_require__(22),devAssert=__webpack_require__(5),keyValMap=__webpack_require__(14),instanceOf=__webpack_require__(31),isObjectLike=__webpack_require__(12);function identityFunc(x){return x}var defineToJSON=__webpack_require__(26),defineToStringTag=__webpack_require__(25),kinds=__webpack_require__(1),valueFromASTUntyped=__webpack_require__(219);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function isType(type){return isScalarType(type)||isObjectType(type)||isInterfaceType(type)||isUnionType(type)||isEnumType(type)||isInputObjectType(type)||isListType(type)||isNonNullType(type)}function assertType(type){if(!isType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL type."));return type}function isScalarType(type){return Object(instanceOf.a)(type,definition_GraphQLScalarType)}function assertScalarType(type){if(!isScalarType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Scalar type."));return type}function isObjectType(type){return Object(instanceOf.a)(type,definition_GraphQLObjectType)}function assertObjectType(type){if(!isObjectType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Object type."));return type}function isInterfaceType(type){return Object(instanceOf.a)(type,definition_GraphQLInterfaceType)}function assertInterfaceType(type){if(!isInterfaceType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Interface type."));return type}function isUnionType(type){return Object(instanceOf.a)(type,definition_GraphQLUnionType)}function assertUnionType(type){if(!isUnionType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Union type."));return type}function isEnumType(type){return Object(instanceOf.a)(type,definition_GraphQLEnumType)}function assertEnumType(type){if(!isEnumType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Enum type."));return type}function isInputObjectType(type){return Object(instanceOf.a)(type,definition_GraphQLInputObjectType)}function assertInputObjectType(type){if(!isInputObjectType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Input Object type."));return type}function isListType(type){return Object(instanceOf.a)(type,GraphQLList)}function assertListType(type){if(!isListType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL List type."));return type}function isNonNullType(type){return Object(instanceOf.a)(type,GraphQLNonNull)}function assertNonNullType(type){if(!isNonNullType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL Non-Null type."));return type}function isInputType(type){return isScalarType(type)||isEnumType(type)||isInputObjectType(type)||isWrappingType(type)&&isInputType(type.ofType)}function assertInputType(type){if(!isInputType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL input type."));return type}function isOutputType(type){return isScalarType(type)||isObjectType(type)||isInterfaceType(type)||isUnionType(type)||isEnumType(type)||isWrappingType(type)&&isOutputType(type.ofType)}function assertOutputType(type){if(!isOutputType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL output type."));return type}function isLeafType(type){return isScalarType(type)||isEnumType(type)}function assertLeafType(type){if(!isLeafType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL leaf type."));return type}function isCompositeType(type){return isObjectType(type)||isInterfaceType(type)||isUnionType(type)}function assertCompositeType(type){if(!isCompositeType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL composite type."));return type}function isAbstractType(type){return isInterfaceType(type)||isUnionType(type)}function assertAbstractType(type){if(!isAbstractType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL abstract type."));return type}function GraphQLList(ofType){if(!(this instanceof GraphQLList))return new GraphQLList(ofType);this.ofType=assertType(ofType)}function GraphQLNonNull(ofType){if(!(this instanceof GraphQLNonNull))return new GraphQLNonNull(ofType);this.ofType=assertNullableType(ofType)}function isWrappingType(type){return isListType(type)||isNonNullType(type)}function assertWrappingType(type){if(!isWrappingType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL wrapping type."));return type}function isNullableType(type){return isType(type)&&!isNonNullType(type)}function assertNullableType(type){if(!isNullableType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL nullable type."));return type}function getNullableType(type){if(type)return isNonNullType(type)?type.ofType:type}function isNamedType(type){return isScalarType(type)||isObjectType(type)||isInterfaceType(type)||isUnionType(type)||isEnumType(type)||isInputObjectType(type)}function assertNamedType(type){if(!isNamedType(type))throw new Error("Expected ".concat(Object(inspect.a)(type)," to be a GraphQL named type."));return type}function getNamedType(type){if(type){for(var unwrappedType=type;isWrappingType(unwrappedType);)unwrappedType=unwrappedType.ofType;return unwrappedType}}function resolveThunk(thunk){return"function"==typeof thunk?thunk():thunk}function undefineIfEmpty(arr){return arr&&arr.length>0?arr:void 0}GraphQLList.prototype.toString=function(){return"["+String(this.ofType)+"]"},Object(defineToStringTag.a)(GraphQLList),Object(defineToJSON.a)(GraphQLList),GraphQLNonNull.prototype.toString=function(){return String(this.ofType)+"!"},Object(defineToStringTag.a)(GraphQLNonNull),Object(defineToJSON.a)(GraphQLNonNull);var definition_GraphQLScalarType=function(){function GraphQLScalarType(config){var parseValue=config.parseValue||identityFunc;this.name=config.name,this.description=config.description,this.serialize=config.serialize||identityFunc,this.parseValue=parseValue,this.parseLiteral=config.parseLiteral||function(node){return parseValue(Object(valueFromASTUntyped.a)(node))},this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=undefineIfEmpty(config.extensionASTNodes),"string"==typeof config.name||Object(devAssert.a)(0,"Must provide name."),null==config.serialize||"function"==typeof config.serialize||Object(devAssert.a)(0,"".concat(this.name,' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.')),config.parseLiteral&&("function"==typeof config.parseValue&&"function"==typeof config.parseLiteral||Object(devAssert.a)(0,"".concat(this.name,' must provide both "parseValue" and "parseLiteral" functions.')))}var _proto=GraphQLScalarType.prototype;return _proto.toConfig=function(){return{name:this.name,description:this.description,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},_proto.toString=function(){return this.name},GraphQLScalarType}();Object(defineToStringTag.a)(definition_GraphQLScalarType),Object(defineToJSON.a)(definition_GraphQLScalarType);var definition_GraphQLObjectType=function(){function GraphQLObjectType(config){this.name=config.name,this.description=config.description,this.isTypeOf=config.isTypeOf,this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=undefineIfEmpty(config.extensionASTNodes),this._fields=defineFieldMap.bind(void 0,config),this._interfaces=defineInterfaces.bind(void 0,config),"string"==typeof config.name||Object(devAssert.a)(0,"Must provide name."),null==config.isTypeOf||"function"==typeof config.isTypeOf||Object(devAssert.a)(0,"".concat(this.name,' must provide "isTypeOf" as a function, ')+"but got: ".concat(Object(inspect.a)(config.isTypeOf),"."))}var _proto2=GraphQLObjectType.prototype;return _proto2.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},_proto2.getInterfaces=function(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces},_proto2.toConfig=function(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:fieldsToFieldsConfig(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},_proto2.toString=function(){return this.name},GraphQLObjectType}();function defineInterfaces(config){var interfaces=resolveThunk(config.interfaces)||[];return Array.isArray(interfaces)||Object(devAssert.a)(0,"".concat(config.name," interfaces must be an Array or a function which returns an Array.")),interfaces}function defineFieldMap(config){var fieldMap=resolveThunk(config.fields)||{};return isPlainObj(fieldMap)||Object(devAssert.a)(0,"".concat(config.name," fields must be an object with field names as keys or a function which returns such an object.")),Object(mapValue.a)(fieldMap,(function(fieldConfig,fieldName){isPlainObj(fieldConfig)||Object(devAssert.a)(0,"".concat(config.name,".").concat(fieldName," field config must be an object")),!("isDeprecated"in fieldConfig)||Object(devAssert.a)(0,"".concat(config.name,".").concat(fieldName,' should provide "deprecationReason" instead of "isDeprecated".')),null==fieldConfig.resolve||"function"==typeof fieldConfig.resolve||Object(devAssert.a)(0,"".concat(config.name,".").concat(fieldName," field resolver must be a function if ")+"provided, but got: ".concat(Object(inspect.a)(fieldConfig.resolve),"."));var argsConfig=fieldConfig.args||{};isPlainObj(argsConfig)||Object(devAssert.a)(0,"".concat(config.name,".").concat(fieldName," args must be an object with argument names as keys."));var args=Object(objectEntries.a)(argsConfig).map((function(_ref){var argName=_ref[0],arg=_ref[1];return{name:argName,description:void 0===arg.description?null:arg.description,type:arg.type,defaultValue:arg.defaultValue,extensions:arg.extensions&&Object(toObjMap.a)(arg.extensions),astNode:arg.astNode}}));return _objectSpread({},fieldConfig,{name:fieldName,description:fieldConfig.description,type:fieldConfig.type,args:args,resolve:fieldConfig.resolve,subscribe:fieldConfig.subscribe,isDeprecated:Boolean(fieldConfig.deprecationReason),deprecationReason:fieldConfig.deprecationReason,extensions:fieldConfig.extensions&&Object(toObjMap.a)(fieldConfig.extensions),astNode:fieldConfig.astNode})}))}function isPlainObj(obj){return Object(isObjectLike.a)(obj)&&!Array.isArray(obj)}function fieldsToFieldsConfig(fields){return Object(mapValue.a)(fields,(function(field){return{description:field.description,type:field.type,args:argsToArgsConfig(field.args),resolve:field.resolve,subscribe:field.subscribe,deprecationReason:field.deprecationReason,extensions:field.extensions,astNode:field.astNode}}))}function argsToArgsConfig(args){return Object(keyValMap.a)(args,(function(arg){return arg.name}),(function(arg){return{description:arg.description,type:arg.type,defaultValue:arg.defaultValue,extensions:arg.extensions,astNode:arg.astNode}}))}function isRequiredArgument(arg){return isNonNullType(arg.type)&&void 0===arg.defaultValue}Object(defineToStringTag.a)(definition_GraphQLObjectType),Object(defineToJSON.a)(definition_GraphQLObjectType);var definition_GraphQLInterfaceType=function(){function GraphQLInterfaceType(config){this.name=config.name,this.description=config.description,this.resolveType=config.resolveType,this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=undefineIfEmpty(config.extensionASTNodes),this._fields=defineFieldMap.bind(void 0,config),"string"==typeof config.name||Object(devAssert.a)(0,"Must provide name."),null==config.resolveType||"function"==typeof config.resolveType||Object(devAssert.a)(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(Object(inspect.a)(config.resolveType),"."))}var _proto3=GraphQLInterfaceType.prototype;return _proto3.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},_proto3.toConfig=function(){return{name:this.name,description:this.description,fields:fieldsToFieldsConfig(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},_proto3.toString=function(){return this.name},GraphQLInterfaceType}();Object(defineToStringTag.a)(definition_GraphQLInterfaceType),Object(defineToJSON.a)(definition_GraphQLInterfaceType);var definition_GraphQLUnionType=function(){function GraphQLUnionType(config){this.name=config.name,this.description=config.description,this.resolveType=config.resolveType,this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=undefineIfEmpty(config.extensionASTNodes),this._types=defineTypes.bind(void 0,config),"string"==typeof config.name||Object(devAssert.a)(0,"Must provide name."),null==config.resolveType||"function"==typeof config.resolveType||Object(devAssert.a)(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(Object(inspect.a)(config.resolveType),"."))}var _proto4=GraphQLUnionType.prototype;return _proto4.getTypes=function(){return"function"==typeof this._types&&(this._types=this._types()),this._types},_proto4.toConfig=function(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},_proto4.toString=function(){return this.name},GraphQLUnionType}();function defineTypes(config){var types=resolveThunk(config.types)||[];return Array.isArray(types)||Object(devAssert.a)(0,"Must provide Array of types or a function which returns such an array for Union ".concat(config.name,".")),types}Object(defineToStringTag.a)(definition_GraphQLUnionType),Object(defineToJSON.a)(definition_GraphQLUnionType);var definition_GraphQLEnumType=function(){function GraphQLEnumType(config){var typeName,valueMap;this.name=config.name,this.description=config.description,this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=undefineIfEmpty(config.extensionASTNodes),this._values=(typeName=this.name,isPlainObj(valueMap=config.values)||Object(devAssert.a)(0,"".concat(typeName," values must be an object with value names as keys.")),Object(objectEntries.a)(valueMap).map((function(_ref2){var valueName=_ref2[0],value=_ref2[1];return isPlainObj(value)||Object(devAssert.a)(0,"".concat(typeName,".").concat(valueName,' must refer to an object with a "value" key ')+"representing an internal value but got: ".concat(Object(inspect.a)(value),".")),!("isDeprecated"in value)||Object(devAssert.a)(0,"".concat(typeName,".").concat(valueName,' should provide "deprecationReason" instead of "isDeprecated".')),{name:valueName,description:value.description,value:"value"in value?value.value:valueName,isDeprecated:Boolean(value.deprecationReason),deprecationReason:value.deprecationReason,extensions:value.extensions&&Object(toObjMap.a)(value.extensions),astNode:value.astNode}}))),this._valueLookup=new Map(this._values.map((function(enumValue){return[enumValue.value,enumValue]}))),this._nameLookup=Object(keyMap.a)(this._values,(function(value){return value.name})),"string"==typeof config.name||Object(devAssert.a)(0,"Must provide name.")}var _proto5=GraphQLEnumType.prototype;return _proto5.getValues=function(){return this._values},_proto5.getValue=function(name){return this._nameLookup[name]},_proto5.serialize=function(value){var enumValue=this._valueLookup.get(value);if(enumValue)return enumValue.name},_proto5.parseValue=function(value){if("string"==typeof value){var enumValue=this.getValue(value);if(enumValue)return enumValue.value}},_proto5.parseLiteral=function(valueNode,_variables){if(valueNode.kind===kinds.a.ENUM){var enumValue=this.getValue(valueNode.value);if(enumValue)return enumValue.value}},_proto5.toConfig=function(){var values=Object(keyValMap.a)(this.getValues(),(function(value){return value.name}),(function(value){return{description:value.description,value:value.value,deprecationReason:value.deprecationReason,extensions:value.extensions,astNode:value.astNode}}));return{name:this.name,description:this.description,values:values,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},_proto5.toString=function(){return this.name},GraphQLEnumType}();Object(defineToStringTag.a)(definition_GraphQLEnumType),Object(defineToJSON.a)(definition_GraphQLEnumType);var definition_GraphQLInputObjectType=function(){function GraphQLInputObjectType(config){this.name=config.name,this.description=config.description,this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=undefineIfEmpty(config.extensionASTNodes),this._fields=defineInputFieldMap.bind(void 0,config),"string"==typeof config.name||Object(devAssert.a)(0,"Must provide name.")}var _proto6=GraphQLInputObjectType.prototype;return _proto6.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},_proto6.toConfig=function(){var fields=Object(mapValue.a)(this.getFields(),(function(field){return{description:field.description,type:field.type,defaultValue:field.defaultValue,extensions:field.extensions,astNode:field.astNode}}));return{name:this.name,description:this.description,fields:fields,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},_proto6.toString=function(){return this.name},GraphQLInputObjectType}();function defineInputFieldMap(config){var fieldMap=resolveThunk(config.fields)||{};return isPlainObj(fieldMap)||Object(devAssert.a)(0,"".concat(config.name," fields must be an object with field names as keys or a function which returns such an object.")),Object(mapValue.a)(fieldMap,(function(fieldConfig,fieldName){return!("resolve"in fieldConfig)||Object(devAssert.a)(0,"".concat(config.name,".").concat(fieldName," field has a resolve property, but Input Types cannot define resolvers.")),_objectSpread({},fieldConfig,{name:fieldName,description:fieldConfig.description,type:fieldConfig.type,defaultValue:fieldConfig.defaultValue,extensions:fieldConfig.extensions&&Object(toObjMap.a)(fieldConfig.extensions),astNode:fieldConfig.astNode})}))}function isRequiredInputField(field){return isNonNullType(field.type)&&void 0===field.defaultValue}Object(defineToStringTag.a)(definition_GraphQLInputObjectType),Object(defineToJSON.a)(definition_GraphQLInputObjectType)},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Kind}));var Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return inspect}));var _nodejsCustomInspectSymbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function inspect(value){return formatValue(value,[])}function formatValue(value,seenValues){switch(_typeof(value)){case"string":return JSON.stringify(value);case"function":return value.name?"[function ".concat(value.name,"]"):"[function]";case"object":return null===value?"null":function(value,previouslySeenValues){if(-1!==previouslySeenValues.indexOf(value))return"[Circular]";var seenValues=[].concat(previouslySeenValues,[value]),customInspectFn=function(object){var customInspectFn=object[String(_nodejsCustomInspectSymbol__WEBPACK_IMPORTED_MODULE_0__.a)];if("function"==typeof customInspectFn)return customInspectFn;if("function"==typeof object.inspect)return object.inspect}(value);if(void 0!==customInspectFn){var customValue=customInspectFn.call(value);if(customValue!==value)return"string"==typeof customValue?customValue:formatValue(customValue,seenValues)}else if(Array.isArray(value))return function(array,seenValues){if(0===array.length)return"[]";if(seenValues.length>2)return"[Array]";for(var len=Math.min(10,array.length),remaining=array.length-len,items=[],i=0;i<len;++i)items.push(formatValue(array[i],seenValues));1===remaining?items.push("... 1 more item"):remaining>1&&items.push("... ".concat(remaining," more items"));return"["+items.join(", ")+"]"}(value,seenValues);return function(object,seenValues){var keys=Object.keys(object);if(0===keys.length)return"{}";if(seenValues.length>2)return"["+function(object){var tag=Object.prototype.toString.call(object).replace(/^\[object /,"").replace(/]$/,"");if("Object"===tag&&"function"==typeof object.constructor){var name=object.constructor.name;if("string"==typeof name&&""!==name)return name}return tag}(object)+"]";return"{ "+keys.map((function(key){return key+": "+formatValue(object[key],seenValues)})).join(", ")+" }"}(value,seenValues)}(value,seenValues);default:return String(value)}}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GraphQLError})),__webpack_require__.d(__webpack_exports__,"b",(function(){return printError}));var _jsutils_isObjectLike__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_language_location__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_language_printLocation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60);function GraphQLError(message,nodes,source,positions,path,originalError,extensions){var _nodes=Array.isArray(nodes)?0!==nodes.length?nodes:void 0:nodes?[nodes]:void 0,_source=source;if(!_source&&_nodes){var node=_nodes[0];_source=node&&node.loc&&node.loc.source}var _locations,_positions=positions;!_positions&&_nodes&&(_positions=_nodes.reduce((function(list,node){return node.loc&&list.push(node.loc.start),list}),[])),_positions&&0===_positions.length&&(_positions=void 0),positions&&source?_locations=positions.map((function(pos){return Object(_language_location__WEBPACK_IMPORTED_MODULE_1__.a)(source,pos)})):_nodes&&(_locations=_nodes.reduce((function(list,node){return node.loc&&list.push(Object(_language_location__WEBPACK_IMPORTED_MODULE_1__.a)(node.loc.source,node.loc.start)),list}),[]));var _extensions=extensions;if(null==_extensions&&null!=originalError){var originalExtensions=originalError.extensions;Object(_jsutils_isObjectLike__WEBPACK_IMPORTED_MODULE_0__.a)(originalExtensions)&&(_extensions=originalExtensions)}Object.defineProperties(this,{message:{value:message,enumerable:!0,writable:!0},locations:{value:_locations||void 0,enumerable:Boolean(_locations)},path:{value:path||void 0,enumerable:Boolean(path)},nodes:{value:_nodes||void 0},source:{value:_source||void 0},positions:{value:_positions||void 0},originalError:{value:originalError},extensions:{value:_extensions||void 0,enumerable:Boolean(_extensions)}}),originalError&&originalError.stack?Object.defineProperty(this,"stack",{value:originalError.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function printError(error){var output=error.message;if(error.nodes)for(var _i2=0,_error$nodes2=error.nodes;_i2<_error$nodes2.length;_i2++){var node=_error$nodes2[_i2];node.loc&&(output+="\n\n"+Object(_language_printLocation__WEBPACK_IMPORTED_MODULE_2__.a)(node.loc))}else if(error.source&&error.locations)for(var _i4=0,_error$locations2=error.locations;_i4<_error$locations2.length;_i4++){var location=_error$locations2[_i4];output+="\n\n"+Object(_language_printLocation__WEBPACK_IMPORTED_MODULE_2__.b)(error.source,location)}return output}GraphQLError.prototype=Object.create(Error.prototype,{constructor:{value:GraphQLError},name:{value:"GraphQLError"},toString:{value:function(){return printError(this)}}})},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TokenKind}));var TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"})},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function devAssert(condition,message){if(!Boolean(condition))throw new Error(message)}__webpack_require__.d(__webpack_exports__,"a",(function(){return devAssert}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DirectiveLocation}));var DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"})},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var objectValues=Object.values||function(obj){return Object.keys(obj).map((function(key){return obj[key]}))};__webpack_exports__.a=objectValues},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"print",(function(){return print}));var _visitor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_blockString__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35);function print(ast){return Object(_visitor__WEBPACK_IMPORTED_MODULE_0__.c)(ast,{leave:printDocASTReducer})}var printDocASTReducer={Name:function(node){return node.value},Variable:function(node){return"$"+node.name},Document:function(node){return join(node.definitions,"\n\n")+"\n"},OperationDefinition:function(node){var op=node.operation,name=node.name,varDefs=wrap("(",join(node.variableDefinitions,", "),")"),directives=join(node.directives," "),selectionSet=node.selectionSet;return name||directives||varDefs||"query"!==op?join([op,join([name,varDefs]),directives,selectionSet]," "):selectionSet},VariableDefinition:function(_ref){var variable=_ref.variable,type=_ref.type,defaultValue=_ref.defaultValue,directives=_ref.directives;return variable+": "+type+wrap(" = ",defaultValue)+wrap(" ",join(directives," "))},SelectionSet:function(_ref2){return block(_ref2.selections)},Field:function(_ref3){var alias=_ref3.alias,name=_ref3.name,args=_ref3.arguments,directives=_ref3.directives,selectionSet=_ref3.selectionSet;return join([wrap("",alias,": ")+name+wrap("(",join(args,", "),")"),join(directives," "),selectionSet]," ")},Argument:function(_ref4){return _ref4.name+": "+_ref4.value},FragmentSpread:function(_ref5){return"..."+_ref5.name+wrap(" ",join(_ref5.directives," "))},InlineFragment:function(_ref6){var typeCondition=_ref6.typeCondition,directives=_ref6.directives,selectionSet=_ref6.selectionSet;return join(["...",wrap("on ",typeCondition),join(directives," "),selectionSet]," ")},FragmentDefinition:function(_ref7){var name=_ref7.name,typeCondition=_ref7.typeCondition,variableDefinitions=_ref7.variableDefinitions,directives=_ref7.directives,selectionSet=_ref7.selectionSet;return"fragment ".concat(name).concat(wrap("(",join(variableDefinitions,", "),")")," ")+"on ".concat(typeCondition," ").concat(wrap("",join(directives," ")," "))+selectionSet},IntValue:function(_ref8){return _ref8.value},FloatValue:function(_ref9){return _ref9.value},StringValue:function(_ref10,key){var value=_ref10.value;return _ref10.block?Object(_blockString__WEBPACK_IMPORTED_MODULE_1__.c)(value,"description"===key?"":"  "):JSON.stringify(value)},BooleanValue:function(_ref11){return _ref11.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(_ref12){return _ref12.value},ListValue:function(_ref13){return"["+join(_ref13.values,", ")+"]"},ObjectValue:function(_ref14){return"{"+join(_ref14.fields,", ")+"}"},ObjectField:function(_ref15){return _ref15.name+": "+_ref15.value},Directive:function(_ref16){return"@"+_ref16.name+wrap("(",join(_ref16.arguments,", "),")")},NamedType:function(_ref17){return _ref17.name},ListType:function(_ref18){return"["+_ref18.type+"]"},NonNullType:function(_ref19){return _ref19.type+"!"},SchemaDefinition:function(_ref20){var directives=_ref20.directives,operationTypes=_ref20.operationTypes;return join(["schema",join(directives," "),block(operationTypes)]," ")},OperationTypeDefinition:function(_ref21){return _ref21.operation+": "+_ref21.type},ScalarTypeDefinition:addDescription((function(_ref22){return join(["scalar",_ref22.name,join(_ref22.directives," ")]," ")})),ObjectTypeDefinition:addDescription((function(_ref23){var name=_ref23.name,interfaces=_ref23.interfaces,directives=_ref23.directives,fields=_ref23.fields;return join(["type",name,wrap("implements ",join(interfaces," & ")),join(directives," "),block(fields)]," ")})),FieldDefinition:addDescription((function(_ref24){var name=_ref24.name,args=_ref24.arguments,type=_ref24.type,directives=_ref24.directives;return name+(hasMultilineItems(args)?wrap("(\n",indent(join(args,"\n")),"\n)"):wrap("(",join(args,", "),")"))+": "+type+wrap(" ",join(directives," "))})),InputValueDefinition:addDescription((function(_ref25){var name=_ref25.name,type=_ref25.type,defaultValue=_ref25.defaultValue,directives=_ref25.directives;return join([name+": "+type,wrap("= ",defaultValue),join(directives," ")]," ")})),InterfaceTypeDefinition:addDescription((function(_ref26){var name=_ref26.name,directives=_ref26.directives,fields=_ref26.fields;return join(["interface",name,join(directives," "),block(fields)]," ")})),UnionTypeDefinition:addDescription((function(_ref27){var name=_ref27.name,directives=_ref27.directives,types=_ref27.types;return join(["union",name,join(directives," "),types&&0!==types.length?"= "+join(types," | "):""]," ")})),EnumTypeDefinition:addDescription((function(_ref28){var name=_ref28.name,directives=_ref28.directives,values=_ref28.values;return join(["enum",name,join(directives," "),block(values)]," ")})),EnumValueDefinition:addDescription((function(_ref29){return join([_ref29.name,join(_ref29.directives," ")]," ")})),InputObjectTypeDefinition:addDescription((function(_ref30){var name=_ref30.name,directives=_ref30.directives,fields=_ref30.fields;return join(["input",name,join(directives," "),block(fields)]," ")})),DirectiveDefinition:addDescription((function(_ref31){var name=_ref31.name,args=_ref31.arguments,repeatable=_ref31.repeatable,locations=_ref31.locations;return"directive @"+name+(hasMultilineItems(args)?wrap("(\n",indent(join(args,"\n")),"\n)"):wrap("(",join(args,", "),")"))+(repeatable?" repeatable":"")+" on "+join(locations," | ")})),SchemaExtension:function(_ref32){var directives=_ref32.directives,operationTypes=_ref32.operationTypes;return join(["extend schema",join(directives," "),block(operationTypes)]," ")},ScalarTypeExtension:function(_ref33){return join(["extend scalar",_ref33.name,join(_ref33.directives," ")]," ")},ObjectTypeExtension:function(_ref34){var name=_ref34.name,interfaces=_ref34.interfaces,directives=_ref34.directives,fields=_ref34.fields;return join(["extend type",name,wrap("implements ",join(interfaces," & ")),join(directives," "),block(fields)]," ")},InterfaceTypeExtension:function(_ref35){var name=_ref35.name,directives=_ref35.directives,fields=_ref35.fields;return join(["extend interface",name,join(directives," "),block(fields)]," ")},UnionTypeExtension:function(_ref36){var name=_ref36.name,directives=_ref36.directives,types=_ref36.types;return join(["extend union",name,join(directives," "),types&&0!==types.length?"= "+join(types," | "):""]," ")},EnumTypeExtension:function(_ref37){var name=_ref37.name,directives=_ref37.directives,values=_ref37.values;return join(["extend enum",name,join(directives," "),block(values)]," ")},InputObjectTypeExtension:function(_ref38){var name=_ref38.name,directives=_ref38.directives,fields=_ref38.fields;return join(["extend input",name,join(directives," "),block(fields)]," ")}};function addDescription(cb){return function(node){return join([node.description,cb(node)],"\n")}}function join(maybeArray,separator){return maybeArray?maybeArray.filter((function(x){return x})).join(separator||""):""}function block(array){return array&&0!==array.length?"{\n"+indent(join(array,"\n"))+"\n}":""}function wrap(start,maybeString,end){return maybeString?start+maybeString+(end||""):""}function indent(maybeString){return maybeString&&"  "+maybeString.replace(/\n/g,"\n  ")}function isMultiline(string){return-1!==string.indexOf("\n")}function hasMultilineItems(maybeArray){return maybeArray&&maybeArray.some(isMultiline)}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function invariant(condition,message){if(!Boolean(condition))throw new Error(message||"Unexpected invariant triggered")}__webpack_require__.d(__webpack_exports__,"a",(function(){return invariant}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BREAK})),__webpack_require__.d(__webpack_exports__,"c",(function(){return visit})),__webpack_require__.d(__webpack_exports__,"d",(function(){return visitInParallel})),__webpack_require__.d(__webpack_exports__,"e",(function(){return visitWithTypeInfo})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getVisitFn}));var _jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},BREAK=Object.freeze({});function visit(root,visitor){var visitorKeys=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QueryDocumentKeys,stack=void 0,inArray=Array.isArray(root),keys=[root],index=-1,edits=[],node=void 0,key=void 0,parent=void 0,path=[],ancestors=[],newRoot=root;do{var isLeaving=++index===keys.length,isEdited=isLeaving&&0!==edits.length;if(isLeaving){if(key=0===ancestors.length?void 0:path[path.length-1],node=parent,parent=ancestors.pop(),isEdited){if(inArray)node=node.slice();else{for(var clone={},_i2=0,_Object$keys2=Object.keys(node);_i2<_Object$keys2.length;_i2++){var k=_Object$keys2[_i2];clone[k]=node[k]}node=clone}for(var editOffset=0,ii=0;ii<edits.length;ii++){var editKey=edits[ii][0],editValue=edits[ii][1];inArray&&(editKey-=editOffset),inArray&&null===editValue?(node.splice(editKey,1),editOffset++):node[editKey]=editValue}}index=stack.index,keys=stack.keys,edits=stack.edits,inArray=stack.inArray,stack=stack.prev}else{if(key=parent?inArray?index:keys[index]:void 0,null==(node=parent?parent[key]:newRoot))continue;parent&&path.push(key)}var result=void 0;if(!Array.isArray(node)){if(!isNode(node))throw new Error("Invalid AST Node: "+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__.a)(node));var visitFn=getVisitFn(visitor,node.kind,isLeaving);if(visitFn){if((result=visitFn.call(visitor,node,key,parent,path,ancestors))===BREAK)break;if(!1===result){if(!isLeaving){path.pop();continue}}else if(void 0!==result&&(edits.push([key,result]),!isLeaving)){if(!isNode(result)){path.pop();continue}node=result}}}void 0===result&&isEdited&&edits.push([key,node]),isLeaving?path.pop():(stack={inArray:inArray,index:index,keys:keys,edits:edits,prev:stack},keys=(inArray=Array.isArray(node))?node:visitorKeys[node.kind]||[],index=-1,edits=[],parent&&ancestors.push(parent),parent=node)}while(void 0!==stack);return 0!==edits.length&&(newRoot=edits[edits.length-1][1]),newRoot}function isNode(maybeNode){return Boolean(maybeNode&&"string"==typeof maybeNode.kind)}function visitInParallel(visitors){var skipping=new Array(visitors.length);return{enter:function(node){for(var i=0;i<visitors.length;i++)if(!skipping[i]){var fn=getVisitFn(visitors[i],node.kind,!1);if(fn){var result=fn.apply(visitors[i],arguments);if(!1===result)skipping[i]=node;else if(result===BREAK)skipping[i]=BREAK;else if(void 0!==result)return result}}},leave:function(node){for(var i=0;i<visitors.length;i++)if(skipping[i])skipping[i]===node&&(skipping[i]=null);else{var fn=getVisitFn(visitors[i],node.kind,!0);if(fn){var result=fn.apply(visitors[i],arguments);if(result===BREAK)skipping[i]=BREAK;else if(void 0!==result&&!1!==result)return result}}}}}function visitWithTypeInfo(typeInfo,visitor){return{enter:function(node){typeInfo.enter(node);var fn=getVisitFn(visitor,node.kind,!1);if(fn){var result=fn.apply(visitor,arguments);return void 0!==result&&(typeInfo.leave(node),isNode(result)&&typeInfo.enter(result)),result}},leave:function(node){var result,fn=getVisitFn(visitor,node.kind,!0);return fn&&(result=fn.apply(visitor,arguments)),typeInfo.leave(node),result}}}function getVisitFn(visitor,kind,isLeaving){var kindVisitor=visitor[kind];if(kindVisitor){if(!isLeaving&&"function"==typeof kindVisitor)return kindVisitor;var kindSpecificVisitor=isLeaving?kindVisitor.leave:kindVisitor.enter;if("function"==typeof kindSpecificVisitor)return kindSpecificVisitor}else{var specificVisitor=isLeaving?visitor.leave:visitor.enter;if(specificVisitor){if("function"==typeof specificVisitor)return specificVisitor;var specificKindVisitor=specificVisitor[kind];if("function"==typeof specificKindVisitor)return specificKindVisitor}}}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isDefinitionNode})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isExecutableDefinitionNode})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isSelectionNode})),__webpack_require__.d(__webpack_exports__,"i",(function(){return isValueNode})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isTypeNode})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isTypeSystemDefinitionNode})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isTypeDefinitionNode})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isTypeSystemExtensionNode})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isTypeExtensionNode}));var _kinds__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function isDefinitionNode(node){return isExecutableDefinitionNode(node)||isTypeSystemDefinitionNode(node)||isTypeSystemExtensionNode(node)}function isExecutableDefinitionNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.OPERATION_DEFINITION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.FRAGMENT_DEFINITION}function isSelectionNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.FIELD||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.FRAGMENT_SPREAD||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.INLINE_FRAGMENT}function isValueNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.VARIABLE||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.INT||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.FLOAT||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.STRING||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.BOOLEAN||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.NULL||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.ENUM||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.LIST||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.OBJECT}function isTypeNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.NAMED_TYPE||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.LIST_TYPE||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.NON_NULL_TYPE}function isTypeSystemDefinitionNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.SCHEMA_DEFINITION||isTypeDefinitionNode(node)||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.DIRECTIVE_DEFINITION}function isTypeDefinitionNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.SCALAR_TYPE_DEFINITION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.OBJECT_TYPE_DEFINITION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.INTERFACE_TYPE_DEFINITION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.UNION_TYPE_DEFINITION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.ENUM_TYPE_DEFINITION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.INPUT_OBJECT_TYPE_DEFINITION}function isTypeSystemExtensionNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.SCHEMA_EXTENSION||isTypeExtensionNode(node)}function isTypeExtensionNode(node){return node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.SCALAR_TYPE_EXTENSION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.OBJECT_TYPE_EXTENSION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.INTERFACE_TYPE_EXTENSION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.UNION_TYPE_EXTENSION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.ENUM_TYPE_EXTENSION||node.kind===_kinds__WEBPACK_IMPORTED_MODULE_0__.a.INPUT_OBJECT_TYPE_EXTENSION}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function isObjectLike(value){return"object"==_typeof(value)&&null!==value}__webpack_require__.d(__webpack_exports__,"a",(function(){return isObjectLike}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"$$iterator",(function(){return $$iterator})),__webpack_require__.d(__webpack_exports__,"isIterable",(function(){return isIterable})),__webpack_require__.d(__webpack_exports__,"isArrayLike",(function(){return isArrayLike})),__webpack_require__.d(__webpack_exports__,"isCollection",(function(){return isCollection})),__webpack_require__.d(__webpack_exports__,"getIterator",(function(){return getIterator})),__webpack_require__.d(__webpack_exports__,"getIteratorMethod",(function(){return getIteratorMethod})),__webpack_require__.d(__webpack_exports__,"createIterator",(function(){return createIterator})),__webpack_require__.d(__webpack_exports__,"forEach",(function(){return forEach})),__webpack_require__.d(__webpack_exports__,"$$asyncIterator",(function(){return $$asyncIterator})),__webpack_require__.d(__webpack_exports__,"isAsyncIterable",(function(){return isAsyncIterable})),__webpack_require__.d(__webpack_exports__,"getAsyncIterator",(function(){return getAsyncIterator})),__webpack_require__.d(__webpack_exports__,"getAsyncIteratorMethod",(function(){return getAsyncIteratorMethod})),__webpack_require__.d(__webpack_exports__,"createAsyncIterator",(function(){return createAsyncIterator})),__webpack_require__.d(__webpack_exports__,"forAwaitEach",(function(){return forAwaitEach}));var SYMBOL="function"==typeof Symbol?Symbol:void 0,SYMBOL_ITERATOR=SYMBOL&&SYMBOL.iterator,$$iterator=SYMBOL_ITERATOR||"@@iterator";function isIterable(obj){return!!getIteratorMethod(obj)}function isArrayLike(obj){var length=null!=obj&&obj.length;return"number"==typeof length&&length>=0&&length%1==0}function isCollection(obj){return Object(obj)===obj&&(isArrayLike(obj)||isIterable(obj))}function getIterator(iterable){var method=getIteratorMethod(iterable);if(method)return method.call(iterable)}function getIteratorMethod(iterable){if(null!=iterable){var method=SYMBOL_ITERATOR&&iterable[SYMBOL_ITERATOR]||iterable["@@iterator"];if("function"==typeof method)return method}}function createIterator(collection){if(null!=collection){var iterator=getIterator(collection);if(iterator)return iterator;if(isArrayLike(collection))return new ArrayLikeIterator(collection)}}function ArrayLikeIterator(obj){this._o=obj,this._i=0}function forEach(collection,callback,thisArg){if(null!=collection){if("function"==typeof collection.forEach)return collection.forEach(callback,thisArg);var i=0,iterator=getIterator(collection);if(iterator){for(var step;!(step=iterator.next()).done;)if(callback.call(thisArg,step.value,i++,collection),i>9999999)throw new TypeError("Near-infinite iteration.")}else if(isArrayLike(collection))for(;i<collection.length;i++)collection.hasOwnProperty(i)&&callback.call(thisArg,collection[i],i,collection)}}ArrayLikeIterator.prototype[$$iterator]=function(){return this},ArrayLikeIterator.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var SYMBOL_ASYNC_ITERATOR=SYMBOL&&SYMBOL.asyncIterator,$$asyncIterator=SYMBOL_ASYNC_ITERATOR||"@@asyncIterator";function isAsyncIterable(obj){return!!getAsyncIteratorMethod(obj)}function getAsyncIterator(asyncIterable){var method=getAsyncIteratorMethod(asyncIterable);if(method)return method.call(asyncIterable)}function getAsyncIteratorMethod(asyncIterable){if(null!=asyncIterable){var method=SYMBOL_ASYNC_ITERATOR&&asyncIterable[SYMBOL_ASYNC_ITERATOR]||asyncIterable["@@asyncIterator"];if("function"==typeof method)return method}}function createAsyncIterator(source){if(null!=source){var asyncIterator=getAsyncIterator(source);if(asyncIterator)return asyncIterator;var iterator=createIterator(source);if(iterator)return new AsyncFromSyncIterator(iterator)}}function AsyncFromSyncIterator(iterator){this._i=iterator}function unwrapAsyncFromSync(iterator,fn,value){var step;return new Promise((function(resolve){resolve((step=iterator[fn](value)).value)})).then((function(value){return{value:value,done:step.done}}))}function forAwaitEach(source,callback,thisArg){var asyncIterator=createAsyncIterator(source);if(asyncIterator){var i=0;return new Promise((function(resolve,reject){!function next(){return asyncIterator.next().then((function(step){return step.done?resolve():Promise.resolve(callback.call(thisArg,step.value,i++,source)).then(next).catch(reject),null})).catch(reject),null}()}))}}AsyncFromSyncIterator.prototype[$$asyncIterator]=function(){return this},AsyncFromSyncIterator.prototype.next=function(value){return unwrapAsyncFromSync(this._i,"next",value)},AsyncFromSyncIterator.prototype.return=function(value){return this._i.return?unwrapAsyncFromSync(this._i,"return",value):Promise.resolve({value:value,done:!0})},AsyncFromSyncIterator.prototype.throw=function(value){return this._i.throw?unwrapAsyncFromSync(this._i,"throw",value):Promise.reject(value)}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function keyValMap(list,keyFn,valFn){return list.reduce((function(map,item){return map[keyFn(item)]=valFn(item),map}),Object.create(null))}__webpack_require__.d(__webpack_exports__,"a",(function(){return keyValMap}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function addPath(prev,key){return{prev:prev,key:key}}function pathToArray(path){for(var flattened=[],curr=path;curr;)flattened.push(curr.key),curr=curr.prev;return flattened.reverse()}__webpack_require__.d(__webpack_exports__,"a",(function(){return addPath})),__webpack_require__.d(__webpack_exports__,"b",(function(){return pathToArray}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return typeFromAST}));var _jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_jsutils_invariant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_language_kinds__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_type_definition__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);function typeFromAST(schema,typeNode){var innerType;return typeNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_2__.a.LIST_TYPE?(innerType=typeFromAST(schema,typeNode.type))&&Object(_type_definition__WEBPACK_IMPORTED_MODULE_3__.d)(innerType):typeNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_2__.a.NON_NULL_TYPE?(innerType=typeFromAST(schema,typeNode.type))&&Object(_type_definition__WEBPACK_IMPORTED_MODULE_3__.e)(innerType):typeNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_2__.a.NAMED_TYPE?schema.getType(typeNode.name.value):void Object(_jsutils_invariant__WEBPACK_IMPORTED_MODULE_1__.a)(!1,"Unexpected type node: "+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__.a)(typeNode))}},function(module,exports){module.exports=require("util")},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function keyMap(list,keyFn){return list.reduce((function(map,item){return map[keyFn(item)]=item,map}),Object.create(null))}__webpack_require__.d(__webpack_exports__,"a",(function(){return keyMap}))},function(module,exports,__webpack_require__){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?module.exports=__webpack_require__(243):module.exports=__webpack_require__(244)},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"version",(function(){return version})),__webpack_require__.d(__webpack_exports__,"versionInfo",(function(){return versionInfo})),__webpack_require__.d(__webpack_exports__,"graphql",(function(){return graphql})),__webpack_require__.d(__webpack_exports__,"graphqlSync",(function(){return graphqlSync})),__webpack_require__.d(__webpack_exports__,"GraphQLSchema",(function(){return schema_GraphQLSchema})),__webpack_require__.d(__webpack_exports__,"GraphQLDirective",(function(){return directives_GraphQLDirective})),__webpack_require__.d(__webpack_exports__,"GraphQLScalarType",(function(){return type_definition.g})),__webpack_require__.d(__webpack_exports__,"GraphQLObjectType",(function(){return type_definition.f})),__webpack_require__.d(__webpack_exports__,"GraphQLInterfaceType",(function(){return type_definition.c})),__webpack_require__.d(__webpack_exports__,"GraphQLUnionType",(function(){return type_definition.h})),__webpack_require__.d(__webpack_exports__,"GraphQLEnumType",(function(){return type_definition.a})),__webpack_require__.d(__webpack_exports__,"GraphQLInputObjectType",(function(){return type_definition.b})),__webpack_require__.d(__webpack_exports__,"GraphQLList",(function(){return type_definition.d})),__webpack_require__.d(__webpack_exports__,"GraphQLNonNull",(function(){return type_definition.e})),__webpack_require__.d(__webpack_exports__,"specifiedScalarTypes",(function(){return specifiedScalarTypes})),__webpack_require__.d(__webpack_exports__,"GraphQLInt",(function(){return GraphQLInt})),__webpack_require__.d(__webpack_exports__,"GraphQLFloat",(function(){return GraphQLFloat})),__webpack_require__.d(__webpack_exports__,"GraphQLString",(function(){return GraphQLString})),__webpack_require__.d(__webpack_exports__,"GraphQLBoolean",(function(){return GraphQLBoolean})),__webpack_require__.d(__webpack_exports__,"GraphQLID",(function(){return GraphQLID})),__webpack_require__.d(__webpack_exports__,"specifiedDirectives",(function(){return specifiedDirectives})),__webpack_require__.d(__webpack_exports__,"GraphQLIncludeDirective",(function(){return GraphQLIncludeDirective})),__webpack_require__.d(__webpack_exports__,"GraphQLSkipDirective",(function(){return GraphQLSkipDirective})),__webpack_require__.d(__webpack_exports__,"GraphQLDeprecatedDirective",(function(){return GraphQLDeprecatedDirective})),__webpack_require__.d(__webpack_exports__,"TypeKind",(function(){return TypeKind})),__webpack_require__.d(__webpack_exports__,"DEFAULT_DEPRECATION_REASON",(function(){return DEFAULT_DEPRECATION_REASON})),__webpack_require__.d(__webpack_exports__,"introspectionTypes",(function(){return introspectionTypes})),__webpack_require__.d(__webpack_exports__,"__Schema",(function(){return __Schema})),__webpack_require__.d(__webpack_exports__,"__Directive",(function(){return __Directive})),__webpack_require__.d(__webpack_exports__,"__DirectiveLocation",(function(){return __DirectiveLocation})),__webpack_require__.d(__webpack_exports__,"__Type",(function(){return __Type})),__webpack_require__.d(__webpack_exports__,"__Field",(function(){return __Field})),__webpack_require__.d(__webpack_exports__,"__InputValue",(function(){return __InputValue})),__webpack_require__.d(__webpack_exports__,"__EnumValue",(function(){return __EnumValue})),__webpack_require__.d(__webpack_exports__,"__TypeKind",(function(){return __TypeKind})),__webpack_require__.d(__webpack_exports__,"SchemaMetaFieldDef",(function(){return SchemaMetaFieldDef})),__webpack_require__.d(__webpack_exports__,"TypeMetaFieldDef",(function(){return TypeMetaFieldDef})),__webpack_require__.d(__webpack_exports__,"TypeNameMetaFieldDef",(function(){return TypeNameMetaFieldDef})),__webpack_require__.d(__webpack_exports__,"isSchema",(function(){return isSchema})),__webpack_require__.d(__webpack_exports__,"isDirective",(function(){return isDirective})),__webpack_require__.d(__webpack_exports__,"isType",(function(){return type_definition.S})),__webpack_require__.d(__webpack_exports__,"isScalarType",(function(){return type_definition.R})),__webpack_require__.d(__webpack_exports__,"isObjectType",(function(){return type_definition.N})),__webpack_require__.d(__webpack_exports__,"isInterfaceType",(function(){return type_definition.H})),__webpack_require__.d(__webpack_exports__,"isUnionType",(function(){return type_definition.T})),__webpack_require__.d(__webpack_exports__,"isEnumType",(function(){return type_definition.E})),__webpack_require__.d(__webpack_exports__,"isInputObjectType",(function(){return type_definition.F})),__webpack_require__.d(__webpack_exports__,"isListType",(function(){return type_definition.J})),__webpack_require__.d(__webpack_exports__,"isNonNullType",(function(){return type_definition.L})),__webpack_require__.d(__webpack_exports__,"isInputType",(function(){return type_definition.G})),__webpack_require__.d(__webpack_exports__,"isOutputType",(function(){return type_definition.O})),__webpack_require__.d(__webpack_exports__,"isLeafType",(function(){return type_definition.I})),__webpack_require__.d(__webpack_exports__,"isCompositeType",(function(){return type_definition.D})),__webpack_require__.d(__webpack_exports__,"isAbstractType",(function(){return type_definition.C})),__webpack_require__.d(__webpack_exports__,"isWrappingType",(function(){return type_definition.U})),__webpack_require__.d(__webpack_exports__,"isNullableType",(function(){return type_definition.M})),__webpack_require__.d(__webpack_exports__,"isNamedType",(function(){return type_definition.K})),__webpack_require__.d(__webpack_exports__,"isRequiredArgument",(function(){return type_definition.P})),__webpack_require__.d(__webpack_exports__,"isRequiredInputField",(function(){return type_definition.Q})),__webpack_require__.d(__webpack_exports__,"isSpecifiedScalarType",(function(){return isSpecifiedScalarType})),__webpack_require__.d(__webpack_exports__,"isIntrospectionType",(function(){return isIntrospectionType})),__webpack_require__.d(__webpack_exports__,"isSpecifiedDirective",(function(){return isSpecifiedDirective})),__webpack_require__.d(__webpack_exports__,"assertSchema",(function(){return assertSchema})),__webpack_require__.d(__webpack_exports__,"assertDirective",(function(){return assertDirective})),__webpack_require__.d(__webpack_exports__,"assertType",(function(){return type_definition.x})),__webpack_require__.d(__webpack_exports__,"assertScalarType",(function(){return type_definition.w})),__webpack_require__.d(__webpack_exports__,"assertObjectType",(function(){return type_definition.u})),__webpack_require__.d(__webpack_exports__,"assertInterfaceType",(function(){return type_definition.o})),__webpack_require__.d(__webpack_exports__,"assertUnionType",(function(){return type_definition.y})),__webpack_require__.d(__webpack_exports__,"assertEnumType",(function(){return type_definition.l})),__webpack_require__.d(__webpack_exports__,"assertInputObjectType",(function(){return type_definition.m})),__webpack_require__.d(__webpack_exports__,"assertListType",(function(){return type_definition.q})),__webpack_require__.d(__webpack_exports__,"assertNonNullType",(function(){return type_definition.s})),__webpack_require__.d(__webpack_exports__,"assertInputType",(function(){return type_definition.n})),__webpack_require__.d(__webpack_exports__,"assertOutputType",(function(){return type_definition.v})),__webpack_require__.d(__webpack_exports__,"assertLeafType",(function(){return type_definition.p})),__webpack_require__.d(__webpack_exports__,"assertCompositeType",(function(){return type_definition.k})),__webpack_require__.d(__webpack_exports__,"assertAbstractType",(function(){return type_definition.j})),__webpack_require__.d(__webpack_exports__,"assertWrappingType",(function(){return type_definition.z})),__webpack_require__.d(__webpack_exports__,"assertNullableType",(function(){return type_definition.t})),__webpack_require__.d(__webpack_exports__,"assertNamedType",(function(){return type_definition.r})),__webpack_require__.d(__webpack_exports__,"getNullableType",(function(){return type_definition.B})),__webpack_require__.d(__webpack_exports__,"getNamedType",(function(){return type_definition.A})),__webpack_require__.d(__webpack_exports__,"validateSchema",(function(){return validateSchema})),__webpack_require__.d(__webpack_exports__,"assertValidSchema",(function(){return assertValidSchema})),__webpack_require__.d(__webpack_exports__,"Source",(function(){return language_source.a})),__webpack_require__.d(__webpack_exports__,"getLocation",(function(){return language_location.a})),__webpack_require__.d(__webpack_exports__,"printLocation",(function(){return printLocation.a})),__webpack_require__.d(__webpack_exports__,"printSourceLocation",(function(){return printLocation.b})),__webpack_require__.d(__webpack_exports__,"createLexer",(function(){return language_lexer.a})),__webpack_require__.d(__webpack_exports__,"TokenKind",(function(){return language_tokenKind.a})),__webpack_require__.d(__webpack_exports__,"parse",(function(){return parser.a})),__webpack_require__.d(__webpack_exports__,"parseValue",(function(){return parser.c})),__webpack_require__.d(__webpack_exports__,"parseType",(function(){return parser.b})),__webpack_require__.d(__webpack_exports__,"print",(function(){return printer.print})),__webpack_require__.d(__webpack_exports__,"visit",(function(){return language_visitor.c})),__webpack_require__.d(__webpack_exports__,"visitInParallel",(function(){return language_visitor.d})),__webpack_require__.d(__webpack_exports__,"visitWithTypeInfo",(function(){return language_visitor.e})),__webpack_require__.d(__webpack_exports__,"getVisitFn",(function(){return language_visitor.b})),__webpack_require__.d(__webpack_exports__,"BREAK",(function(){return language_visitor.a})),__webpack_require__.d(__webpack_exports__,"Kind",(function(){return kinds.a})),__webpack_require__.d(__webpack_exports__,"DirectiveLocation",(function(){return directiveLocation.a})),__webpack_require__.d(__webpack_exports__,"isDefinitionNode",(function(){return predicates.a})),__webpack_require__.d(__webpack_exports__,"isExecutableDefinitionNode",(function(){return predicates.b})),__webpack_require__.d(__webpack_exports__,"isSelectionNode",(function(){return predicates.c})),__webpack_require__.d(__webpack_exports__,"isValueNode",(function(){return predicates.i})),__webpack_require__.d(__webpack_exports__,"isTypeNode",(function(){return predicates.f})),__webpack_require__.d(__webpack_exports__,"isTypeSystemDefinitionNode",(function(){return predicates.g})),__webpack_require__.d(__webpack_exports__,"isTypeDefinitionNode",(function(){return predicates.d})),__webpack_require__.d(__webpack_exports__,"isTypeSystemExtensionNode",(function(){return predicates.h})),__webpack_require__.d(__webpack_exports__,"isTypeExtensionNode",(function(){return predicates.e})),__webpack_require__.d(__webpack_exports__,"execute",(function(){return execute})),__webpack_require__.d(__webpack_exports__,"defaultFieldResolver",(function(){return execute_defaultFieldResolver})),__webpack_require__.d(__webpack_exports__,"defaultTypeResolver",(function(){return execute_defaultTypeResolver})),__webpack_require__.d(__webpack_exports__,"responsePathAsArray",(function(){return Path.b})),__webpack_require__.d(__webpack_exports__,"getDirectiveValues",(function(){return execution_values.getDirectiveValues})),__webpack_require__.d(__webpack_exports__,"subscribe",(function(){return subscribe})),__webpack_require__.d(__webpack_exports__,"createSourceEventStream",(function(){return createSourceEventStream})),__webpack_require__.d(__webpack_exports__,"validate",(function(){return validate})),__webpack_require__.d(__webpack_exports__,"ValidationContext",(function(){return ValidationContext_ValidationContext})),__webpack_require__.d(__webpack_exports__,"specifiedRules",(function(){return specifiedRules})),__webpack_require__.d(__webpack_exports__,"ExecutableDefinitionsRule",(function(){return ExecutableDefinitions})),__webpack_require__.d(__webpack_exports__,"FieldsOnCorrectTypeRule",(function(){return FieldsOnCorrectType})),__webpack_require__.d(__webpack_exports__,"FragmentsOnCompositeTypesRule",(function(){return FragmentsOnCompositeTypes})),__webpack_require__.d(__webpack_exports__,"KnownArgumentNamesRule",(function(){return KnownArgumentNames})),__webpack_require__.d(__webpack_exports__,"KnownDirectivesRule",(function(){return KnownDirectives})),__webpack_require__.d(__webpack_exports__,"KnownFragmentNamesRule",(function(){return KnownFragmentNames})),__webpack_require__.d(__webpack_exports__,"KnownTypeNamesRule",(function(){return KnownTypeNames})),__webpack_require__.d(__webpack_exports__,"LoneAnonymousOperationRule",(function(){return LoneAnonymousOperation})),__webpack_require__.d(__webpack_exports__,"NoFragmentCyclesRule",(function(){return NoFragmentCycles})),__webpack_require__.d(__webpack_exports__,"NoUndefinedVariablesRule",(function(){return NoUndefinedVariables})),__webpack_require__.d(__webpack_exports__,"NoUnusedFragmentsRule",(function(){return NoUnusedFragments})),__webpack_require__.d(__webpack_exports__,"NoUnusedVariablesRule",(function(){return NoUnusedVariables})),__webpack_require__.d(__webpack_exports__,"OverlappingFieldsCanBeMergedRule",(function(){return OverlappingFieldsCanBeMerged})),__webpack_require__.d(__webpack_exports__,"PossibleFragmentSpreadsRule",(function(){return PossibleFragmentSpreads})),__webpack_require__.d(__webpack_exports__,"ProvidedRequiredArgumentsRule",(function(){return ProvidedRequiredArguments})),__webpack_require__.d(__webpack_exports__,"ScalarLeafsRule",(function(){return ScalarLeafs})),__webpack_require__.d(__webpack_exports__,"SingleFieldSubscriptionsRule",(function(){return SingleFieldSubscriptions})),__webpack_require__.d(__webpack_exports__,"UniqueArgumentNamesRule",(function(){return UniqueArgumentNames})),__webpack_require__.d(__webpack_exports__,"UniqueDirectivesPerLocationRule",(function(){return UniqueDirectivesPerLocation})),__webpack_require__.d(__webpack_exports__,"UniqueFragmentNamesRule",(function(){return UniqueFragmentNames})),__webpack_require__.d(__webpack_exports__,"UniqueInputFieldNamesRule",(function(){return UniqueInputFieldNames})),__webpack_require__.d(__webpack_exports__,"UniqueOperationNamesRule",(function(){return UniqueOperationNames})),__webpack_require__.d(__webpack_exports__,"UniqueVariableNamesRule",(function(){return UniqueVariableNames})),__webpack_require__.d(__webpack_exports__,"ValuesOfCorrectTypeRule",(function(){return ValuesOfCorrectType})),__webpack_require__.d(__webpack_exports__,"VariablesAreInputTypesRule",(function(){return VariablesAreInputTypes})),__webpack_require__.d(__webpack_exports__,"VariablesInAllowedPositionRule",(function(){return VariablesInAllowedPosition})),__webpack_require__.d(__webpack_exports__,"LoneSchemaDefinitionRule",(function(){return LoneSchemaDefinition})),__webpack_require__.d(__webpack_exports__,"UniqueOperationTypesRule",(function(){return UniqueOperationTypes})),__webpack_require__.d(__webpack_exports__,"UniqueTypeNamesRule",(function(){return UniqueTypeNames})),__webpack_require__.d(__webpack_exports__,"UniqueEnumValueNamesRule",(function(){return UniqueEnumValueNames})),__webpack_require__.d(__webpack_exports__,"UniqueFieldDefinitionNamesRule",(function(){return UniqueFieldDefinitionNames})),__webpack_require__.d(__webpack_exports__,"UniqueDirectiveNamesRule",(function(){return UniqueDirectiveNames})),__webpack_require__.d(__webpack_exports__,"PossibleTypeExtensionsRule",(function(){return PossibleTypeExtensions})),__webpack_require__.d(__webpack_exports__,"GraphQLError",(function(){return GraphQLError.a})),__webpack_require__.d(__webpack_exports__,"syntaxError",(function(){return syntaxError.a})),__webpack_require__.d(__webpack_exports__,"locatedError",(function(){return locatedError})),__webpack_require__.d(__webpack_exports__,"printError",(function(){return GraphQLError.b})),__webpack_require__.d(__webpack_exports__,"formatError",(function(){return formatError})),__webpack_require__.d(__webpack_exports__,"getIntrospectionQuery",(function(){return getIntrospectionQuery})),__webpack_require__.d(__webpack_exports__,"introspectionQuery",(function(){return introspectionQuery})),__webpack_require__.d(__webpack_exports__,"getOperationAST",(function(){return getOperationAST.getOperationAST})),__webpack_require__.d(__webpack_exports__,"getOperationRootType",(function(){return getOperationRootType})),__webpack_require__.d(__webpack_exports__,"introspectionFromSchema",(function(){return introspectionFromSchema})),__webpack_require__.d(__webpack_exports__,"buildClientSchema",(function(){return buildClientSchema})),__webpack_require__.d(__webpack_exports__,"buildASTSchema",(function(){return buildASTSchema})),__webpack_require__.d(__webpack_exports__,"buildSchema",(function(){return buildSchema})),__webpack_require__.d(__webpack_exports__,"getDescription",(function(){return getDescription})),__webpack_require__.d(__webpack_exports__,"extendSchema",(function(){return extendSchema})),__webpack_require__.d(__webpack_exports__,"lexicographicSortSchema",(function(){return lexicographicSortSchema})),__webpack_require__.d(__webpack_exports__,"printSchema",(function(){return printSchema})),__webpack_require__.d(__webpack_exports__,"printType",(function(){return printType})),__webpack_require__.d(__webpack_exports__,"printIntrospectionSchema",(function(){return printIntrospectionSchema})),__webpack_require__.d(__webpack_exports__,"typeFromAST",(function(){return typeFromAST.a})),__webpack_require__.d(__webpack_exports__,"valueFromAST",(function(){return valueFromAST.a})),__webpack_require__.d(__webpack_exports__,"valueFromASTUntyped",(function(){return valueFromASTUntyped.a})),__webpack_require__.d(__webpack_exports__,"astFromValue",(function(){return astFromValue})),__webpack_require__.d(__webpack_exports__,"TypeInfo",(function(){return TypeInfo_TypeInfo})),__webpack_require__.d(__webpack_exports__,"coerceInputValue",(function(){return coerceInputValue.a})),__webpack_require__.d(__webpack_exports__,"coerceValue",(function(){return coerceValue})),__webpack_require__.d(__webpack_exports__,"isValidJSValue",(function(){return isValidJSValue})),__webpack_require__.d(__webpack_exports__,"isValidLiteralValue",(function(){return isValidLiteralValue})),__webpack_require__.d(__webpack_exports__,"concatAST",(function(){return concatAST})),__webpack_require__.d(__webpack_exports__,"separateOperations",(function(){return separateOperations})),__webpack_require__.d(__webpack_exports__,"stripIgnoredCharacters",(function(){return stripIgnoredCharacters})),__webpack_require__.d(__webpack_exports__,"isEqualType",(function(){return isEqualType})),__webpack_require__.d(__webpack_exports__,"isTypeSubTypeOf",(function(){return isTypeSubTypeOf})),__webpack_require__.d(__webpack_exports__,"doTypesOverlap",(function(){return doTypesOverlap})),__webpack_require__.d(__webpack_exports__,"assertValidName",(function(){return assertValidName})),__webpack_require__.d(__webpack_exports__,"isValidNameError",(function(){return isValidNameError})),__webpack_require__.d(__webpack_exports__,"BreakingChangeType",(function(){return BreakingChangeType})),__webpack_require__.d(__webpack_exports__,"DangerousChangeType",(function(){return DangerousChangeType})),__webpack_require__.d(__webpack_exports__,"findBreakingChanges",(function(){return findBreakingChanges})),__webpack_require__.d(__webpack_exports__,"findDangerousChanges",(function(){return findDangerousChanges})),__webpack_require__.d(__webpack_exports__,"findDeprecatedUsages",(function(){return findDeprecatedUsages}));var version="14.6.0",versionInfo=Object.freeze({major:14,minor:6,patch:0,preReleaseTag:null});function isPromise(value){return Boolean(value&&"function"==typeof value.then)}var parser=__webpack_require__(33),devAssert=__webpack_require__(5),GraphQLError=__webpack_require__(3),language_visitor=__webpack_require__(10),find=__webpack_require__(36),flatMapMethod=Array.prototype.flatMap,polyfills_flatMap=flatMapMethod?function(list,fn){return flatMapMethod.call(list,fn)}:function(list,fn){for(var result=[],_i2=0;_i2<list.length;_i2++){var value=fn(list[_i2]);Array.isArray(value)?result=result.concat(value):result.push(value)}return result},objectValues=__webpack_require__(7),objectEntries=__webpack_require__(30),inspect=__webpack_require__(2),NAME_RX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function assertValidName(name){var error=isValidNameError(name);if(error)throw error;return name}function isValidNameError(name,node){return"string"==typeof name||Object(devAssert.a)(0,"Expected string"),name.length>1&&"_"===name[0]&&"_"===name[1]?new GraphQLError.a('Name "'.concat(name,'" must not begin with "__", which is reserved by GraphQL introspection.'),node):NAME_RX.test(name)?void 0:new GraphQLError.a('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'.concat(name,'" does not.'),node)}var type_definition=__webpack_require__(0);function isEqualType(typeA,typeB){return typeA===typeB||(Object(type_definition.L)(typeA)&&Object(type_definition.L)(typeB)||!(!Object(type_definition.J)(typeA)||!Object(type_definition.J)(typeB)))&&isEqualType(typeA.ofType,typeB.ofType)}function isTypeSubTypeOf(schema,maybeSubType,superType){return maybeSubType===superType||(Object(type_definition.L)(superType)?!!Object(type_definition.L)(maybeSubType)&&isTypeSubTypeOf(schema,maybeSubType.ofType,superType.ofType):Object(type_definition.L)(maybeSubType)?isTypeSubTypeOf(schema,maybeSubType.ofType,superType):Object(type_definition.J)(superType)?!!Object(type_definition.J)(maybeSubType)&&isTypeSubTypeOf(schema,maybeSubType.ofType,superType.ofType):!Object(type_definition.J)(maybeSubType)&&!!(Object(type_definition.C)(superType)&&Object(type_definition.N)(maybeSubType)&&schema.isPossibleType(superType,maybeSubType)))}function doTypesOverlap(schema,typeA,typeB){return typeA===typeB||(Object(type_definition.C)(typeA)?Object(type_definition.C)(typeB)?schema.getPossibleTypes(typeA).some((function(type){return schema.isPossibleType(typeB,type)})):schema.isPossibleType(typeA,typeB):!!Object(type_definition.C)(typeB)&&schema.isPossibleType(typeB,typeA))}var toObjMap=__webpack_require__(22),instanceOf=__webpack_require__(31),defineToJSON=__webpack_require__(26),isObjectLike=__webpack_require__(12),defineToStringTag=__webpack_require__(25),directiveLocation=__webpack_require__(6),polyfills_isFinite=Number.isFinite||function(value){return"number"==typeof value&&isFinite(value)},polyfills_isInteger=Number.isInteger||function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value},kinds=__webpack_require__(1);var GraphQLInt=new type_definition.g({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize:function(value){if("boolean"==typeof value)return value?1:0;var num=value;if("string"==typeof value&&""!==value&&(num=Number(value)),!polyfills_isInteger(num))throw new TypeError("Int cannot represent non-integer value: ".concat(Object(inspect.a)(value)));if(num>2147483647||num<-2147483648)throw new TypeError("Int cannot represent non 32-bit signed integer value: ".concat(Object(inspect.a)(value)));return num},parseValue:function(value){if(!polyfills_isInteger(value))throw new TypeError("Int cannot represent non-integer value: ".concat(Object(inspect.a)(value)));if(value>2147483647||value<-2147483648)throw new TypeError("Int cannot represent non 32-bit signed integer value: ".concat(Object(inspect.a)(value)));return value},parseLiteral:function(ast){if(ast.kind===kinds.a.INT){var num=parseInt(ast.value,10);if(num<=2147483647&&num>=-2147483648)return num}}});var GraphQLFloat=new type_definition.g({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize:function(value){if("boolean"==typeof value)return value?1:0;var num=value;if("string"==typeof value&&""!==value&&(num=Number(value)),!polyfills_isFinite(num))throw new TypeError("Float cannot represent non numeric value: ".concat(Object(inspect.a)(value)));return num},parseValue:function(value){if(!polyfills_isFinite(value))throw new TypeError("Float cannot represent non numeric value: ".concat(Object(inspect.a)(value)));return value},parseLiteral:function(ast){return ast.kind===kinds.a.FLOAT||ast.kind===kinds.a.INT?parseFloat(ast.value):void 0}});function serializeObject(value){if(Object(isObjectLike.a)(value)){if("function"==typeof value.valueOf){var valueOfResult=value.valueOf();if(!Object(isObjectLike.a)(valueOfResult))return valueOfResult}if("function"==typeof value.toJSON)return value.toJSON()}return value}var GraphQLString=new type_definition.g({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:function(rawValue){var value=serializeObject(rawValue);if("string"==typeof value)return value;if("boolean"==typeof value)return value?"true":"false";if(polyfills_isFinite(value))return value.toString();throw new TypeError("String cannot represent value: ".concat(Object(inspect.a)(rawValue)))},parseValue:function(value){if("string"!=typeof value)throw new TypeError("String cannot represent a non string value: ".concat(Object(inspect.a)(value)));return value},parseLiteral:function(ast){return ast.kind===kinds.a.STRING?ast.value:void 0}});var GraphQLBoolean=new type_definition.g({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:function(value){if("boolean"==typeof value)return value;if(polyfills_isFinite(value))return 0!==value;throw new TypeError("Boolean cannot represent a non boolean value: ".concat(Object(inspect.a)(value)))},parseValue:function(value){if("boolean"!=typeof value)throw new TypeError("Boolean cannot represent a non boolean value: ".concat(Object(inspect.a)(value)));return value},parseLiteral:function(ast){return ast.kind===kinds.a.BOOLEAN?ast.value:void 0}});var GraphQLID=new type_definition.g({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:function(rawValue){var value=serializeObject(rawValue);if("string"==typeof value)return value;if(polyfills_isInteger(value))return String(value);throw new TypeError("ID cannot represent value: ".concat(Object(inspect.a)(rawValue)))},parseValue:function(value){if("string"==typeof value)return value;if(polyfills_isInteger(value))return value.toString();throw new TypeError("ID cannot represent value: ".concat(Object(inspect.a)(value)))},parseLiteral:function(ast){return ast.kind===kinds.a.STRING||ast.kind===kinds.a.INT?ast.value:void 0}}),specifiedScalarTypes=Object.freeze([GraphQLString,GraphQLInt,GraphQLFloat,GraphQLBoolean,GraphQLID]);function isSpecifiedScalarType(type){return Object(type_definition.R)(type)&&specifiedScalarTypes.some((function(_ref){var name=_ref.name;return type.name===name}))}function isDirective(directive){return Object(instanceOf.a)(directive,directives_GraphQLDirective)}function assertDirective(directive){if(!isDirective(directive))throw new Error("Expected ".concat(Object(inspect.a)(directive)," to be a GraphQL directive."));return directive}var directives_GraphQLDirective=function(){function GraphQLDirective(config){this.name=config.name,this.description=config.description,this.locations=config.locations,this.isRepeatable=null!=config.isRepeatable&&config.isRepeatable,this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,config.name||Object(devAssert.a)(0,"Directive must be named."),Array.isArray(config.locations)||Object(devAssert.a)(0,"@".concat(config.name," locations must be an Array."));var args=config.args||{};Object(isObjectLike.a)(args)&&!Array.isArray(args)||Object(devAssert.a)(0,"@".concat(config.name," args must be an object with argument names as keys.")),this.args=Object(objectEntries.a)(args).map((function(_ref){var argName=_ref[0],arg=_ref[1];return{name:argName,description:void 0===arg.description?null:arg.description,type:arg.type,defaultValue:arg.defaultValue,extensions:arg.extensions&&Object(toObjMap.a)(arg.extensions),astNode:arg.astNode}}))}var _proto=GraphQLDirective.prototype;return _proto.toString=function(){return"@"+this.name},_proto.toConfig=function(){return{name:this.name,description:this.description,locations:this.locations,args:Object(type_definition.i)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}},GraphQLDirective}();Object(defineToStringTag.a)(directives_GraphQLDirective),Object(defineToJSON.a)(directives_GraphQLDirective);var GraphQLIncludeDirective=new directives_GraphQLDirective({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[directiveLocation.a.FIELD,directiveLocation.a.FRAGMENT_SPREAD,directiveLocation.a.INLINE_FRAGMENT],args:{if:{type:Object(type_definition.e)(GraphQLBoolean),description:"Included when true."}}}),GraphQLSkipDirective=new directives_GraphQLDirective({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[directiveLocation.a.FIELD,directiveLocation.a.FRAGMENT_SPREAD,directiveLocation.a.INLINE_FRAGMENT],args:{if:{type:Object(type_definition.e)(GraphQLBoolean),description:"Skipped when true."}}}),DEFAULT_DEPRECATION_REASON="No longer supported",GraphQLDeprecatedDirective=new directives_GraphQLDirective({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[directiveLocation.a.FIELD_DEFINITION,directiveLocation.a.ENUM_VALUE],args:{reason:{type:GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax (as specified by [CommonMark](https://commonmark.org/).",defaultValue:DEFAULT_DEPRECATION_REASON}}}),specifiedDirectives=Object.freeze([GraphQLIncludeDirective,GraphQLSkipDirective,GraphQLDeprecatedDirective]);function isSpecifiedDirective(directive){return isDirective(directive)&&specifiedDirectives.some((function(_ref2){return _ref2.name===directive.name}))}var invariant=__webpack_require__(9),printer=__webpack_require__(8),iterall=__webpack_require__(13);function isNullish(value){return null==value||value!=value}var isInvalid=__webpack_require__(24);function astFromValue(value,type){if(Object(type_definition.L)(type)){var astValue=astFromValue(value,type.ofType);return astValue&&astValue.kind===kinds.a.NULL?null:astValue}if(null===value)return{kind:kinds.a.NULL};if(Object(isInvalid.a)(value))return null;if(Object(type_definition.J)(type)){var itemType=type.ofType;if(Object(iterall.isCollection)(value)){var valuesNodes=[];return Object(iterall.forEach)(value,(function(item){var itemNode=astFromValue(item,itemType);itemNode&&valuesNodes.push(itemNode)})),{kind:kinds.a.LIST,values:valuesNodes}}return astFromValue(value,itemType)}if(Object(type_definition.F)(type)){if(!Object(isObjectLike.a)(value))return null;for(var fieldNodes=[],_i2=0,_objectValues2=Object(objectValues.a)(type.getFields());_i2<_objectValues2.length;_i2++){var field=_objectValues2[_i2],fieldValue=astFromValue(value[field.name],field.type);fieldValue&&fieldNodes.push({kind:kinds.a.OBJECT_FIELD,name:{kind:kinds.a.NAME,value:field.name},value:fieldValue})}return{kind:kinds.a.OBJECT,fields:fieldNodes}}if(Object(type_definition.I)(type)){var serialized=type.serialize(value);if(isNullish(serialized))return null;if("boolean"==typeof serialized)return{kind:kinds.a.BOOLEAN,value:serialized};if("number"==typeof serialized){var stringNum=String(serialized);return integerStringRegExp.test(stringNum)?{kind:kinds.a.INT,value:stringNum}:{kind:kinds.a.FLOAT,value:stringNum}}if("string"==typeof serialized)return Object(type_definition.E)(type)?{kind:kinds.a.ENUM,value:serialized}:type===GraphQLID&&integerStringRegExp.test(serialized)?{kind:kinds.a.INT,value:serialized}:{kind:kinds.a.STRING,value:serialized};throw new TypeError("Cannot convert value to AST: ".concat(Object(inspect.a)(serialized)))}Object(invariant.a)(!1,"Unexpected input type: "+Object(inspect.a)(type))}var integerStringRegExp=/^-?(?:0|[1-9][0-9]*)$/,__Schema=new type_definition.f({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:Object(type_definition.e)(Object(type_definition.d)(Object(type_definition.e)(__Type))),resolve:function(schema){return Object(objectValues.a)(schema.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:Object(type_definition.e)(__Type),resolve:function(schema){return schema.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:__Type,resolve:function(schema){return schema.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:__Type,resolve:function(schema){return schema.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:Object(type_definition.e)(Object(type_definition.d)(Object(type_definition.e)(__Directive))),resolve:function(schema){return schema.getDirectives()}}}}}),__Directive=new type_definition.f({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:Object(type_definition.e)(GraphQLString),resolve:function(obj){return obj.name}},description:{type:GraphQLString,resolve:function(obj){return obj.description}},locations:{type:Object(type_definition.e)(Object(type_definition.d)(Object(type_definition.e)(__DirectiveLocation))),resolve:function(obj){return obj.locations}},args:{type:Object(type_definition.e)(Object(type_definition.d)(Object(type_definition.e)(__InputValue))),resolve:function(directive){return directive.args}}}}}),__DirectiveLocation=new type_definition.a({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:directiveLocation.a.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:directiveLocation.a.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:directiveLocation.a.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:directiveLocation.a.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:directiveLocation.a.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:directiveLocation.a.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:directiveLocation.a.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:directiveLocation.a.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:directiveLocation.a.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:directiveLocation.a.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:directiveLocation.a.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:directiveLocation.a.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:directiveLocation.a.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:directiveLocation.a.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:directiveLocation.a.UNION,description:"Location adjacent to a union definition."},ENUM:{value:directiveLocation.a.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:directiveLocation.a.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:directiveLocation.a.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:directiveLocation.a.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),__Type=new type_definition.f({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:Object(type_definition.e)(__TypeKind),resolve:function(type){return Object(type_definition.R)(type)?TypeKind.SCALAR:Object(type_definition.N)(type)?TypeKind.OBJECT:Object(type_definition.H)(type)?TypeKind.INTERFACE:Object(type_definition.T)(type)?TypeKind.UNION:Object(type_definition.E)(type)?TypeKind.ENUM:Object(type_definition.F)(type)?TypeKind.INPUT_OBJECT:Object(type_definition.J)(type)?TypeKind.LIST:Object(type_definition.L)(type)?TypeKind.NON_NULL:void Object(invariant.a)(!1,'Unexpected type: "'.concat(Object(inspect.a)(type),'".'))}},name:{type:GraphQLString,resolve:function(obj){return void 0!==obj.name?obj.name:void 0}},description:{type:GraphQLString,resolve:function(obj){return void 0!==obj.description?obj.description:void 0}},fields:{type:Object(type_definition.d)(Object(type_definition.e)(__Field)),args:{includeDeprecated:{type:GraphQLBoolean,defaultValue:!1}},resolve:function(type,_ref){var includeDeprecated=_ref.includeDeprecated;if(Object(type_definition.N)(type)||Object(type_definition.H)(type)){var fields=Object(objectValues.a)(type.getFields());return includeDeprecated||(fields=fields.filter((function(field){return!field.deprecationReason}))),fields}return null}},interfaces:{type:Object(type_definition.d)(Object(type_definition.e)(__Type)),resolve:function(type){if(Object(type_definition.N)(type))return type.getInterfaces()}},possibleTypes:{type:Object(type_definition.d)(Object(type_definition.e)(__Type)),resolve:function(type,args,context,_ref2){var schema=_ref2.schema;if(Object(type_definition.C)(type))return schema.getPossibleTypes(type)}},enumValues:{type:Object(type_definition.d)(Object(type_definition.e)(__EnumValue)),args:{includeDeprecated:{type:GraphQLBoolean,defaultValue:!1}},resolve:function(type,_ref3){var includeDeprecated=_ref3.includeDeprecated;if(Object(type_definition.E)(type)){var values=type.getValues();return includeDeprecated||(values=values.filter((function(value){return!value.deprecationReason}))),values}}},inputFields:{type:Object(type_definition.d)(Object(type_definition.e)(__InputValue)),resolve:function(type){if(Object(type_definition.F)(type))return Object(objectValues.a)(type.getFields())}},ofType:{type:__Type,resolve:function(obj){return void 0!==obj.ofType?obj.ofType:void 0}}}}}),__Field=new type_definition.f({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:Object(type_definition.e)(GraphQLString),resolve:function(obj){return obj.name}},description:{type:GraphQLString,resolve:function(obj){return obj.description}},args:{type:Object(type_definition.e)(Object(type_definition.d)(Object(type_definition.e)(__InputValue))),resolve:function(field){return field.args}},type:{type:Object(type_definition.e)(__Type),resolve:function(obj){return obj.type}},isDeprecated:{type:Object(type_definition.e)(GraphQLBoolean),resolve:function(obj){return obj.isDeprecated}},deprecationReason:{type:GraphQLString,resolve:function(obj){return obj.deprecationReason}}}}}),__InputValue=new type_definition.f({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:Object(type_definition.e)(GraphQLString),resolve:function(obj){return obj.name}},description:{type:GraphQLString,resolve:function(obj){return obj.description}},type:{type:Object(type_definition.e)(__Type),resolve:function(obj){return obj.type}},defaultValue:{type:GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(inputVal){var valueAST=astFromValue(inputVal.defaultValue,inputVal.type);return valueAST?Object(printer.print)(valueAST):null}}}}}),__EnumValue=new type_definition.f({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:Object(type_definition.e)(GraphQLString),resolve:function(obj){return obj.name}},description:{type:GraphQLString,resolve:function(obj){return obj.description}},isDeprecated:{type:Object(type_definition.e)(GraphQLBoolean),resolve:function(obj){return obj.isDeprecated}},deprecationReason:{type:GraphQLString,resolve:function(obj){return obj.deprecationReason}}}}}),TypeKind=Object.freeze({SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"}),__TypeKind=new type_definition.a({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:TypeKind.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:TypeKind.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:TypeKind.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:TypeKind.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:TypeKind.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:TypeKind.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:TypeKind.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:TypeKind.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),SchemaMetaFieldDef={name:"__schema",type:Object(type_definition.e)(__Schema),description:"Access the current type schema of this server.",args:[],resolve:function(source,args,context,_ref4){return _ref4.schema},deprecationReason:void 0,extensions:void 0,astNode:void 0},TypeMetaFieldDef={name:"__type",type:__Type,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:Object(type_definition.e)(GraphQLString),defaultValue:void 0,extensions:void 0,astNode:void 0}],resolve:function(source,_ref5,context,_ref6){var name=_ref5.name;return _ref6.schema.getType(name)},deprecationReason:void 0,extensions:void 0,astNode:void 0},TypeNameMetaFieldDef={name:"__typename",type:Object(type_definition.e)(GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(source,args,context,_ref7){return _ref7.parentType.name},deprecationReason:void 0,extensions:void 0,astNode:void 0},introspectionTypes=Object.freeze([__Schema,__Directive,__DirectiveLocation,__Type,__Field,__InputValue,__EnumValue,__TypeKind]);function isIntrospectionType(type){return Object(type_definition.K)(type)&&introspectionTypes.some((function(_ref8){var name=_ref8.name;return type.name===name}))}function isSchema(schema){return Object(instanceOf.a)(schema,schema_GraphQLSchema)}function assertSchema(schema){if(!isSchema(schema))throw new Error("Expected ".concat(Object(inspect.a)(schema)," to be a GraphQL schema."));return schema}var schema_GraphQLSchema=function(){function GraphQLSchema(config){config&&config.assumeValid?this.__validationErrors=[]:(this.__validationErrors=void 0,Object(isObjectLike.a)(config)||Object(devAssert.a)(0,"Must provide configuration object."),!config.types||Array.isArray(config.types)||Object(devAssert.a)(0,'"types" must be Array if provided but got: '.concat(Object(inspect.a)(config.types),".")),!config.directives||Array.isArray(config.directives)||Object(devAssert.a)(0,'"directives" must be Array if provided but got: '+"".concat(Object(inspect.a)(config.directives),".")),!config.allowedLegacyNames||Array.isArray(config.allowedLegacyNames)||Object(devAssert.a)(0,'"allowedLegacyNames" must be Array if provided but got: '+"".concat(Object(inspect.a)(config.allowedLegacyNames),"."))),this.extensions=config.extensions&&Object(toObjMap.a)(config.extensions),this.astNode=config.astNode,this.extensionASTNodes=config.extensionASTNodes,this.__allowedLegacyNames=config.allowedLegacyNames||[],this._queryType=config.query,this._mutationType=config.mutation,this._subscriptionType=config.subscription,this._directives=config.directives||specifiedDirectives;var initialTypes=[this._queryType,this._mutationType,this._subscriptionType,__Schema].concat(config.types),typeMap=Object.create(null);typeMap=initialTypes.reduce(typeMapReducer,typeMap),typeMap=this._directives.reduce(typeMapDirectiveReducer,typeMap),this._typeMap=typeMap,this._possibleTypeMap=Object.create(null),this._implementations=Object.create(null);for(var _i2=0,_objectValues2=Object(objectValues.a)(this._typeMap);_i2<_objectValues2.length;_i2++){var type=_objectValues2[_i2];if(Object(type_definition.N)(type))for(var _i4=0,_type$getInterfaces2=type.getInterfaces();_i4<_type$getInterfaces2.length;_i4++){var iface=_type$getInterfaces2[_i4];if(Object(type_definition.H)(iface)){var impls=this._implementations[iface.name];impls?impls.push(type):this._implementations[iface.name]=[type]}}}}var _proto=GraphQLSchema.prototype;return _proto.getQueryType=function(){return this._queryType},_proto.getMutationType=function(){return this._mutationType},_proto.getSubscriptionType=function(){return this._subscriptionType},_proto.getTypeMap=function(){return this._typeMap},_proto.getType=function(name){return this.getTypeMap()[name]},_proto.getPossibleTypes=function(abstractType){return Object(type_definition.T)(abstractType)?abstractType.getTypes():this._implementations[abstractType.name]||[]},_proto.isPossibleType=function(abstractType,possibleType){if(null==this._possibleTypeMap[abstractType.name]){for(var map=Object.create(null),_i6=0,_this$getPossibleType2=this.getPossibleTypes(abstractType);_i6<_this$getPossibleType2.length;_i6++){map[_this$getPossibleType2[_i6].name]=!0}this._possibleTypeMap[abstractType.name]=map}return Boolean(this._possibleTypeMap[abstractType.name][possibleType.name])},_proto.getDirectives=function(){return this._directives},_proto.getDirective=function(name){return Object(find.a)(this.getDirectives(),(function(directive){return directive.name===name}))},_proto.toConfig=function(){return{query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object(objectValues.a)(this.getTypeMap()),directives:this.getDirectives().slice(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[],assumeValid:void 0!==this.__validationErrors,allowedLegacyNames:this.__allowedLegacyNames}},GraphQLSchema}();function typeMapReducer(map,type){if(!type)return map;var namedType=Object(type_definition.A)(type),seenType=map[namedType.name];if(seenType){if(seenType!==namedType)throw new Error('Schema must contain uniquely named types but contains multiple types named "'.concat(namedType.name,'".'));return map}map[namedType.name]=namedType;var reducedMap=map;if(Object(type_definition.T)(namedType)&&(reducedMap=namedType.getTypes().reduce(typeMapReducer,reducedMap)),Object(type_definition.N)(namedType)&&(reducedMap=namedType.getInterfaces().reduce(typeMapReducer,reducedMap)),Object(type_definition.N)(namedType)||Object(type_definition.H)(namedType))for(var _i8=0,_objectValues4=Object(objectValues.a)(namedType.getFields());_i8<_objectValues4.length;_i8++){var field=_objectValues4[_i8];reducedMap=typeMapReducer(reducedMap=field.args.map((function(arg){return arg.type})).reduce(typeMapReducer,reducedMap),field.type)}if(Object(type_definition.F)(namedType))for(var _i10=0,_objectValues6=Object(objectValues.a)(namedType.getFields());_i10<_objectValues6.length;_i10++){reducedMap=typeMapReducer(reducedMap,_objectValues6[_i10].type)}return reducedMap}function typeMapDirectiveReducer(map,directive){return isDirective(directive)?directive.args.reduce((function(_map,arg){return typeMapReducer(_map,arg.type)}),map):map}function validateSchema(schema){if(assertSchema(schema),schema.__validationErrors)return schema.__validationErrors;var context=new validate_SchemaValidationContext(schema);!function(context){var schema=context.schema,queryType=schema.getQueryType();queryType?Object(type_definition.N)(queryType)||context.reportError("Query root type must be Object type, it cannot be ".concat(Object(inspect.a)(queryType),"."),getOperationTypeNode(schema,queryType,"query")):context.reportError("Query root type must be provided.",schema.astNode);var mutationType=schema.getMutationType();mutationType&&!Object(type_definition.N)(mutationType)&&context.reportError("Mutation root type must be Object type if provided, it cannot be "+"".concat(Object(inspect.a)(mutationType),"."),getOperationTypeNode(schema,mutationType,"mutation"));var subscriptionType=schema.getSubscriptionType();subscriptionType&&!Object(type_definition.N)(subscriptionType)&&context.reportError("Subscription root type must be Object type if provided, it cannot be "+"".concat(Object(inspect.a)(subscriptionType),"."),getOperationTypeNode(schema,subscriptionType,"subscription"))}(context),function(context){for(var _i4=0,_context$schema$getDi2=context.schema.getDirectives();_i4<_context$schema$getDi2.length;_i4++){var directive=_context$schema$getDi2[_i4];if(isDirective(directive)){validateName(context,directive);for(var argNames=Object.create(null),_loop=function(_i6,_directive$args2){var arg=_directive$args2[_i6],argName=arg.name;if(validateName(context,arg),argNames[argName])return context.reportError("Argument @".concat(directive.name,"(").concat(argName,":) can only be defined once."),directive.astNode&&directive.args.filter((function(_ref){return _ref.name===argName})).map((function(_ref2){return _ref2.astNode}))),"continue";argNames[argName]=!0,Object(type_definition.G)(arg.type)||context.reportError("The type of @".concat(directive.name,"(").concat(argName,":) must be Input Type ")+"but got: ".concat(Object(inspect.a)(arg.type),"."),arg.astNode)},_i6=0,_directive$args2=directive.args;_i6<_directive$args2.length;_i6++)_loop(_i6,_directive$args2)}else context.reportError("Expected directive but got: ".concat(Object(inspect.a)(directive),"."),directive&&directive.astNode)}}(context),function(context){for(var validateInputObjectCircularRefs=function(context){var visitedTypes=Object.create(null),fieldPath=[],fieldPathIndexByTypeName=Object.create(null);return function detectCycleRecursive(inputObj){if(visitedTypes[inputObj.name])return;visitedTypes[inputObj.name]=!0,fieldPathIndexByTypeName[inputObj.name]=fieldPath.length;for(var fields=Object(objectValues.a)(inputObj.getFields()),_i28=0;_i28<fields.length;_i28++){var field=fields[_i28];if(Object(type_definition.L)(field.type)&&Object(type_definition.F)(field.type.ofType)){var fieldType=field.type.ofType,cycleIndex=fieldPathIndexByTypeName[fieldType.name];if(fieldPath.push(field),void 0===cycleIndex)detectCycleRecursive(fieldType);else{var cyclePath=fieldPath.slice(cycleIndex),pathStr=cyclePath.map((function(fieldObj){return fieldObj.name})).join(".");context.reportError('Cannot reference Input Object "'.concat(fieldType.name,'" within itself through a series of non-null fields: "').concat(pathStr,'".'),cyclePath.map((function(fieldObj){return fieldObj.astNode})))}fieldPath.pop()}}fieldPathIndexByTypeName[inputObj.name]=void 0}}(context),typeMap=context.schema.getTypeMap(),_i8=0,_objectValues2=Object(objectValues.a)(typeMap);_i8<_objectValues2.length;_i8++){var type=_objectValues2[_i8];Object(type_definition.K)(type)?(isIntrospectionType(type)||validateName(context,type),Object(type_definition.N)(type)?(validateFields(context,type),validateObjectInterfaces(context,type)):Object(type_definition.H)(type)?validateFields(context,type):Object(type_definition.T)(type)?validateUnionMembers(context,type):Object(type_definition.E)(type)?validateEnumValues(context,type):Object(type_definition.F)(type)&&(validateInputFields(context,type),validateInputObjectCircularRefs(type))):context.reportError("Expected GraphQL named type but got: ".concat(Object(inspect.a)(type),"."),type&&type.astNode)}}(context);var errors=context.getErrors();return schema.__validationErrors=errors,errors}function assertValidSchema(schema){var errors=validateSchema(schema);if(0!==errors.length)throw new Error(errors.map((function(error){return error.message})).join("\n\n"))}Object(defineToStringTag.a)(schema_GraphQLSchema);var validate_SchemaValidationContext=function(){function SchemaValidationContext(schema){this._errors=[],this.schema=schema}var _proto=SchemaValidationContext.prototype;return _proto.reportError=function(message,nodes){var _nodes=Array.isArray(nodes)?nodes.filter(Boolean):nodes;this.addError(new GraphQLError.a(message,_nodes))},_proto.addError=function(error){this._errors.push(error)},_proto.getErrors=function(){return this._errors},SchemaValidationContext}();function getOperationTypeNode(schema,type,operation){for(var operationNodes=getAllSubNodes(schema,(function(node){return node.operationTypes})),_i2=0;_i2<operationNodes.length;_i2++){var node=operationNodes[_i2];if(node.operation===operation)return node.type}return type.astNode}function validateName(context,node){if(-1===context.schema.__allowedLegacyNames.indexOf(node.name)){var error=isValidNameError(node.name,node.astNode||void 0);error&&context.addError(error)}}function validateFields(context,type){var fields=Object(objectValues.a)(type.getFields());0===fields.length&&context.reportError("Type ".concat(type.name," must define one or more fields."),getAllNodes(type));for(var _i10=0;_i10<fields.length;_i10++){var field=fields[_i10];validateName(context,field),Object(type_definition.O)(field.type)||context.reportError("The type of ".concat(type.name,".").concat(field.name," must be Output Type ")+"but got: ".concat(Object(inspect.a)(field.type),"."),field.astNode&&field.astNode.type);for(var argNames=Object.create(null),_loop2=function(_i12,_field$args2){var arg=_field$args2[_i12],argName=arg.name;validateName(context,arg),argNames[argName]&&context.reportError("Field argument ".concat(type.name,".").concat(field.name,"(").concat(argName,":) can only be defined once."),field.args.filter((function(_ref3){return _ref3.name===argName})).map((function(_ref4){return _ref4.astNode}))),argNames[argName]=!0,Object(type_definition.G)(arg.type)||context.reportError("The type of ".concat(type.name,".").concat(field.name,"(").concat(argName,":) must be Input ")+"Type but got: ".concat(Object(inspect.a)(arg.type),"."),arg.astNode&&arg.astNode.type)},_i12=0,_field$args2=field.args;_i12<_field$args2.length;_i12++)_loop2(_i12,_field$args2)}}function validateObjectInterfaces(context,object){for(var implementedTypeNames=Object.create(null),_i14=0,_object$getInterfaces2=object.getInterfaces();_i14<_object$getInterfaces2.length;_i14++){var iface=_object$getInterfaces2[_i14];Object(type_definition.H)(iface)?implementedTypeNames[iface.name]?context.reportError("Type ".concat(object.name," can only implement ").concat(iface.name," once."),getAllImplementsInterfaceNodes(object,iface)):(implementedTypeNames[iface.name]=!0,validateObjectImplementsInterface(context,object,iface)):context.reportError("Type ".concat(Object(inspect.a)(object)," must only implement Interface types, ")+"it cannot implement ".concat(Object(inspect.a)(iface),"."),getAllImplementsInterfaceNodes(object,iface))}}function validateObjectImplementsInterface(context,object,iface){for(var objectFieldMap=object.getFields(),ifaceFieldMap=iface.getFields(),_i16=0,_objectEntries2=Object(objectEntries.a)(ifaceFieldMap);_i16<_objectEntries2.length;_i16++){var _ref6=_objectEntries2[_i16],fieldName=_ref6[0],ifaceField=_ref6[1],objectField=objectFieldMap[fieldName];if(objectField){isTypeSubTypeOf(context.schema,objectField.type,ifaceField.type)||context.reportError("Interface field ".concat(iface.name,".").concat(fieldName," expects type ")+"".concat(Object(inspect.a)(ifaceField.type)," but ").concat(object.name,".").concat(fieldName," ")+"is type ".concat(Object(inspect.a)(objectField.type),"."),[ifaceField.astNode&&ifaceField.astNode.type,objectField.astNode&&objectField.astNode.type]);for(var _loop3=function(_i18,_ifaceField$args2){var ifaceArg=_ifaceField$args2[_i18],argName=ifaceArg.name,objectArg=Object(find.a)(objectField.args,(function(arg){return arg.name===argName}));if(!objectArg)return context.reportError("Interface field argument ".concat(iface.name,".").concat(fieldName,"(").concat(argName,":) expected but ").concat(object.name,".").concat(fieldName," does not provide it."),[ifaceArg.astNode,objectField.astNode]),"continue";isEqualType(ifaceArg.type,objectArg.type)||context.reportError("Interface field argument ".concat(iface.name,".").concat(fieldName,"(").concat(argName,":) ")+"expects type ".concat(Object(inspect.a)(ifaceArg.type)," but ")+"".concat(object.name,".").concat(fieldName,"(").concat(argName,":) is type ")+"".concat(Object(inspect.a)(objectArg.type),"."),[ifaceArg.astNode&&ifaceArg.astNode.type,objectArg.astNode&&objectArg.astNode.type])},_i18=0,_ifaceField$args2=ifaceField.args;_i18<_ifaceField$args2.length;_i18++)_loop3(_i18,_ifaceField$args2);for(var _loop4=function(_i20,_objectField$args2){var objectArg=_objectField$args2[_i20],argName=objectArg.name;!Object(find.a)(ifaceField.args,(function(arg){return arg.name===argName}))&&Object(type_definition.P)(objectArg)&&context.reportError("Object field ".concat(object.name,".").concat(fieldName," includes required argument ").concat(argName," that is missing from the Interface field ").concat(iface.name,".").concat(fieldName,"."),[objectArg.astNode,ifaceField.astNode])},_i20=0,_objectField$args2=objectField.args;_i20<_objectField$args2.length;_i20++)_loop4(_i20,_objectField$args2)}else context.reportError("Interface field ".concat(iface.name,".").concat(fieldName," expected but ").concat(object.name," does not provide it."),[ifaceField.astNode].concat(getAllNodes(object)))}}function validateUnionMembers(context,union){var memberTypes=union.getTypes();0===memberTypes.length&&context.reportError("Union type ".concat(union.name," must define one or more member types."),getAllNodes(union));for(var includedTypeNames=Object.create(null),_i22=0;_i22<memberTypes.length;_i22++){var memberType=memberTypes[_i22];includedTypeNames[memberType.name]?context.reportError("Union type ".concat(union.name," can only include type ").concat(memberType.name," once."),getUnionMemberTypeNodes(union,memberType.name)):(includedTypeNames[memberType.name]=!0,Object(type_definition.N)(memberType)||context.reportError("Union type ".concat(union.name," can only include Object types, ")+"it cannot include ".concat(Object(inspect.a)(memberType),"."),getUnionMemberTypeNodes(union,String(memberType))))}}function validateEnumValues(context,enumType){var enumValues=enumType.getValues();0===enumValues.length&&context.reportError("Enum type ".concat(enumType.name," must define one or more values."),getAllNodes(enumType));for(var _i24=0;_i24<enumValues.length;_i24++){var enumValue=enumValues[_i24],valueName=enumValue.name;validateName(context,enumValue),"true"!==valueName&&"false"!==valueName&&"null"!==valueName||context.reportError("Enum type ".concat(enumType.name," cannot include value: ").concat(valueName,"."),enumValue.astNode)}}function validateInputFields(context,inputObj){var fields=Object(objectValues.a)(inputObj.getFields());0===fields.length&&context.reportError("Input Object type ".concat(inputObj.name," must define one or more fields."),getAllNodes(inputObj));for(var _i26=0;_i26<fields.length;_i26++){var field=fields[_i26];validateName(context,field),Object(type_definition.G)(field.type)||context.reportError("The type of ".concat(inputObj.name,".").concat(field.name," must be Input Type ")+"but got: ".concat(Object(inspect.a)(field.type),"."),field.astNode&&field.astNode.type)}}function getAllNodes(object){var astNode=object.astNode,extensionASTNodes=object.extensionASTNodes;return astNode?extensionASTNodes?[astNode].concat(extensionASTNodes):[astNode]:extensionASTNodes||[]}function getAllSubNodes(object,getter){return polyfills_flatMap(getAllNodes(object),(function(item){return getter(item)||[]}))}function getAllImplementsInterfaceNodes(type,iface){return getAllSubNodes(type,(function(typeNode){return typeNode.interfaces})).filter((function(ifaceNode){return ifaceNode.name.value===iface.name}))}function getUnionMemberTypeNodes(union,typeName){return getAllSubNodes(union,(function(unionNode){return unionNode.types})).filter((function(typeNode){return typeNode.name.value===typeName}))}var typeFromAST=__webpack_require__(16),TypeInfo_TypeInfo=function(){function TypeInfo(schema,getFieldDefFn,initialType){this._schema=schema,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=getFieldDefFn||getFieldDef,initialType&&(Object(type_definition.G)(initialType)&&this._inputTypeStack.push(initialType),Object(type_definition.D)(initialType)&&this._parentTypeStack.push(initialType),Object(type_definition.O)(initialType)&&this._typeStack.push(initialType))}var _proto=TypeInfo.prototype;return _proto.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},_proto.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},_proto.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},_proto.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},_proto.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},_proto.getDefaultValue=function(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]},_proto.getDirective=function(){return this._directive},_proto.getArgument=function(){return this._argument},_proto.getEnumValue=function(){return this._enumValue},_proto.enter=function(node){var schema=this._schema;switch(node.kind){case kinds.a.SELECTION_SET:var namedType=Object(type_definition.A)(this.getType());this._parentTypeStack.push(Object(type_definition.D)(namedType)?namedType:void 0);break;case kinds.a.FIELD:var fieldDef,fieldType,parentType=this.getParentType();parentType&&(fieldDef=this._getFieldDef(schema,parentType,node))&&(fieldType=fieldDef.type),this._fieldDefStack.push(fieldDef),this._typeStack.push(Object(type_definition.O)(fieldType)?fieldType:void 0);break;case kinds.a.DIRECTIVE:this._directive=schema.getDirective(node.name.value);break;case kinds.a.OPERATION_DEFINITION:var type;"query"===node.operation?type=schema.getQueryType():"mutation"===node.operation?type=schema.getMutationType():"subscription"===node.operation&&(type=schema.getSubscriptionType()),this._typeStack.push(Object(type_definition.N)(type)?type:void 0);break;case kinds.a.INLINE_FRAGMENT:case kinds.a.FRAGMENT_DEFINITION:var typeConditionAST=node.typeCondition,outputType=typeConditionAST?Object(typeFromAST.a)(schema,typeConditionAST):Object(type_definition.A)(this.getType());this._typeStack.push(Object(type_definition.O)(outputType)?outputType:void 0);break;case kinds.a.VARIABLE_DEFINITION:var inputType=Object(typeFromAST.a)(schema,node.type);this._inputTypeStack.push(Object(type_definition.G)(inputType)?inputType:void 0);break;case kinds.a.ARGUMENT:var argDef,argType,fieldOrDirective=this.getDirective()||this.getFieldDef();fieldOrDirective&&(argDef=Object(find.a)(fieldOrDirective.args,(function(arg){return arg.name===node.name.value})))&&(argType=argDef.type),this._argument=argDef,this._defaultValueStack.push(argDef?argDef.defaultValue:void 0),this._inputTypeStack.push(Object(type_definition.G)(argType)?argType:void 0);break;case kinds.a.LIST:var listType=Object(type_definition.B)(this.getInputType()),itemType=Object(type_definition.J)(listType)?listType.ofType:listType;this._defaultValueStack.push(void 0),this._inputTypeStack.push(Object(type_definition.G)(itemType)?itemType:void 0);break;case kinds.a.OBJECT_FIELD:var inputFieldType,inputField,objectType=Object(type_definition.A)(this.getInputType());Object(type_definition.F)(objectType)&&(inputField=objectType.getFields()[node.name.value])&&(inputFieldType=inputField.type),this._defaultValueStack.push(inputField?inputField.defaultValue:void 0),this._inputTypeStack.push(Object(type_definition.G)(inputFieldType)?inputFieldType:void 0);break;case kinds.a.ENUM:var enumValue,enumType=Object(type_definition.A)(this.getInputType());Object(type_definition.E)(enumType)&&(enumValue=enumType.getValue(node.value)),this._enumValue=enumValue}},_proto.leave=function(node){switch(node.kind){case kinds.a.SELECTION_SET:this._parentTypeStack.pop();break;case kinds.a.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case kinds.a.DIRECTIVE:this._directive=null;break;case kinds.a.OPERATION_DEFINITION:case kinds.a.INLINE_FRAGMENT:case kinds.a.FRAGMENT_DEFINITION:this._typeStack.pop();break;case kinds.a.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case kinds.a.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case kinds.a.LIST:case kinds.a.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case kinds.a.ENUM:this._enumValue=null}},TypeInfo}();function getFieldDef(schema,parentType,fieldNode){var name=fieldNode.name.value;return name===SchemaMetaFieldDef.name&&schema.getQueryType()===parentType?SchemaMetaFieldDef:name===TypeMetaFieldDef.name&&schema.getQueryType()===parentType?TypeMetaFieldDef:name===TypeNameMetaFieldDef.name&&Object(type_definition.D)(parentType)?TypeNameMetaFieldDef:Object(type_definition.N)(parentType)||Object(type_definition.H)(parentType)?parentType.getFields()[name]:void 0}var predicates=__webpack_require__(11);function ExecutableDefinitions(context){return{Document:function(node){for(var _i2=0,_node$definitions2=node.definitions;_i2<_node$definitions2.length;_i2++){var definition=_node$definitions2[_i2];Object(predicates.b)(definition)||context.reportError(new GraphQLError.a((defName=definition.kind===kinds.a.SCHEMA_DEFINITION||definition.kind===kinds.a.SCHEMA_EXTENSION?"schema":definition.name.value,"The ".concat(defName," definition is not executable.")),definition))}var defName;return!1}}}function UniqueOperationNames(context){var knownOperationNames=Object.create(null);return{OperationDefinition:function(node){var operationName=node.name;return operationName&&(knownOperationNames[operationName.value]?context.reportError(new GraphQLError.a(function(operationName){return'There can be only one operation named "'.concat(operationName,'".')}(operationName.value),[knownOperationNames[operationName.value],operationName])):knownOperationNames[operationName.value]=operationName),!1},FragmentDefinition:function(){return!1}}}function LoneAnonymousOperation(context){var operationCount=0;return{Document:function(node){operationCount=node.definitions.filter((function(definition){return definition.kind===kinds.a.OPERATION_DEFINITION})).length},OperationDefinition:function(node){!node.name&&operationCount>1&&context.reportError(new GraphQLError.a("This anonymous operation must be the only defined operation.",node))}}}function SingleFieldSubscriptions(context){return{OperationDefinition:function(node){var name;"subscription"===node.operation&&1!==node.selectionSet.selections.length&&context.reportError(new GraphQLError.a((name=node.name&&node.name.value)?'Subscription "'.concat(name,'" must select only one top level field.'):"Anonymous Subscription must select only one top level field.",node.selectionSet.selections.slice(1)))}}}var didYouMean=__webpack_require__(21),suggestionList=__webpack_require__(23);function KnownTypeNames(context){for(var schema=context.getSchema(),existingTypesMap=schema?schema.getTypeMap():Object.create(null),definedTypes=Object.create(null),_i2=0,_context$getDocument$2=context.getDocument().definitions;_i2<_context$getDocument$2.length;_i2++){var def=_context$getDocument$2[_i2];Object(predicates.d)(def)&&(definedTypes[def.name.value]=!0)}var typeNames=Object.keys(existingTypesMap).concat(Object.keys(definedTypes));return{NamedType:function(node,_1,parent,_2,ancestors){var value,typeName=node.name.value;if(!existingTypesMap[typeName]&&!definedTypes[typeName]){var definitionNode=ancestors[2]||parent,isSDL=(value=definitionNode,Boolean(value&&!Array.isArray(value)&&(Object(predicates.g)(value)||Object(predicates.h)(value))));if(isSDL&&function(typeName){return-1!==specifiedScalarsNames.indexOf(typeName)}(typeName))return;var suggestedTypes=Object(suggestionList.a)(typeName,isSDL?specifiedScalarsNames.concat(typeNames):typeNames);context.reportError(new GraphQLError.a(function(typeName,suggestedTypes){return'Unknown type "'.concat(typeName,'".')+Object(didYouMean.a)(suggestedTypes.map((function(x){return'"'.concat(x,'"')})))}(typeName,suggestedTypes),node))}}}}var specifiedScalarsNames=specifiedScalarTypes.map((function(type){return type.name}));function FragmentsOnCompositeTypes(context){return{InlineFragment:function(node){var typeCondition=node.typeCondition;if(typeCondition){var type=Object(typeFromAST.a)(context.getSchema(),typeCondition);type&&!Object(type_definition.D)(type)&&context.reportError(new GraphQLError.a(function(type){return'Fragment cannot condition on non composite type "'.concat(type,'".')}(Object(printer.print)(typeCondition)),typeCondition))}},FragmentDefinition:function(node){var type=Object(typeFromAST.a)(context.getSchema(),node.typeCondition);type&&!Object(type_definition.D)(type)&&context.reportError(new GraphQLError.a(function(fragName,type){return'Fragment "'.concat(fragName,'" cannot condition on non composite type "').concat(type,'".')}(node.name.value,Object(printer.print)(node.typeCondition)),node.typeCondition))}}}function VariablesAreInputTypes(context){return{VariableDefinition:function(node){var type=Object(typeFromAST.a)(context.getSchema(),node.type);if(type&&!Object(type_definition.G)(type)){var variableName=node.variable.name.value;context.reportError(new GraphQLError.a(function(variableName,typeName){return'Variable "$'.concat(variableName,'" cannot be non-input type "').concat(typeName,'".')}(variableName,Object(printer.print)(node.type)),node.type))}}}}function ScalarLeafs(context){return{Field:function(node){var type=context.getType(),selectionSet=node.selectionSet;type&&(Object(type_definition.I)(Object(type_definition.A)(type))?selectionSet&&context.reportError(new GraphQLError.a(function(fieldName,type){return'Field "'.concat(fieldName,'" must not have a selection since type "').concat(type,'" has no subfields.')}(node.name.value,Object(inspect.a)(type)),selectionSet)):selectionSet||context.reportError(new GraphQLError.a(function(fieldName,type){return'Field "'.concat(fieldName,'" of type "').concat(type,'" must have a selection of subfields. Did you mean "').concat(fieldName,' { ... }"?')}(node.name.value,Object(inspect.a)(type)),node)))}}}function FieldsOnCorrectType(context){return{Field:function(node){var type=context.getParentType();if(type&&!context.getFieldDef()){var schema=context.getSchema(),fieldName=node.name.value,suggestedTypeNames=function(schema,type,fieldName){if(Object(type_definition.C)(type)){for(var suggestedObjectTypes=[],interfaceUsageCount=Object.create(null),_i2=0,_schema$getPossibleTy2=schema.getPossibleTypes(type);_i2<_schema$getPossibleTy2.length;_i2++){var possibleType=_schema$getPossibleTy2[_i2];if(possibleType.getFields()[fieldName]){suggestedObjectTypes.push(possibleType.name);for(var _i4=0,_possibleType$getInte2=possibleType.getInterfaces();_i4<_possibleType$getInte2.length;_i4++){var possibleInterface=_possibleType$getInte2[_i4];possibleInterface.getFields()[fieldName]&&(interfaceUsageCount[possibleInterface.name]=(interfaceUsageCount[possibleInterface.name]||0)+1)}}}return Object.keys(interfaceUsageCount).sort((function(a,b){return interfaceUsageCount[b]-interfaceUsageCount[a]})).concat(suggestedObjectTypes)}return[]}(schema,type,fieldName),suggestedFieldNames=0!==suggestedTypeNames.length?[]:function(schema,type,fieldName){if(Object(type_definition.N)(type)||Object(type_definition.H)(type)){var possibleFieldNames=Object.keys(type.getFields());return Object(suggestionList.a)(fieldName,possibleFieldNames)}return[]}(0,type,fieldName);context.reportError(new GraphQLError.a(function(fieldName,type,suggestedTypeNames,suggestedFieldNames){var quotedTypeNames=suggestedTypeNames.map((function(x){return'"'.concat(x,'"')})),quotedFieldNames=suggestedFieldNames.map((function(x){return'"'.concat(x,'"')}));return'Cannot query field "'.concat(fieldName,'" on type "').concat(type,'".')+(Object(didYouMean.a)("to use an inline fragment on",quotedTypeNames)||Object(didYouMean.a)(quotedFieldNames))}(fieldName,type.name,suggestedTypeNames,suggestedFieldNames),node))}}}}function UniqueFragmentNames(context){var knownFragmentNames=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(node){var fragmentName=node.name.value;return knownFragmentNames[fragmentName]?context.reportError(new GraphQLError.a('There can be only one fragment named "'.concat(fragmentName,'".'),[knownFragmentNames[fragmentName],node.name])):knownFragmentNames[fragmentName]=node.name,!1}}}function KnownFragmentNames(context){return{FragmentSpread:function(node){var fragmentName=node.name.value;context.getFragment(fragmentName)||context.reportError(new GraphQLError.a('Unknown fragment "'.concat(fragmentName,'".'),node.name))}}}function unusedFragMessage(fragName){return'Fragment "'.concat(fragName,'" is never used.')}function NoUnusedFragments(context){var operationDefs=[],fragmentDefs=[];return{OperationDefinition:function(node){return operationDefs.push(node),!1},FragmentDefinition:function(node){return fragmentDefs.push(node),!1},Document:{leave:function(){for(var fragmentNameUsed=Object.create(null),_i2=0;_i2<operationDefs.length;_i2++)for(var operation=operationDefs[_i2],_i4=0,_context$getRecursive2=context.getRecursivelyReferencedFragments(operation);_i4<_context$getRecursive2.length;_i4++){fragmentNameUsed[_context$getRecursive2[_i4].name.value]=!0}for(var _i6=0;_i6<fragmentDefs.length;_i6++){var fragmentDef=fragmentDefs[_i6],fragName=fragmentDef.name.value;!0!==fragmentNameUsed[fragName]&&context.reportError(new GraphQLError.a(unusedFragMessage(fragName),fragmentDef))}}}}}function PossibleFragmentSpreads(context){return{InlineFragment:function(node){var fragType=context.getType(),parentType=context.getParentType();Object(type_definition.D)(fragType)&&Object(type_definition.D)(parentType)&&!doTypesOverlap(context.getSchema(),fragType,parentType)&&context.reportError(new GraphQLError.a(function(parentType,fragType){return'Fragment cannot be spread here as objects of type "'.concat(parentType,'" can never be of type "').concat(fragType,'".')}(Object(inspect.a)(parentType),Object(inspect.a)(fragType)),node))},FragmentSpread:function(node){var fragName=node.name.value,fragType=function(context,name){var frag=context.getFragment(name);if(frag){var type=Object(typeFromAST.a)(context.getSchema(),frag.typeCondition);if(Object(type_definition.D)(type))return type}}(context,fragName),parentType=context.getParentType();fragType&&parentType&&!doTypesOverlap(context.getSchema(),fragType,parentType)&&context.reportError(new GraphQLError.a(function(fragName,parentType,fragType){return'Fragment "'.concat(fragName,'" cannot be spread here as objects of type "').concat(parentType,'" can never be of type "').concat(fragType,'".')}(fragName,Object(inspect.a)(parentType),Object(inspect.a)(fragType)),node))}}}function NoFragmentCycles(context){var visitedFrags=Object.create(null),spreadPath=[],spreadPathIndexByName=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(node){return function detectCycleRecursive(fragment){if(visitedFrags[fragment.name.value])return;var fragmentName=fragment.name.value;visitedFrags[fragmentName]=!0;var spreadNodes=context.getFragmentSpreads(fragment.selectionSet);if(0===spreadNodes.length)return;spreadPathIndexByName[fragmentName]=spreadPath.length;for(var _i2=0;_i2<spreadNodes.length;_i2++){var spreadNode=spreadNodes[_i2],spreadName=spreadNode.name.value,cycleIndex=spreadPathIndexByName[spreadName];if(spreadPath.push(spreadNode),void 0===cycleIndex){var spreadFragment=context.getFragment(spreadName);spreadFragment&&detectCycleRecursive(spreadFragment)}else{var cyclePath=spreadPath.slice(cycleIndex),fragmentNames=cyclePath.slice(0,-1).map((function(s){return s.name.value}));context.reportError(new GraphQLError.a((fragName=spreadName,via=void 0,via=(spreadNames=fragmentNames).length?" via "+spreadNames.join(", "):"",'Cannot spread fragment "'.concat(fragName,'" within itself').concat(via,".")),cyclePath))}spreadPath.pop()}var fragName,spreadNames,via;spreadPathIndexByName[fragmentName]=void 0}(node),!1}}}function UniqueVariableNames(context){var knownVariableNames=Object.create(null);return{OperationDefinition:function(){knownVariableNames=Object.create(null)},VariableDefinition:function(node){var variableName=node.variable.name.value;knownVariableNames[variableName]?context.reportError(new GraphQLError.a(function(variableName){return'There can be only one variable named "'.concat(variableName,'".')}(variableName),[knownVariableNames[variableName],node.variable.name])):knownVariableNames[variableName]=node.variable.name}}}function undefinedVarMessage(varName,opName){return opName?'Variable "$'.concat(varName,'" is not defined by operation "').concat(opName,'".'):'Variable "$'.concat(varName,'" is not defined.')}function NoUndefinedVariables(context){var variableNameDefined=Object.create(null);return{OperationDefinition:{enter:function(){variableNameDefined=Object.create(null)},leave:function(operation){for(var usages=context.getRecursiveVariableUsages(operation),_i2=0;_i2<usages.length;_i2++){var node=usages[_i2].node,varName=node.name.value;!0!==variableNameDefined[varName]&&context.reportError(new GraphQLError.a(undefinedVarMessage(varName,operation.name&&operation.name.value),[node,operation]))}}},VariableDefinition:function(node){variableNameDefined[node.variable.name.value]=!0}}}function unusedVariableMessage(varName,opName){return opName?'Variable "$'.concat(varName,'" is never used in operation "').concat(opName,'".'):'Variable "$'.concat(varName,'" is never used.')}function NoUnusedVariables(context){var variableDefs=[];return{OperationDefinition:{enter:function(){variableDefs=[]},leave:function(operation){for(var variableNameUsed=Object.create(null),usages=context.getRecursiveVariableUsages(operation),opName=operation.name?operation.name.value:null,_i2=0;_i2<usages.length;_i2++){variableNameUsed[usages[_i2].node.name.value]=!0}for(var _i4=0,_variableDefs2=variableDefs;_i4<_variableDefs2.length;_i4++){var variableDef=_variableDefs2[_i4],variableName=variableDef.variable.name.value;!0!==variableNameUsed[variableName]&&context.reportError(new GraphQLError.a(unusedVariableMessage(variableName,opName),variableDef))}}},VariableDefinition:function(def){variableDefs.push(def)}}}function KnownDirectives(context){for(var locationsMap=Object.create(null),schema=context.getSchema(),definedDirectives=schema?schema.getDirectives():specifiedDirectives,_i2=0;_i2<definedDirectives.length;_i2++){var directive=definedDirectives[_i2];locationsMap[directive.name]=directive.locations}for(var astDefinitions=context.getDocument().definitions,_i4=0;_i4<astDefinitions.length;_i4++){var def=astDefinitions[_i4];def.kind===kinds.a.DIRECTIVE_DEFINITION&&(locationsMap[def.name.value]=def.locations.map((function(name){return name.value})))}return{Directive:function(node,key,parent,path,ancestors){var name=node.name.value,locations=locationsMap[name];if(locations){var candidateLocation=function(ancestors){var appliedTo=ancestors[ancestors.length-1];if(!Array.isArray(appliedTo))switch(appliedTo.kind){case kinds.a.OPERATION_DEFINITION:switch(appliedTo.operation){case"query":return directiveLocation.a.QUERY;case"mutation":return directiveLocation.a.MUTATION;case"subscription":return directiveLocation.a.SUBSCRIPTION}break;case kinds.a.FIELD:return directiveLocation.a.FIELD;case kinds.a.FRAGMENT_SPREAD:return directiveLocation.a.FRAGMENT_SPREAD;case kinds.a.INLINE_FRAGMENT:return directiveLocation.a.INLINE_FRAGMENT;case kinds.a.FRAGMENT_DEFINITION:return directiveLocation.a.FRAGMENT_DEFINITION;case kinds.a.VARIABLE_DEFINITION:return directiveLocation.a.VARIABLE_DEFINITION;case kinds.a.SCHEMA_DEFINITION:case kinds.a.SCHEMA_EXTENSION:return directiveLocation.a.SCHEMA;case kinds.a.SCALAR_TYPE_DEFINITION:case kinds.a.SCALAR_TYPE_EXTENSION:return directiveLocation.a.SCALAR;case kinds.a.OBJECT_TYPE_DEFINITION:case kinds.a.OBJECT_TYPE_EXTENSION:return directiveLocation.a.OBJECT;case kinds.a.FIELD_DEFINITION:return directiveLocation.a.FIELD_DEFINITION;case kinds.a.INTERFACE_TYPE_DEFINITION:case kinds.a.INTERFACE_TYPE_EXTENSION:return directiveLocation.a.INTERFACE;case kinds.a.UNION_TYPE_DEFINITION:case kinds.a.UNION_TYPE_EXTENSION:return directiveLocation.a.UNION;case kinds.a.ENUM_TYPE_DEFINITION:case kinds.a.ENUM_TYPE_EXTENSION:return directiveLocation.a.ENUM;case kinds.a.ENUM_VALUE_DEFINITION:return directiveLocation.a.ENUM_VALUE;case kinds.a.INPUT_OBJECT_TYPE_DEFINITION:case kinds.a.INPUT_OBJECT_TYPE_EXTENSION:return directiveLocation.a.INPUT_OBJECT;case kinds.a.INPUT_VALUE_DEFINITION:return ancestors[ancestors.length-3].kind===kinds.a.INPUT_OBJECT_TYPE_DEFINITION?directiveLocation.a.INPUT_FIELD_DEFINITION:directiveLocation.a.ARGUMENT_DEFINITION}}(ancestors);candidateLocation&&-1===locations.indexOf(candidateLocation)&&context.reportError(new GraphQLError.a(function(directiveName,location){return'Directive "'.concat(directiveName,'" may not be used on ').concat(location,".")}(name,candidateLocation),node))}else context.reportError(new GraphQLError.a('Unknown directive "'.concat(name,'".'),node))}}}function duplicateDirectiveMessage(directiveName){return'The directive "'.concat(directiveName,'" can only be used once at this location.')}function UniqueDirectivesPerLocation(context){for(var uniqueDirectiveMap=Object.create(null),schema=context.getSchema(),definedDirectives=schema?schema.getDirectives():specifiedDirectives,_i2=0;_i2<definedDirectives.length;_i2++){var directive=definedDirectives[_i2];uniqueDirectiveMap[directive.name]=!directive.isRepeatable}for(var astDefinitions=context.getDocument().definitions,_i4=0;_i4<astDefinitions.length;_i4++){var def=astDefinitions[_i4];def.kind===kinds.a.DIRECTIVE_DEFINITION&&(uniqueDirectiveMap[def.name.value]=!def.repeatable)}return{enter:function(node){var directives=node.directives;if(directives)for(var knownDirectives=Object.create(null),_i6=0;_i6<directives.length;_i6++){var _directive=directives[_i6],directiveName=_directive.name.value;uniqueDirectiveMap[directiveName]&&(knownDirectives[directiveName]?context.reportError(new GraphQLError.a(duplicateDirectiveMessage(directiveName),[knownDirectives[directiveName],_directive])):knownDirectives[directiveName]=_directive)}}}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function unknownDirectiveArgMessage(argName,directiveName,suggestedArgs){return'Unknown argument "'.concat(argName,'" on directive "@').concat(directiveName,'".')+Object(didYouMean.a)(suggestedArgs.map((function(x){return'"'.concat(x,'"')})))}function KnownArgumentNames(context){return function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},KnownArgumentNamesOnDirectives(context),{Argument:function(argNode){var argDef=context.getArgument(),fieldDef=context.getFieldDef(),parentType=context.getParentType();if(!argDef&&fieldDef&&parentType){var argName=argNode.name.value,knownArgsNames=fieldDef.args.map((function(arg){return arg.name}));context.reportError(new GraphQLError.a(function(argName,fieldName,typeName,suggestedArgs){return'Unknown argument "'.concat(argName,'" on field "').concat(fieldName,'" of type "').concat(typeName,'".')+Object(didYouMean.a)(suggestedArgs.map((function(x){return'"'.concat(x,'"')})))}(argName,fieldDef.name,parentType.name,Object(suggestionList.a)(argName,knownArgsNames)),argNode))}}})}function KnownArgumentNamesOnDirectives(context){for(var directiveArgs=Object.create(null),schema=context.getSchema(),definedDirectives=schema?schema.getDirectives():specifiedDirectives,_i2=0;_i2<definedDirectives.length;_i2++){var directive=definedDirectives[_i2];directiveArgs[directive.name]=directive.args.map((function(arg){return arg.name}))}for(var astDefinitions=context.getDocument().definitions,_i4=0;_i4<astDefinitions.length;_i4++){var def=astDefinitions[_i4];def.kind===kinds.a.DIRECTIVE_DEFINITION&&(directiveArgs[def.name.value]=def.arguments?def.arguments.map((function(arg){return arg.name.value})):[])}return{Directive:function(directiveNode){var directiveName=directiveNode.name.value,knownArgs=directiveArgs[directiveName];if(directiveNode.arguments&&knownArgs)for(var _i6=0,_directiveNode$argume2=directiveNode.arguments;_i6<_directiveNode$argume2.length;_i6++){var argNode=_directiveNode$argume2[_i6],argName=argNode.name.value;if(-1===knownArgs.indexOf(argName)){var suggestions=Object(suggestionList.a)(argName,knownArgs);context.reportError(new GraphQLError.a(unknownDirectiveArgMessage(argName,directiveName,suggestions),argNode))}}return!1}}}function UniqueArgumentNames(context){var knownArgNames=Object.create(null);return{Field:function(){knownArgNames=Object.create(null)},Directive:function(){knownArgNames=Object.create(null)},Argument:function(node){var argName=node.name.value;return knownArgNames[argName]?context.reportError(new GraphQLError.a(function(argName){return'There can be only one argument named "'.concat(argName,'".')}(argName),[knownArgNames[argName],node.name])):knownArgNames[argName]=node.name,!1}}}var keyMap=__webpack_require__(18);function badValueMessage(typeName,valueName,message){return"Expected type ".concat(typeName,", found ").concat(valueName)+(message?"; ".concat(message):".")}function badEnumValueMessage(typeName,valueName,suggestedValues){return"Expected type ".concat(typeName,", found ").concat(valueName,".")+Object(didYouMean.a)("the enum value",suggestedValues)}function ValuesOfCorrectType(context){return{NullValue:function(node){var type=context.getInputType();Object(type_definition.L)(type)&&context.reportError(new GraphQLError.a(badValueMessage(Object(inspect.a)(type),Object(printer.print)(node)),node))},ListValue:function(node){var type=Object(type_definition.B)(context.getParentInputType());if(!Object(type_definition.J)(type))return isValidScalar(context,node),!1},ObjectValue:function(node){var type=Object(type_definition.A)(context.getInputType());if(!Object(type_definition.F)(type))return isValidScalar(context,node),!1;for(var typeName,fieldName,fieldTypeName,fieldNodeMap=Object(keyMap.a)(node.fields,(function(field){return field.name.value})),_i2=0,_objectValues2=Object(objectValues.a)(type.getFields());_i2<_objectValues2.length;_i2++){var fieldDef=_objectValues2[_i2];if(!fieldNodeMap[fieldDef.name]&&Object(type_definition.Q)(fieldDef)){var typeStr=Object(inspect.a)(fieldDef.type);context.reportError(new GraphQLError.a((typeName=type.name,fieldName=fieldDef.name,fieldTypeName=typeStr,"Field ".concat(typeName,".").concat(fieldName," of required type ").concat(fieldTypeName," was not provided.")),node))}}},ObjectField:function(node){var typeName,fieldName,suggestedFields,parentType=Object(type_definition.A)(context.getParentInputType());if(!context.getInputType()&&Object(type_definition.F)(parentType)){var suggestions=Object(suggestionList.a)(node.name.value,Object.keys(parentType.getFields()));context.reportError(new GraphQLError.a((typeName=parentType.name,fieldName=node.name.value,suggestedFields=suggestions,'Field "'.concat(fieldName,'" is not defined by type ').concat(typeName,".")+Object(didYouMean.a)(suggestedFields)),node))}},EnumValue:function(node){var type=Object(type_definition.A)(context.getInputType());Object(type_definition.E)(type)?type.getValue(node.value)||context.reportError(new GraphQLError.a(badEnumValueMessage(type.name,Object(printer.print)(node),enumTypeSuggestion(type,node)),node)):isValidScalar(context,node)},IntValue:function(node){return isValidScalar(context,node)},FloatValue:function(node){return isValidScalar(context,node)},StringValue:function(node){return isValidScalar(context,node)},BooleanValue:function(node){return isValidScalar(context,node)}}}function isValidScalar(context,node){var locationType=context.getInputType();if(locationType){var type=Object(type_definition.A)(locationType);if(Object(type_definition.R)(type))try{var parseResult=type.parseLiteral(node,void 0);Object(isInvalid.a)(parseResult)&&context.reportError(new GraphQLError.a(badValueMessage(Object(inspect.a)(locationType),Object(printer.print)(node)),node))}catch(error){context.reportError(new GraphQLError.a(badValueMessage(Object(inspect.a)(locationType),Object(printer.print)(node),error.message),node,void 0,void 0,void 0,error))}else{var message=Object(type_definition.E)(type)?badEnumValueMessage(Object(inspect.a)(locationType),Object(printer.print)(node),enumTypeSuggestion(type,node)):badValueMessage(Object(inspect.a)(locationType),Object(printer.print)(node));context.reportError(new GraphQLError.a(message,node))}}}function enumTypeSuggestion(type,node){var allNames=type.getValues().map((function(value){return value.name}));return Object(suggestionList.a)(Object(printer.print)(node),allNames)}function ProvidedRequiredArguments_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function ProvidedRequiredArguments_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function missingDirectiveArgMessage(directiveName,argName,type){return'Directive "@'.concat(directiveName,'" argument "').concat(argName,'" of type "').concat(type,'" is required, but it was not provided.')}function ProvidedRequiredArguments(context){return function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ProvidedRequiredArguments_ownKeys(source,!0).forEach((function(key){ProvidedRequiredArguments_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ProvidedRequiredArguments_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},ProvidedRequiredArgumentsOnDirectives(context),{Field:{leave:function(fieldNode){var fieldDef=context.getFieldDef();if(!fieldDef)return!1;for(var fieldName,argName,type,argNodes=fieldNode.arguments||[],argNodeMap=Object(keyMap.a)(argNodes,(function(arg){return arg.name.value})),_i2=0,_fieldDef$args2=fieldDef.args;_i2<_fieldDef$args2.length;_i2++){var argDef=_fieldDef$args2[_i2];!argNodeMap[argDef.name]&&Object(type_definition.P)(argDef)&&context.reportError(new GraphQLError.a((fieldName=fieldDef.name,argName=argDef.name,type=Object(inspect.a)(argDef.type),'Field "'.concat(fieldName,'" argument "').concat(argName,'" of type "').concat(type,'" is required, but it was not provided.')),fieldNode))}}}})}function ProvidedRequiredArgumentsOnDirectives(context){for(var requiredArgsMap=Object.create(null),schema=context.getSchema(),definedDirectives=schema?schema.getDirectives():specifiedDirectives,_i4=0;_i4<definedDirectives.length;_i4++){var directive=definedDirectives[_i4];requiredArgsMap[directive.name]=Object(keyMap.a)(directive.args.filter(type_definition.P),(function(arg){return arg.name}))}for(var astDefinitions=context.getDocument().definitions,_i6=0;_i6<astDefinitions.length;_i6++){var def=astDefinitions[_i6];def.kind===kinds.a.DIRECTIVE_DEFINITION&&(requiredArgsMap[def.name.value]=Object(keyMap.a)(def.arguments?def.arguments.filter(isRequiredArgumentNode):[],(function(arg){return arg.name.value})))}return{Directive:{leave:function(directiveNode){var directiveName=directiveNode.name.value,requiredArgs=requiredArgsMap[directiveName];if(requiredArgs)for(var argNodes=directiveNode.arguments||[],argNodeMap=Object(keyMap.a)(argNodes,(function(arg){return arg.name.value})),_i8=0,_Object$keys2=Object.keys(requiredArgs);_i8<_Object$keys2.length;_i8++){var argName=_Object$keys2[_i8];if(!argNodeMap[argName]){var argType=requiredArgs[argName].type;context.reportError(new GraphQLError.a(missingDirectiveArgMessage(directiveName,argName,Object(type_definition.S)(argType)?Object(inspect.a)(argType):Object(printer.print)(argType)),directiveNode))}}}}}}function isRequiredArgumentNode(arg){return arg.type.kind===kinds.a.NON_NULL_TYPE&&null==arg.defaultValue}function badVarPosMessage(varName,varType,expectedType){return'Variable "$'.concat(varName,'" of type "').concat(varType,'" used in position expecting type "').concat(expectedType,'".')}function VariablesInAllowedPosition(context){var varDefMap=Object.create(null);return{OperationDefinition:{enter:function(){varDefMap=Object.create(null)},leave:function(operation){for(var usages=context.getRecursiveVariableUsages(operation),_i2=0;_i2<usages.length;_i2++){var _ref2=usages[_i2],node=_ref2.node,type=_ref2.type,defaultValue=_ref2.defaultValue,varName=node.name.value,varDef=varDefMap[varName];if(varDef&&type){var schema=context.getSchema(),varType=Object(typeFromAST.a)(schema,varDef.type);varType&&!allowedVariableUsage(schema,varType,varDef.defaultValue,type,defaultValue)&&context.reportError(new GraphQLError.a(badVarPosMessage(varName,Object(inspect.a)(varType),Object(inspect.a)(type)),[varDef,node]))}}}},VariableDefinition:function(node){varDefMap[node.variable.name.value]=node}}}function allowedVariableUsage(schema,varType,varDefaultValue,locationType,locationDefaultValue){return Object(type_definition.L)(locationType)&&!Object(type_definition.L)(varType)?(null!=varDefaultValue&&varDefaultValue.kind!==kinds.a.NULL||void 0!==locationDefaultValue)&&isTypeSubTypeOf(schema,varType,locationType.ofType):isTypeSubTypeOf(schema,varType,locationType)}function fieldsConflictMessage(responseName,reason){return'Fields "'.concat(responseName,'" conflict because ').concat(function reasonMessage(reason){if(Array.isArray(reason))return reason.map((function(_ref){var responseName=_ref[0],subreason=_ref[1];return'subfields "'.concat(responseName,'" conflict because ').concat(reasonMessage(subreason))})).join(" and ");return reason}(reason),". ")+"Use different aliases on the fields to fetch both if this was intentional."}function OverlappingFieldsCanBeMerged(context){var comparedFragmentPairs=new PairSet,cachedFieldsAndFragmentNames=new Map;return{SelectionSet:function(selectionSet){for(var conflicts=function(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,parentType,selectionSet){var conflicts=[],_getFieldsAndFragment=getFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,parentType,selectionSet),fieldMap=_getFieldsAndFragment[0],fragmentNames=_getFieldsAndFragment[1];if(function(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,fieldMap){for(var _i5=0,_objectEntries2=Object(objectEntries.a)(fieldMap);_i5<_objectEntries2.length;_i5++){var _ref5=_objectEntries2[_i5],responseName=_ref5[0],fields=_ref5[1];if(fields.length>1)for(var i=0;i<fields.length;i++)for(var j=i+1;j<fields.length;j++){var conflict=findConflict(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,!1,responseName,fields[i],fields[j]);conflict&&conflicts.push(conflict)}}}(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,fieldMap),0!==fragmentNames.length)for(var comparedFragments=Object.create(null),i=0;i<fragmentNames.length;i++){collectConflictsBetweenFieldsAndFragment(context,conflicts,cachedFieldsAndFragmentNames,comparedFragments,comparedFragmentPairs,!1,fieldMap,fragmentNames[i]);for(var j=i+1;j<fragmentNames.length;j++)collectConflictsBetweenFragments(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,!1,fragmentNames[i],fragmentNames[j])}return conflicts}(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,context.getParentType(),selectionSet),_i2=0;_i2<conflicts.length;_i2++){var _ref3=conflicts[_i2],_ref2$=_ref3[0],responseName=_ref2$[0],reason=_ref2$[1],fields1=_ref3[1],fields2=_ref3[2];context.reportError(new GraphQLError.a(fieldsConflictMessage(responseName,reason),fields1.concat(fields2)))}}}}function collectConflictsBetweenFieldsAndFragment(context,conflicts,cachedFieldsAndFragmentNames,comparedFragments,comparedFragmentPairs,areMutuallyExclusive,fieldMap,fragmentName){if(!comparedFragments[fragmentName]){comparedFragments[fragmentName]=!0;var fragment=context.getFragment(fragmentName);if(fragment){var _getReferencedFieldsA=getReferencedFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,fragment),fieldMap2=_getReferencedFieldsA[0],fragmentNames2=_getReferencedFieldsA[1];if(fieldMap!==fieldMap2){collectConflictsBetween(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fieldMap,fieldMap2);for(var i=0;i<fragmentNames2.length;i++)collectConflictsBetweenFieldsAndFragment(context,conflicts,cachedFieldsAndFragmentNames,comparedFragments,comparedFragmentPairs,areMutuallyExclusive,fieldMap,fragmentNames2[i])}}}}function collectConflictsBetweenFragments(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fragmentName1,fragmentName2){if(fragmentName1!==fragmentName2&&!comparedFragmentPairs.has(fragmentName1,fragmentName2,areMutuallyExclusive)){comparedFragmentPairs.add(fragmentName1,fragmentName2,areMutuallyExclusive);var fragment1=context.getFragment(fragmentName1),fragment2=context.getFragment(fragmentName2);if(fragment1&&fragment2){var _getReferencedFieldsA2=getReferencedFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,fragment1),fieldMap1=_getReferencedFieldsA2[0],fragmentNames1=_getReferencedFieldsA2[1],_getReferencedFieldsA3=getReferencedFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,fragment2),fieldMap2=_getReferencedFieldsA3[0],fragmentNames2=_getReferencedFieldsA3[1];collectConflictsBetween(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fieldMap1,fieldMap2);for(var j=0;j<fragmentNames2.length;j++)collectConflictsBetweenFragments(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fragmentName1,fragmentNames2[j]);for(var i=0;i<fragmentNames1.length;i++)collectConflictsBetweenFragments(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fragmentNames1[i],fragmentName2)}}}function collectConflictsBetween(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,parentFieldsAreMutuallyExclusive,fieldMap1,fieldMap2){for(var _i7=0,_Object$keys2=Object.keys(fieldMap1);_i7<_Object$keys2.length;_i7++){var responseName=_Object$keys2[_i7],fields2=fieldMap2[responseName];if(fields2)for(var fields1=fieldMap1[responseName],i=0;i<fields1.length;i++)for(var j=0;j<fields2.length;j++){var conflict=findConflict(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,parentFieldsAreMutuallyExclusive,responseName,fields1[i],fields2[j]);conflict&&conflicts.push(conflict)}}}function findConflict(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,parentFieldsAreMutuallyExclusive,responseName,field1,field2){var parentType1=field1[0],node1=field1[1],def1=field1[2],parentType2=field2[0],node2=field2[1],def2=field2[2],areMutuallyExclusive=parentFieldsAreMutuallyExclusive||parentType1!==parentType2&&Object(type_definition.N)(parentType1)&&Object(type_definition.N)(parentType2),type1=def1&&def1.type,type2=def2&&def2.type;if(!areMutuallyExclusive){var name1=node1.name.value,name2=node2.name.value;if(name1!==name2)return[[responseName,"".concat(name1," and ").concat(name2," are different fields")],[node1],[node2]];if(!function(arguments1,arguments2){if(arguments1.length!==arguments2.length)return!1;return arguments1.every((function(argument1){var value1,value2,argument2=Object(find.a)(arguments2,(function(argument){return argument.name.value===argument1.name.value}));return!!argument2&&(value1=argument1.value,value2=argument2.value,!value1&&!value2||Object(printer.print)(value1)===Object(printer.print)(value2))}))}(node1.arguments||[],node2.arguments||[]))return[[responseName,"they have differing arguments"],[node1],[node2]]}if(type1&&type2&&function doTypesConflict(type1,type2){if(Object(type_definition.J)(type1))return!Object(type_definition.J)(type2)||doTypesConflict(type1.ofType,type2.ofType);if(Object(type_definition.J)(type2))return!0;if(Object(type_definition.L)(type1))return!Object(type_definition.L)(type2)||doTypesConflict(type1.ofType,type2.ofType);if(Object(type_definition.L)(type2))return!0;if(Object(type_definition.I)(type1)||Object(type_definition.I)(type2))return type1!==type2;return!1}(type1,type2))return[[responseName,"they return conflicting types ".concat(Object(inspect.a)(type1)," and ").concat(Object(inspect.a)(type2))],[node1],[node2]];var selectionSet1=node1.selectionSet,selectionSet2=node2.selectionSet;return selectionSet1&&selectionSet2?function(conflicts,responseName,node1,node2){if(conflicts.length>0)return[[responseName,conflicts.map((function(_ref6){return _ref6[0]}))],conflicts.reduce((function(allFields,_ref7){var fields1=_ref7[1];return allFields.concat(fields1)}),[node1]),conflicts.reduce((function(allFields,_ref8){var fields2=_ref8[2];return allFields.concat(fields2)}),[node2])]}(function(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,parentType1,selectionSet1,parentType2,selectionSet2){var conflicts=[],_getFieldsAndFragment2=getFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,parentType1,selectionSet1),fieldMap1=_getFieldsAndFragment2[0],fragmentNames1=_getFieldsAndFragment2[1],_getFieldsAndFragment3=getFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,parentType2,selectionSet2),fieldMap2=_getFieldsAndFragment3[0],fragmentNames2=_getFieldsAndFragment3[1];if(collectConflictsBetween(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fieldMap1,fieldMap2),0!==fragmentNames2.length)for(var comparedFragments=Object.create(null),j=0;j<fragmentNames2.length;j++)collectConflictsBetweenFieldsAndFragment(context,conflicts,cachedFieldsAndFragmentNames,comparedFragments,comparedFragmentPairs,areMutuallyExclusive,fieldMap1,fragmentNames2[j]);if(0!==fragmentNames1.length)for(var _comparedFragments=Object.create(null),i=0;i<fragmentNames1.length;i++)collectConflictsBetweenFieldsAndFragment(context,conflicts,cachedFieldsAndFragmentNames,_comparedFragments,comparedFragmentPairs,areMutuallyExclusive,fieldMap2,fragmentNames1[i]);for(var _i3=0;_i3<fragmentNames1.length;_i3++)for(var _j=0;_j<fragmentNames2.length;_j++)collectConflictsBetweenFragments(context,conflicts,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,fragmentNames1[_i3],fragmentNames2[_j]);return conflicts}(context,cachedFieldsAndFragmentNames,comparedFragmentPairs,areMutuallyExclusive,Object(type_definition.A)(type1),selectionSet1,Object(type_definition.A)(type2),selectionSet2),responseName,node1,node2):void 0}function getFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,parentType,selectionSet){var cached=cachedFieldsAndFragmentNames.get(selectionSet);if(!cached){var nodeAndDefs=Object.create(null),fragmentNames=Object.create(null);!function _collectFieldsAndFragmentNames(context,parentType,selectionSet,nodeAndDefs,fragmentNames){for(var _i9=0,_selectionSet$selecti2=selectionSet.selections;_i9<_selectionSet$selecti2.length;_i9++){var selection=_selectionSet$selecti2[_i9];switch(selection.kind){case kinds.a.FIELD:var fieldName=selection.name.value,fieldDef=void 0;(Object(type_definition.N)(parentType)||Object(type_definition.H)(parentType))&&(fieldDef=parentType.getFields()[fieldName]);var responseName=selection.alias?selection.alias.value:fieldName;nodeAndDefs[responseName]||(nodeAndDefs[responseName]=[]),nodeAndDefs[responseName].push([parentType,selection,fieldDef]);break;case kinds.a.FRAGMENT_SPREAD:fragmentNames[selection.name.value]=!0;break;case kinds.a.INLINE_FRAGMENT:var typeCondition=selection.typeCondition,inlineFragmentType=typeCondition?Object(typeFromAST.a)(context.getSchema(),typeCondition):parentType;_collectFieldsAndFragmentNames(context,inlineFragmentType,selection.selectionSet,nodeAndDefs,fragmentNames)}}}(context,parentType,selectionSet,nodeAndDefs,fragmentNames),cached=[nodeAndDefs,Object.keys(fragmentNames)],cachedFieldsAndFragmentNames.set(selectionSet,cached)}return cached}function getReferencedFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,fragment){var cached=cachedFieldsAndFragmentNames.get(fragment.selectionSet);if(cached)return cached;var fragmentType=Object(typeFromAST.a)(context.getSchema(),fragment.typeCondition);return getFieldsAndFragmentNames(context,cachedFieldsAndFragmentNames,fragmentType,fragment.selectionSet)}var _defKindToExtKind,PairSet=function(){function PairSet(){this._data=Object.create(null)}var _proto=PairSet.prototype;return _proto.has=function(a,b,areMutuallyExclusive){var first=this._data[a],result=first&&first[b];return void 0!==result&&(!1!==areMutuallyExclusive||!1===result)},_proto.add=function(a,b,areMutuallyExclusive){_pairSetAdd(this._data,a,b,areMutuallyExclusive),_pairSetAdd(this._data,b,a,areMutuallyExclusive)},PairSet}();function _pairSetAdd(data,a,b,areMutuallyExclusive){var map=data[a];map||(map=Object.create(null),data[a]=map),map[b]=areMutuallyExclusive}function UniqueInputFieldNames(context){var knownNameStack=[],knownNames=Object.create(null);return{ObjectValue:{enter:function(){knownNameStack.push(knownNames),knownNames=Object.create(null)},leave:function(){knownNames=knownNameStack.pop()}},ObjectField:function(node){var fieldName=node.name.value;knownNames[fieldName]?context.reportError(new GraphQLError.a(function(fieldName){return'There can be only one input field named "'.concat(fieldName,'".')}(fieldName),[knownNames[fieldName],node.name])):knownNames[fieldName]=node.name}}}function LoneSchemaDefinition(context){var oldSchema=context.getSchema(),alreadyDefined=oldSchema&&(oldSchema.astNode||oldSchema.getQueryType()||oldSchema.getMutationType()||oldSchema.getSubscriptionType()),schemaDefinitionsCount=0;return{SchemaDefinition:function(node){alreadyDefined?context.reportError(new GraphQLError.a("Cannot define a new schema within a schema extension.",node)):(schemaDefinitionsCount>0&&context.reportError(new GraphQLError.a("Must provide only one schema definition.",node)),++schemaDefinitionsCount)}}}function duplicateOperationTypeMessage(operation){return"There can be only one ".concat(operation," type in schema.")}function existedOperationTypeMessage(operation){return"Type for ".concat(operation," already defined in the schema. It cannot be redefined.")}function UniqueOperationTypes(context){var schema=context.getSchema(),definedOperationTypes=Object.create(null),existingOperationTypes=schema?{query:schema.getQueryType(),mutation:schema.getMutationType(),subscription:schema.getSubscriptionType()}:{};return{SchemaDefinition:checkOperationTypes,SchemaExtension:checkOperationTypes};function checkOperationTypes(node){if(node.operationTypes)for(var _i2=0,_ref2=node.operationTypes||[];_i2<_ref2.length;_i2++){var operationType=_ref2[_i2],operation=operationType.operation,alreadyDefinedOperationType=definedOperationTypes[operation];existingOperationTypes[operation]?context.reportError(new GraphQLError.a(existedOperationTypeMessage(operation),operationType)):alreadyDefinedOperationType?context.reportError(new GraphQLError.a(duplicateOperationTypeMessage(operation),[alreadyDefinedOperationType,operationType])):definedOperationTypes[operation]=operationType}return!1}}function UniqueTypeNames(context){var knownTypeNames=Object.create(null),schema=context.getSchema();return{ScalarTypeDefinition:checkTypeName,ObjectTypeDefinition:checkTypeName,InterfaceTypeDefinition:checkTypeName,UnionTypeDefinition:checkTypeName,EnumTypeDefinition:checkTypeName,InputObjectTypeDefinition:checkTypeName};function checkTypeName(node){var typeName=node.name.value;if(!schema||!schema.getType(typeName))return knownTypeNames[typeName]?context.reportError(new GraphQLError.a(function(typeName){return'There can be only one type named "'.concat(typeName,'".')}(typeName),[knownTypeNames[typeName],node.name])):knownTypeNames[typeName]=node.name,!1;context.reportError(new GraphQLError.a(function(typeName){return'Type "'.concat(typeName,'" already exists in the schema. It cannot also be defined in this type definition.')}(typeName),node.name))}}function duplicateEnumValueNameMessage(typeName,valueName){return'Enum value "'.concat(typeName,".").concat(valueName,'" can only be defined once.')}function existedEnumValueNameMessage(typeName,valueName){return'Enum value "'.concat(typeName,".").concat(valueName,'" already exists in the schema. It cannot also be defined in this type extension.')}function UniqueEnumValueNames(context){var schema=context.getSchema(),existingTypeMap=schema?schema.getTypeMap():Object.create(null),knownValueNames=Object.create(null);return{EnumTypeDefinition:checkValueUniqueness,EnumTypeExtension:checkValueUniqueness};function checkValueUniqueness(node){var typeName=node.name.value;if(knownValueNames[typeName]||(knownValueNames[typeName]=Object.create(null)),node.values)for(var valueNames=knownValueNames[typeName],_i2=0,_node$values2=node.values;_i2<_node$values2.length;_i2++){var valueDef=_node$values2[_i2],valueName=valueDef.name.value,existingType=existingTypeMap[typeName];Object(type_definition.E)(existingType)&&existingType.getValue(valueName)?context.reportError(new GraphQLError.a(existedEnumValueNameMessage(typeName,valueName),valueDef.name)):valueNames[valueName]?context.reportError(new GraphQLError.a(duplicateEnumValueNameMessage(typeName,valueName),[valueNames[valueName],valueDef.name])):valueNames[valueName]=valueDef.name}return!1}}function duplicateFieldDefinitionNameMessage(typeName,fieldName){return'Field "'.concat(typeName,".").concat(fieldName,'" can only be defined once.')}function existedFieldDefinitionNameMessage(typeName,fieldName){return'Field "'.concat(typeName,".").concat(fieldName,'" already exists in the schema. It cannot also be defined in this type extension.')}function UniqueFieldDefinitionNames(context){var schema=context.getSchema(),existingTypeMap=schema?schema.getTypeMap():Object.create(null),knownFieldNames=Object.create(null);return{InputObjectTypeDefinition:checkFieldUniqueness,InputObjectTypeExtension:checkFieldUniqueness,InterfaceTypeDefinition:checkFieldUniqueness,InterfaceTypeExtension:checkFieldUniqueness,ObjectTypeDefinition:checkFieldUniqueness,ObjectTypeExtension:checkFieldUniqueness};function checkFieldUniqueness(node){var typeName=node.name.value;if(knownFieldNames[typeName]||(knownFieldNames[typeName]=Object.create(null)),node.fields)for(var fieldNames=knownFieldNames[typeName],_i2=0,_node$fields2=node.fields;_i2<_node$fields2.length;_i2++){var fieldDef=_node$fields2[_i2],fieldName=fieldDef.name.value;hasField(existingTypeMap[typeName],fieldName)?context.reportError(new GraphQLError.a(existedFieldDefinitionNameMessage(typeName,fieldName),fieldDef.name)):fieldNames[fieldName]?context.reportError(new GraphQLError.a(duplicateFieldDefinitionNameMessage(typeName,fieldName),[fieldNames[fieldName],fieldDef.name])):fieldNames[fieldName]=fieldDef.name}return!1}}function hasField(type,fieldName){return!!(Object(type_definition.N)(type)||Object(type_definition.H)(type)||Object(type_definition.F)(type))&&type.getFields()[fieldName]}function UniqueDirectiveNames(context){var knownDirectiveNames=Object.create(null),schema=context.getSchema();return{DirectiveDefinition:function(node){var directiveName=node.name.value;if(!schema||!schema.getDirective(directiveName))return knownDirectiveNames[directiveName]?context.reportError(new GraphQLError.a(function(directiveName){return'There can be only one directive named "'.concat(directiveName,'".')}(directiveName),[knownDirectiveNames[directiveName],node.name])):knownDirectiveNames[directiveName]=node.name,!1;context.reportError(new GraphQLError.a(function(directiveName){return'Directive "'.concat(directiveName,'" already exists in the schema. It cannot be redefined.')}(directiveName),node.name))}}}function PossibleTypeExtensions_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function extendingDifferentTypeKindMessage(typeName,kind){return"Cannot extend non-".concat(kind,' type "').concat(typeName,'".')}function PossibleTypeExtensions(context){for(var schema=context.getSchema(),definedTypes=Object.create(null),_i2=0,_context$getDocument$2=context.getDocument().definitions;_i2<_context$getDocument$2.length;_i2++){var def=_context$getDocument$2[_i2];Object(predicates.d)(def)&&(definedTypes[def.name.value]=def)}return{ScalarTypeExtension:checkExtension,ObjectTypeExtension:checkExtension,InterfaceTypeExtension:checkExtension,UnionTypeExtension:checkExtension,EnumTypeExtension:checkExtension,InputObjectTypeExtension:checkExtension};function checkExtension(node){var typeName=node.name.value,defNode=definedTypes[typeName],existingType=schema&&schema.getType(typeName);if(defNode){var expectedKind=defKindToExtKind[defNode.kind];expectedKind!==node.kind&&context.reportError(new GraphQLError.a(extendingDifferentTypeKindMessage(typeName,extensionKindToTypeName(expectedKind)),[defNode,node]))}else if(existingType){var _expectedKind=function(type){if(Object(type_definition.R)(type))return kinds.a.SCALAR_TYPE_EXTENSION;if(Object(type_definition.N)(type))return kinds.a.OBJECT_TYPE_EXTENSION;if(Object(type_definition.H)(type))return kinds.a.INTERFACE_TYPE_EXTENSION;if(Object(type_definition.T)(type))return kinds.a.UNION_TYPE_EXTENSION;if(Object(type_definition.E)(type))return kinds.a.ENUM_TYPE_EXTENSION;if(Object(type_definition.F)(type))return kinds.a.INPUT_OBJECT_TYPE_EXTENSION}(existingType);_expectedKind!==node.kind&&context.reportError(new GraphQLError.a(extendingDifferentTypeKindMessage(typeName,extensionKindToTypeName(_expectedKind)),node))}else{var allTypeNames=Object.keys(definedTypes);schema&&(allTypeNames=allTypeNames.concat(Object.keys(schema.getTypeMap())));var suggestedTypes=Object(suggestionList.a)(typeName,allTypeNames);context.reportError(new GraphQLError.a(function(typeName,suggestedTypes){return'Cannot extend type "'.concat(typeName,'" because it is not defined.')+Object(didYouMean.a)(suggestedTypes.map((function(x){return'"'.concat(x,'"')})))}(typeName,suggestedTypes),node.name))}}}var defKindToExtKind=(PossibleTypeExtensions_defineProperty(_defKindToExtKind={},kinds.a.SCALAR_TYPE_DEFINITION,kinds.a.SCALAR_TYPE_EXTENSION),PossibleTypeExtensions_defineProperty(_defKindToExtKind,kinds.a.OBJECT_TYPE_DEFINITION,kinds.a.OBJECT_TYPE_EXTENSION),PossibleTypeExtensions_defineProperty(_defKindToExtKind,kinds.a.INTERFACE_TYPE_DEFINITION,kinds.a.INTERFACE_TYPE_EXTENSION),PossibleTypeExtensions_defineProperty(_defKindToExtKind,kinds.a.UNION_TYPE_DEFINITION,kinds.a.UNION_TYPE_EXTENSION),PossibleTypeExtensions_defineProperty(_defKindToExtKind,kinds.a.ENUM_TYPE_DEFINITION,kinds.a.ENUM_TYPE_EXTENSION),PossibleTypeExtensions_defineProperty(_defKindToExtKind,kinds.a.INPUT_OBJECT_TYPE_DEFINITION,kinds.a.INPUT_OBJECT_TYPE_EXTENSION),_defKindToExtKind);function extensionKindToTypeName(kind){switch(kind){case kinds.a.SCALAR_TYPE_EXTENSION:return"scalar";case kinds.a.OBJECT_TYPE_EXTENSION:return"object";case kinds.a.INTERFACE_TYPE_EXTENSION:return"interface";case kinds.a.UNION_TYPE_EXTENSION:return"union";case kinds.a.ENUM_TYPE_EXTENSION:return"enum";case kinds.a.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:return"unknown type"}}var specifiedRules=Object.freeze([ExecutableDefinitions,UniqueOperationNames,LoneAnonymousOperation,SingleFieldSubscriptions,KnownTypeNames,FragmentsOnCompositeTypes,VariablesAreInputTypes,ScalarLeafs,FieldsOnCorrectType,UniqueFragmentNames,KnownFragmentNames,NoUnusedFragments,PossibleFragmentSpreads,NoFragmentCycles,UniqueVariableNames,NoUndefinedVariables,NoUnusedVariables,KnownDirectives,UniqueDirectivesPerLocation,KnownArgumentNames,UniqueArgumentNames,ValuesOfCorrectType,ProvidedRequiredArguments,VariablesInAllowedPosition,OverlappingFieldsCanBeMerged,UniqueInputFieldNames]),specifiedSDLRules=Object.freeze([LoneSchemaDefinition,UniqueOperationTypes,UniqueTypeNames,UniqueEnumValueNames,UniqueFieldDefinitionNames,UniqueDirectiveNames,KnownTypeNames,KnownDirectives,UniqueDirectivesPerLocation,PossibleTypeExtensions,KnownArgumentNamesOnDirectives,UniqueArgumentNames,UniqueInputFieldNames,ProvidedRequiredArgumentsOnDirectives]);function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var ValidationContext_ASTValidationContext=function(){function ASTValidationContext(ast,onError){this._ast=ast,this._errors=[],this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=onError}var _proto=ASTValidationContext.prototype;return _proto.reportError=function(error){this._errors.push(error),this._onError&&this._onError(error)},_proto.getErrors=function(){return this._errors},_proto.getDocument=function(){return this._ast},_proto.getFragment=function(name){var fragments=this._fragments;return fragments||(this._fragments=fragments=this.getDocument().definitions.reduce((function(frags,statement){return statement.kind===kinds.a.FRAGMENT_DEFINITION&&(frags[statement.name.value]=statement),frags}),Object.create(null))),fragments[name]},_proto.getFragmentSpreads=function(node){var spreads=this._fragmentSpreads.get(node);if(!spreads){spreads=[];for(var setsToVisit=[node];0!==setsToVisit.length;)for(var _i2=0,_set$selections2=setsToVisit.pop().selections;_i2<_set$selections2.length;_i2++){var selection=_set$selections2[_i2];selection.kind===kinds.a.FRAGMENT_SPREAD?spreads.push(selection):selection.selectionSet&&setsToVisit.push(selection.selectionSet)}this._fragmentSpreads.set(node,spreads)}return spreads},_proto.getRecursivelyReferencedFragments=function(operation){var fragments=this._recursivelyReferencedFragments.get(operation);if(!fragments){fragments=[];for(var collectedNames=Object.create(null),nodesToVisit=[operation.selectionSet];0!==nodesToVisit.length;)for(var node=nodesToVisit.pop(),_i4=0,_this$getFragmentSpre2=this.getFragmentSpreads(node);_i4<_this$getFragmentSpre2.length;_i4++){var fragName=_this$getFragmentSpre2[_i4].name.value;if(!0!==collectedNames[fragName]){collectedNames[fragName]=!0;var fragment=this.getFragment(fragName);fragment&&(fragments.push(fragment),nodesToVisit.push(fragment.selectionSet))}}this._recursivelyReferencedFragments.set(operation,fragments)}return fragments},ASTValidationContext}(),SDLValidationContext=function(_ASTValidationContext){function SDLValidationContext(ast,schema,onError){var _this;return(_this=_ASTValidationContext.call(this,ast,onError)||this)._schema=schema,_this}return _inheritsLoose(SDLValidationContext,_ASTValidationContext),SDLValidationContext.prototype.getSchema=function(){return this._schema},SDLValidationContext}(ValidationContext_ASTValidationContext),ValidationContext_ValidationContext=function(_ASTValidationContext2){function ValidationContext(schema,ast,typeInfo,onError){var _this2;return(_this2=_ASTValidationContext2.call(this,ast,onError)||this)._schema=schema,_this2._typeInfo=typeInfo,_this2._variableUsages=new Map,_this2._recursiveVariableUsages=new Map,_this2}_inheritsLoose(ValidationContext,_ASTValidationContext2);var _proto3=ValidationContext.prototype;return _proto3.getSchema=function(){return this._schema},_proto3.getVariableUsages=function(node){var usages=this._variableUsages.get(node);if(!usages){var newUsages=[],typeInfo=new TypeInfo_TypeInfo(this._schema);Object(language_visitor.c)(node,Object(language_visitor.e)(typeInfo,{VariableDefinition:function(){return!1},Variable:function(variable){newUsages.push({node:variable,type:typeInfo.getInputType(),defaultValue:typeInfo.getDefaultValue()})}})),usages=newUsages,this._variableUsages.set(node,usages)}return usages},_proto3.getRecursiveVariableUsages=function(operation){var usages=this._recursiveVariableUsages.get(operation);if(!usages){usages=this.getVariableUsages(operation);for(var _i6=0,_this$getRecursivelyR2=this.getRecursivelyReferencedFragments(operation);_i6<_this$getRecursivelyR2.length;_i6++){var frag=_this$getRecursivelyR2[_i6];usages=usages.concat(this.getVariableUsages(frag))}this._recursiveVariableUsages.set(operation,usages)}return usages},_proto3.getType=function(){return this._typeInfo.getType()},_proto3.getParentType=function(){return this._typeInfo.getParentType()},_proto3.getInputType=function(){return this._typeInfo.getInputType()},_proto3.getParentInputType=function(){return this._typeInfo.getParentInputType()},_proto3.getFieldDef=function(){return this._typeInfo.getFieldDef()},_proto3.getDirective=function(){return this._typeInfo.getDirective()},_proto3.getArgument=function(){return this._typeInfo.getArgument()},ValidationContext}(ValidationContext_ASTValidationContext);Object.freeze({});function validate(schema,documentAST){var rules=arguments.length>2&&void 0!==arguments[2]?arguments[2]:specifiedRules,typeInfo=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new TypeInfo_TypeInfo(schema),options=arguments.length>4?arguments[4]:void 0;documentAST||Object(devAssert.a)(0,"Must provide document"),assertValidSchema(schema);var abortObj=Object.freeze({}),errors=[],maxErrors=options&&options.maxErrors,context=new ValidationContext_ValidationContext(schema,documentAST,typeInfo,(function(error){if(null!=maxErrors&&errors.length>=maxErrors)throw errors.push(new GraphQLError.a("Too many validation errors, error limit reached. Validation aborted.")),abortObj;errors.push(error)})),visitor=Object(language_visitor.d)(rules.map((function(rule){return rule(context)})));try{Object(language_visitor.c)(documentAST,Object(language_visitor.e)(typeInfo,visitor))}catch(e){if(e!==abortObj)throw e}return errors}function validateSDL(documentAST,schemaToExtend){var rules=arguments.length>2&&void 0!==arguments[2]?arguments[2]:specifiedSDLRules,errors=[],context=new SDLValidationContext(documentAST,schemaToExtend,(function(error){errors.push(error)})),visitors=rules.map((function(rule){return rule(context)}));return Object(language_visitor.c)(documentAST,Object(language_visitor.d)(visitors)),errors}var Path=__webpack_require__(15);function locatedError(originalError,nodes,path){return originalError&&Array.isArray(originalError.path)?originalError:new GraphQLError.a(originalError&&originalError.message,originalError&&originalError.nodes||nodes,originalError&&originalError.source,originalError&&originalError.positions,path,originalError)}function getOperationRootType(schema,operation){if("query"===operation.operation){var queryType=schema.getQueryType();if(!queryType)throw new GraphQLError.a("Schema does not define the required query root type.",operation);return queryType}if("mutation"===operation.operation){var mutationType=schema.getMutationType();if(!mutationType)throw new GraphQLError.a("Schema is not configured for mutations.",operation);return mutationType}if("subscription"===operation.operation){var subscriptionType=schema.getSubscriptionType();if(!subscriptionType)throw new GraphQLError.a("Schema is not configured for subscriptions.",operation);return subscriptionType}throw new GraphQLError.a("Can only have query, mutation and subscription operations.",operation)}var execution_values=__webpack_require__(42);function execute(argsOrSchema,document,rootValue,contextValue,variableValues,operationName,fieldResolver,typeResolver){return executeImpl(1===arguments.length?argsOrSchema:{schema:argsOrSchema,document:document,rootValue:rootValue,contextValue:contextValue,variableValues:variableValues,operationName:operationName,fieldResolver:fieldResolver,typeResolver:typeResolver})}function executeImpl(args){var schema=args.schema,document=args.document,rootValue=args.rootValue,contextValue=args.contextValue,variableValues=args.variableValues,operationName=args.operationName,fieldResolver=args.fieldResolver,typeResolver=args.typeResolver;assertValidExecutionArguments(schema,document,variableValues);var exeContext=buildExecutionContext(schema,document,rootValue,contextValue,variableValues,operationName,fieldResolver,typeResolver);if(Array.isArray(exeContext))return{errors:exeContext};var data=function(exeContext,operation,rootValue){var type=getOperationRootType(exeContext.schema,operation),fields=collectFields(exeContext,type,operation.selectionSet,Object.create(null),Object.create(null));try{var result="mutation"===operation.operation?function(exeContext,parentType,sourceValue,path,fields){return values=Object.keys(fields),callback=function(results,responseName){var fieldNodes=fields[responseName],fieldPath=Object(Path.a)(path,responseName),result=resolveField(exeContext,parentType,sourceValue,fieldNodes,fieldPath);return void 0===result?results:isPromise(result)?result.then((function(resolvedResult){return results[responseName]=resolvedResult,results})):(results[responseName]=result,results)},initialValue=Object.create(null),values.reduce((function(previous,value){return isPromise(previous)?previous.then((function(resolved){return callback(resolved,value)})):callback(previous,value)}),initialValue);var values,callback,initialValue}(exeContext,type,rootValue,void 0,fields):executeFields(exeContext,type,rootValue,void 0,fields);return isPromise(result)?result.then(void 0,(function(error){return exeContext.errors.push(error),Promise.resolve(null)})):result}catch(error){return exeContext.errors.push(error),null}}(exeContext,exeContext.operation,rootValue);return function buildResponse(exeContext,data){if(isPromise(data))return data.then((function(resolved){return buildResponse(exeContext,resolved)}));return 0===exeContext.errors.length?{data:data}:{errors:exeContext.errors,data:data}}(exeContext,data)}function assertValidExecutionArguments(schema,document,rawVariableValues){document||Object(devAssert.a)(0,"Must provide document"),assertValidSchema(schema),null==rawVariableValues||Object(isObjectLike.a)(rawVariableValues)||Object(devAssert.a)(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function buildExecutionContext(schema,document,rootValue,contextValue,rawVariableValues,operationName,fieldResolver,typeResolver){for(var operation,hasMultipleAssumedOperations=!1,fragments=Object.create(null),_i2=0,_document$definitions2=document.definitions;_i2<_document$definitions2.length;_i2++){var definition=_document$definitions2[_i2];switch(definition.kind){case kinds.a.OPERATION_DEFINITION:!operationName&&operation?hasMultipleAssumedOperations=!0:(!operationName||definition.name&&definition.name.value===operationName)&&(operation=definition);break;case kinds.a.FRAGMENT_DEFINITION:fragments[definition.name.value]=definition}}if(!operation)return operationName?[new GraphQLError.a('Unknown operation named "'.concat(operationName,'".'))]:[new GraphQLError.a("Must provide an operation.")];if(hasMultipleAssumedOperations)return[new GraphQLError.a("Must provide operation name if query contains multiple operations.")];var coercedVariableValues=Object(execution_values.getVariableValues)(schema,operation.variableDefinitions||[],rawVariableValues||{},{maxErrors:50});return coercedVariableValues.errors?coercedVariableValues.errors:{schema:schema,fragments:fragments,rootValue:rootValue,contextValue:contextValue,operation:operation,variableValues:coercedVariableValues.coerced,fieldResolver:fieldResolver||execute_defaultFieldResolver,typeResolver:typeResolver||execute_defaultTypeResolver,errors:[]}}function executeFields(exeContext,parentType,sourceValue,path,fields){for(var object,keys,valuesAndPromises,results=Object.create(null),containsPromise=!1,_i4=0,_Object$keys2=Object.keys(fields);_i4<_Object$keys2.length;_i4++){var responseName=_Object$keys2[_i4],result=resolveField(exeContext,parentType,sourceValue,fields[responseName],Object(Path.a)(path,responseName));void 0!==result&&(results[responseName]=result,!containsPromise&&isPromise(result)&&(containsPromise=!0))}return containsPromise?(object=results,keys=Object.keys(object),valuesAndPromises=keys.map((function(name){return object[name]})),Promise.all(valuesAndPromises).then((function(values){return values.reduce((function(resolvedObject,value,i){return resolvedObject[keys[i]]=value,resolvedObject}),Object.create(null))}))):results}function collectFields(exeContext,runtimeType,selectionSet,fields,visitedFragmentNames){for(var _i6=0,_selectionSet$selecti2=selectionSet.selections;_i6<_selectionSet$selecti2.length;_i6++){var selection=_selectionSet$selecti2[_i6];switch(selection.kind){case kinds.a.FIELD:if(!shouldIncludeNode(exeContext,selection))continue;var name=(node=selection).alias?node.alias.value:node.name.value;fields[name]||(fields[name]=[]),fields[name].push(selection);break;case kinds.a.INLINE_FRAGMENT:if(!shouldIncludeNode(exeContext,selection)||!doesFragmentConditionMatch(exeContext,selection,runtimeType))continue;collectFields(exeContext,runtimeType,selection.selectionSet,fields,visitedFragmentNames);break;case kinds.a.FRAGMENT_SPREAD:var fragName=selection.name.value;if(visitedFragmentNames[fragName]||!shouldIncludeNode(exeContext,selection))continue;visitedFragmentNames[fragName]=!0;var fragment=exeContext.fragments[fragName];if(!fragment||!doesFragmentConditionMatch(exeContext,fragment,runtimeType))continue;collectFields(exeContext,runtimeType,fragment.selectionSet,fields,visitedFragmentNames)}}var node;return fields}function shouldIncludeNode(exeContext,node){var skip=Object(execution_values.getDirectiveValues)(GraphQLSkipDirective,node,exeContext.variableValues);if(skip&&!0===skip.if)return!1;var include=Object(execution_values.getDirectiveValues)(GraphQLIncludeDirective,node,exeContext.variableValues);return!include||!1!==include.if}function doesFragmentConditionMatch(exeContext,fragment,type){var typeConditionNode=fragment.typeCondition;if(!typeConditionNode)return!0;var conditionalType=Object(typeFromAST.a)(exeContext.schema,typeConditionNode);return conditionalType===type||!!Object(type_definition.C)(conditionalType)&&exeContext.schema.isPossibleType(conditionalType,type)}function resolveField(exeContext,parentType,source,fieldNodes,path){var fieldName=fieldNodes[0].name.value,fieldDef=execute_getFieldDef(exeContext.schema,parentType,fieldName);if(fieldDef){var resolveFn=fieldDef.resolve||exeContext.fieldResolver,info=buildResolveInfo(exeContext,fieldDef,fieldNodes,parentType,path),result=resolveFieldValueOrError(exeContext,fieldDef,fieldNodes,resolveFn,source,info);return completeValueCatchingError(exeContext,fieldDef.type,fieldNodes,info,path,result)}}function buildResolveInfo(exeContext,fieldDef,fieldNodes,parentType,path){return{fieldName:fieldDef.name,fieldNodes:fieldNodes,returnType:fieldDef.type,parentType:parentType,path:path,schema:exeContext.schema,fragments:exeContext.fragments,rootValue:exeContext.rootValue,operation:exeContext.operation,variableValues:exeContext.variableValues}}function resolveFieldValueOrError(exeContext,fieldDef,fieldNodes,resolveFn,source,info){try{var result=resolveFn(source,Object(execution_values.getArgumentValues)(fieldDef,fieldNodes[0],exeContext.variableValues),exeContext.contextValue,info);return isPromise(result)?result.then(void 0,asErrorInstance):result}catch(error){return asErrorInstance(error)}}function asErrorInstance(error){return error instanceof Error?error:new Error("Unexpected error value: "+Object(inspect.a)(error))}function completeValueCatchingError(exeContext,returnType,fieldNodes,info,path,result){try{var completed;return completed=isPromise(result)?result.then((function(resolved){return completeValue(exeContext,returnType,fieldNodes,info,path,resolved)})):completeValue(exeContext,returnType,fieldNodes,info,path,result),isPromise(completed)?completed.then(void 0,(function(error){return handleFieldError(error,fieldNodes,path,returnType,exeContext)})):completed}catch(error){return handleFieldError(error,fieldNodes,path,returnType,exeContext)}}function handleFieldError(rawError,fieldNodes,path,returnType,exeContext){var error=locatedError(asErrorInstance(rawError),fieldNodes,Object(Path.b)(path));if(Object(type_definition.L)(returnType))throw error;return exeContext.errors.push(error),null}function completeValue(exeContext,returnType,fieldNodes,info,path,result){if(result instanceof Error)throw result;if(Object(type_definition.L)(returnType)){var completed=completeValue(exeContext,returnType.ofType,fieldNodes,info,path,result);if(null===completed)throw new Error("Cannot return null for non-nullable field ".concat(info.parentType.name,".").concat(info.fieldName,"."));return completed}return isNullish(result)?null:Object(type_definition.J)(returnType)?function(exeContext,returnType,fieldNodes,info,path,result){if(!Object(iterall.isCollection)(result))throw new GraphQLError.a("Expected Iterable, but did not find one for field ".concat(info.parentType.name,".").concat(info.fieldName,"."));var itemType=returnType.ofType,containsPromise=!1,completedResults=[];return Object(iterall.forEach)(result,(function(item,index){var fieldPath=Object(Path.a)(path,index),completedItem=completeValueCatchingError(exeContext,itemType,fieldNodes,info,fieldPath,item);!containsPromise&&isPromise(completedItem)&&(containsPromise=!0),completedResults.push(completedItem)})),containsPromise?Promise.all(completedResults):completedResults}(exeContext,returnType,fieldNodes,info,path,result):Object(type_definition.I)(returnType)?function(returnType,result){var serializedResult=returnType.serialize(result);if(Object(isInvalid.a)(serializedResult))throw new Error('Expected a value of type "'.concat(Object(inspect.a)(returnType),'" but ')+"received: ".concat(Object(inspect.a)(result)));return serializedResult}(returnType,result):Object(type_definition.C)(returnType)?function(exeContext,returnType,fieldNodes,info,path,result){var resolveTypeFn=returnType.resolveType||exeContext.typeResolver,contextValue=exeContext.contextValue,runtimeType=resolveTypeFn(result,contextValue,info,returnType);if(isPromise(runtimeType))return runtimeType.then((function(resolvedRuntimeType){return completeObjectValue(exeContext,ensureValidRuntimeType(resolvedRuntimeType,exeContext,returnType,fieldNodes,info,result),fieldNodes,info,path,result)}));return completeObjectValue(exeContext,ensureValidRuntimeType(runtimeType,exeContext,returnType,fieldNodes,info,result),fieldNodes,info,path,result)}(exeContext,returnType,fieldNodes,info,path,result):Object(type_definition.N)(returnType)?completeObjectValue(exeContext,returnType,fieldNodes,info,path,result):void Object(invariant.a)(!1,"Cannot complete value of unexpected output type: "+Object(inspect.a)(returnType))}function ensureValidRuntimeType(runtimeTypeOrName,exeContext,returnType,fieldNodes,info,result){var runtimeType="string"==typeof runtimeTypeOrName?exeContext.schema.getType(runtimeTypeOrName):runtimeTypeOrName;if(!Object(type_definition.N)(runtimeType))throw new GraphQLError.a("Abstract type ".concat(returnType.name," must resolve to an Object type at runtime for field ").concat(info.parentType.name,".").concat(info.fieldName," with ")+"value ".concat(Object(inspect.a)(result),', received "').concat(Object(inspect.a)(runtimeType),'". ')+"Either the ".concat(returnType.name,' type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.'),fieldNodes);if(!exeContext.schema.isPossibleType(returnType,runtimeType))throw new GraphQLError.a('Runtime Object type "'.concat(runtimeType.name,'" is not a possible type for "').concat(returnType.name,'".'),fieldNodes);return runtimeType}function completeObjectValue(exeContext,returnType,fieldNodes,info,path,result){if(returnType.isTypeOf){var isTypeOf=returnType.isTypeOf(result,exeContext.contextValue,info);if(isPromise(isTypeOf))return isTypeOf.then((function(resolvedIsTypeOf){if(!resolvedIsTypeOf)throw invalidReturnTypeError(returnType,result,fieldNodes);return collectAndExecuteSubfields(exeContext,returnType,fieldNodes,path,result)}));if(!isTypeOf)throw invalidReturnTypeError(returnType,result,fieldNodes)}return collectAndExecuteSubfields(exeContext,returnType,fieldNodes,path,result)}function invalidReturnTypeError(returnType,result,fieldNodes){return new GraphQLError.a('Expected value of type "'.concat(returnType.name,'" but got: ').concat(Object(inspect.a)(result),"."),fieldNodes)}function collectAndExecuteSubfields(exeContext,returnType,fieldNodes,path,result){return executeFields(exeContext,returnType,result,path,collectSubfields(exeContext,returnType,fieldNodes))}var fn,cache0,collectSubfields=(fn=function(exeContext,returnType,fieldNodes){for(var subFieldNodes=Object.create(null),visitedFragmentNames=Object.create(null),_i8=0;_i8<fieldNodes.length;_i8++){var node=fieldNodes[_i8];node.selectionSet&&(subFieldNodes=collectFields(exeContext,returnType,node.selectionSet,subFieldNodes,visitedFragmentNames))}return subFieldNodes},function(a1,a2,a3){cache0||(cache0=new WeakMap);var cache2,cache1=cache0.get(a1);if(cache1){if(cache2=cache1.get(a2)){var cachedValue=cache2.get(a3);if(void 0!==cachedValue)return cachedValue}}else cache1=new WeakMap,cache0.set(a1,cache1);cache2||(cache2=new WeakMap,cache1.set(a2,cache2));var newValue=fn(a1,a2,a3);return cache2.set(a3,newValue),newValue});var execute_defaultTypeResolver=function(value,contextValue,info,abstractType){if(Object(isObjectLike.a)(value)&&"string"==typeof value.__typename)return value.__typename;for(var possibleTypes=info.schema.getPossibleTypes(abstractType),promisedIsTypeOfResults=[],i=0;i<possibleTypes.length;i++){var type=possibleTypes[i];if(type.isTypeOf){var isTypeOfResult=type.isTypeOf(value,contextValue,info);if(isPromise(isTypeOfResult))promisedIsTypeOfResults[i]=isTypeOfResult;else if(isTypeOfResult)return type}}return promisedIsTypeOfResults.length?Promise.all(promisedIsTypeOfResults).then((function(isTypeOfResults){for(var _i9=0;_i9<isTypeOfResults.length;_i9++)if(isTypeOfResults[_i9])return possibleTypes[_i9]})):void 0},execute_defaultFieldResolver=function(source,args,contextValue,info){if(Object(isObjectLike.a)(source)||"function"==typeof source){var property=source[info.fieldName];return"function"==typeof property?source[info.fieldName](args,contextValue,info):property}};function execute_getFieldDef(schema,parentType,fieldName){return fieldName===SchemaMetaFieldDef.name&&schema.getQueryType()===parentType?SchemaMetaFieldDef:fieldName===TypeMetaFieldDef.name&&schema.getQueryType()===parentType?TypeMetaFieldDef:fieldName===TypeNameMetaFieldDef.name?TypeNameMetaFieldDef:parentType.getFields()[fieldName]}function graphql(argsOrSchema,source,rootValue,contextValue,variableValues,operationName,fieldResolver,typeResolver){var _arguments=arguments;return new Promise((function(resolve){return resolve(1===_arguments.length?graphqlImpl(argsOrSchema):graphqlImpl({schema:argsOrSchema,source:source,rootValue:rootValue,contextValue:contextValue,variableValues:variableValues,operationName:operationName,fieldResolver:fieldResolver,typeResolver:typeResolver}))}))}function graphqlSync(argsOrSchema,source,rootValue,contextValue,variableValues,operationName,fieldResolver,typeResolver){var result=graphqlImpl(1===arguments.length?argsOrSchema:{schema:argsOrSchema,source:source,rootValue:rootValue,contextValue:contextValue,variableValues:variableValues,operationName:operationName,fieldResolver:fieldResolver,typeResolver:typeResolver});if(isPromise(result))throw new Error("GraphQL execution failed to complete synchronously.");return result}function graphqlImpl(args){var document,schema=args.schema,source=args.source,rootValue=args.rootValue,contextValue=args.contextValue,variableValues=args.variableValues,operationName=args.operationName,fieldResolver=args.fieldResolver,typeResolver=args.typeResolver,schemaValidationErrors=validateSchema(schema);if(schemaValidationErrors.length>0)return{errors:schemaValidationErrors};try{document=Object(parser.a)(source)}catch(syntaxError){return{errors:[syntaxError]}}var validationErrors=validate(schema,document);return validationErrors.length>0?{errors:validationErrors}:execute({schema:schema,document:document,rootValue:rootValue,contextValue:contextValue,variableValues:variableValues,operationName:operationName,fieldResolver:fieldResolver,typeResolver:typeResolver})}var language_source=__webpack_require__(45),language_location=__webpack_require__(48),printLocation=__webpack_require__(60),language_lexer=__webpack_require__(49),language_tokenKind=__webpack_require__(4);function mapAsyncIterator(iterable,callback,rejectCallback){var $return,abruptClose,mapReject,obj,key,value,iterator=Object(iterall.getAsyncIterator)(iterable);function mapResult(result){return result.done?result:asyncMapValue(result.value,callback).then(iteratorResult,abruptClose)}if("function"==typeof iterator.return&&($return=iterator.return,abruptClose=function(error){var rethrow=function(){return Promise.reject(error)};return $return.call(iterator).then(rethrow,rethrow)}),rejectCallback){var reject=rejectCallback;mapReject=function(error){return asyncMapValue(error,reject).then(iteratorResult,abruptClose)}}return obj={next:function(){return iterator.next().then(mapResult,mapReject)},return:function(){return $return?$return.call(iterator).then(mapResult,mapReject):Promise.resolve({value:void 0,done:!0})},throw:function(error){return"function"==typeof iterator.throw?iterator.throw(error).then(mapResult,mapReject):Promise.reject(error).catch(abruptClose)}},key=iterall.$$asyncIterator,value=function(){return this},key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function asyncMapValue(value,callback){return new Promise((function(resolve){return resolve(callback(value))}))}function iteratorResult(value){return{value:value,done:!1}}function subscribe(argsOrSchema,document,rootValue,contextValue,variableValues,operationName,fieldResolver,subscribeFieldResolver){return subscribeImpl(1===arguments.length?argsOrSchema:{schema:argsOrSchema,document:document,rootValue:rootValue,contextValue:contextValue,variableValues:variableValues,operationName:operationName,fieldResolver:fieldResolver,subscribeFieldResolver:subscribeFieldResolver})}function reportGraphQLError(error){if(error instanceof GraphQLError.a)return{errors:[error]};throw error}function subscribeImpl(args){var schema=args.schema,document=args.document,rootValue=args.rootValue,contextValue=args.contextValue,variableValues=args.variableValues,operationName=args.operationName,fieldResolver=args.fieldResolver,subscribeFieldResolver=args.subscribeFieldResolver,sourcePromise=createSourceEventStream(schema,document,rootValue,contextValue,variableValues,operationName,subscribeFieldResolver),mapSourceToResponse=function(payload){return execute(schema,document,payload,contextValue,variableValues,operationName,fieldResolver)};return sourcePromise.then((function(resultOrStream){return Object(iterall.isAsyncIterable)(resultOrStream)?mapAsyncIterator(resultOrStream,mapSourceToResponse,reportGraphQLError):resultOrStream}))}function createSourceEventStream(schema,document,rootValue,contextValue,variableValues,operationName,fieldResolver){assertValidExecutionArguments(schema,document,variableValues);try{var exeContext=buildExecutionContext(schema,document,rootValue,contextValue,variableValues,operationName,fieldResolver);if(Array.isArray(exeContext))return Promise.resolve({errors:exeContext});var type=getOperationRootType(schema,exeContext.operation),fields=collectFields(exeContext,type,exeContext.operation.selectionSet,Object.create(null),Object.create(null)),responseName=Object.keys(fields)[0],fieldNodes=fields[responseName],fieldName=fieldNodes[0].name.value,fieldDef=execute_getFieldDef(schema,type,fieldName);if(!fieldDef)throw new GraphQLError.a('The subscription field "'.concat(fieldName,'" is not defined.'),fieldNodes);var resolveFn=fieldDef.subscribe||exeContext.fieldResolver,path=Object(Path.a)(void 0,responseName),info=buildResolveInfo(exeContext,fieldDef,fieldNodes,type,path),result=resolveFieldValueOrError(exeContext,fieldDef,fieldNodes,resolveFn,rootValue,info);return Promise.resolve(result).then((function(eventStream){if(eventStream instanceof Error)return{errors:[locatedError(eventStream,fieldNodes,Object(Path.b)(path))]};if(Object(iterall.isAsyncIterable)(eventStream))return eventStream;throw new Error("Subscription field must return Async Iterable. Received: "+Object(inspect.a)(eventStream))}))}catch(error){return error instanceof GraphQLError.a?Promise.resolve({errors:[error]}):Promise.reject(error)}}var syntaxError=__webpack_require__(27);function formatError(error){error||Object(devAssert.a)(0,"Received null or undefined error.");var message=error.message||"An unknown error occurred.",locations=error.locations,path=error.path,extensions=error.extensions;return extensions?{message:message,locations:locations,path:path,extensions:extensions}:{message:message,locations:locations,path:path}}function getIntrospectionQuery(options){var descriptions=!(options&&!1===options.descriptions);return"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ".concat(descriptions?"description":"","\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ").concat(descriptions?"description":"","\n      fields(includeDeprecated: true) {\n        name\n        ").concat(descriptions?"description":"","\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ").concat(descriptions?"description":"","\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ").concat(descriptions?"description":"","\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ")}var introspectionQuery=getIntrospectionQuery(),getOperationAST=__webpack_require__(233);function introspectionFromSchema(schema,options){var result=execute(schema,Object(parser.a)(getIntrospectionQuery(options)));return!isPromise(result)&&!result.errors&&result.data||Object(invariant.a)(0),result.data}var keyValMap=__webpack_require__(14),valueFromAST=__webpack_require__(46);function buildClientSchema(introspection,options){Object(isObjectLike.a)(introspection)&&Object(isObjectLike.a)(introspection.__schema)||Object(devAssert.a)(0,'Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: '+Object(inspect.a)(introspection));for(var schemaIntrospection=introspection.__schema,typeMap=Object(keyValMap.a)(schemaIntrospection.types,(function(typeIntrospection){return typeIntrospection.name}),(function(typeIntrospection){return function(type){if(type&&type.name&&type.kind)switch(type.kind){case TypeKind.SCALAR:return scalarIntrospection=type,new type_definition.g({name:scalarIntrospection.name,description:scalarIntrospection.description});case TypeKind.OBJECT:return function(objectIntrospection){if(!objectIntrospection.interfaces)throw new Error("Introspection result missing interfaces: "+Object(inspect.a)(objectIntrospection));return new type_definition.f({name:objectIntrospection.name,description:objectIntrospection.description,interfaces:function(){return objectIntrospection.interfaces.map(getInterfaceType)},fields:function(){return buildFieldDefMap(objectIntrospection)}})}(type);case TypeKind.INTERFACE:return interfaceIntrospection=type,new type_definition.c({name:interfaceIntrospection.name,description:interfaceIntrospection.description,fields:function(){return buildFieldDefMap(interfaceIntrospection)}});case TypeKind.UNION:return function(unionIntrospection){if(!unionIntrospection.possibleTypes)throw new Error("Introspection result missing possibleTypes: "+Object(inspect.a)(unionIntrospection));return new type_definition.h({name:unionIntrospection.name,description:unionIntrospection.description,types:function(){return unionIntrospection.possibleTypes.map(getObjectType)}})}(type);case TypeKind.ENUM:return function(enumIntrospection){if(!enumIntrospection.enumValues)throw new Error("Introspection result missing enumValues: "+Object(inspect.a)(enumIntrospection));return new type_definition.a({name:enumIntrospection.name,description:enumIntrospection.description,values:Object(keyValMap.a)(enumIntrospection.enumValues,(function(valueIntrospection){return valueIntrospection.name}),(function(valueIntrospection){return{description:valueIntrospection.description,deprecationReason:valueIntrospection.deprecationReason}}))})}(type);case TypeKind.INPUT_OBJECT:return function(inputObjectIntrospection){if(!inputObjectIntrospection.inputFields)throw new Error("Introspection result missing inputFields: "+Object(inspect.a)(inputObjectIntrospection));return new type_definition.b({name:inputObjectIntrospection.name,description:inputObjectIntrospection.description,fields:function(){return buildInputValueDefMap(inputObjectIntrospection.inputFields)}})}(type)}var interfaceIntrospection;var scalarIntrospection;throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema:"+Object(inspect.a)(type))}(typeIntrospection)})),_i2=0,_ref2=[].concat(specifiedScalarTypes,introspectionTypes);_i2<_ref2.length;_i2++){var stdType=_ref2[_i2];typeMap[stdType.name]&&(typeMap[stdType.name]=stdType)}var queryType=schemaIntrospection.queryType?getObjectType(schemaIntrospection.queryType):null,mutationType=schemaIntrospection.mutationType?getObjectType(schemaIntrospection.mutationType):null,subscriptionType=schemaIntrospection.subscriptionType?getObjectType(schemaIntrospection.subscriptionType):null,directives=schemaIntrospection.directives?schemaIntrospection.directives.map((function(directiveIntrospection){if(!directiveIntrospection.args)throw new Error("Introspection result missing directive args: "+Object(inspect.a)(directiveIntrospection));if(!directiveIntrospection.locations)throw new Error("Introspection result missing directive locations: "+Object(inspect.a)(directiveIntrospection));return new directives_GraphQLDirective({name:directiveIntrospection.name,description:directiveIntrospection.description,locations:directiveIntrospection.locations.slice(),args:buildInputValueDefMap(directiveIntrospection.args)})})):[];return new schema_GraphQLSchema({query:queryType,mutation:mutationType,subscription:subscriptionType,types:Object(objectValues.a)(typeMap),directives:directives,assumeValid:options&&options.assumeValid,allowedLegacyNames:options&&options.allowedLegacyNames});function getType(typeRef){if(typeRef.kind===TypeKind.LIST){var itemRef=typeRef.ofType;if(!itemRef)throw new Error("Decorated type deeper than introspection query.");return Object(type_definition.d)(getType(itemRef))}if(typeRef.kind===TypeKind.NON_NULL){var nullableRef=typeRef.ofType;if(!nullableRef)throw new Error("Decorated type deeper than introspection query.");var nullableType=getType(nullableRef);return Object(type_definition.e)(Object(type_definition.t)(nullableType))}if(!typeRef.name)throw new Error("Unknown type reference: "+Object(inspect.a)(typeRef));return function(typeName){var type=typeMap[typeName];if(!type)throw new Error("Invalid or incomplete schema, unknown type: ".concat(typeName,". Ensure that a full introspection query is used in order to build a client schema."));return type}(typeRef.name)}function getOutputType(typeRef){var type=getType(typeRef);if(Object(type_definition.O)(type))return type;throw new Error("Introspection must provide output type for fields, but received: "+Object(inspect.a)(type)+".")}function getObjectType(typeRef){var type=getType(typeRef);return Object(type_definition.u)(type)}function getInterfaceType(typeRef){var type=getType(typeRef);return Object(type_definition.o)(type)}function buildFieldDefMap(typeIntrospection){if(!typeIntrospection.fields)throw new Error("Introspection result missing fields: "+Object(inspect.a)(typeIntrospection));return Object(keyValMap.a)(typeIntrospection.fields,(function(fieldIntrospection){return fieldIntrospection.name}),(function(fieldIntrospection){if(!fieldIntrospection.args)throw new Error("Introspection result missing field args: "+Object(inspect.a)(fieldIntrospection));return{description:fieldIntrospection.description,deprecationReason:fieldIntrospection.deprecationReason,type:getOutputType(fieldIntrospection.type),args:buildInputValueDefMap(fieldIntrospection.args)}}))}function buildInputValueDefMap(inputValueIntrospections){return Object(keyValMap.a)(inputValueIntrospections,(function(inputValue){return inputValue.name}),buildInputValue)}function buildInputValue(inputValueIntrospection){var type=function(typeRef){var type=getType(typeRef);if(Object(type_definition.G)(type))return type;throw new Error("Introspection must provide input type for arguments, but received: "+Object(inspect.a)(type)+".")}(inputValueIntrospection.type),defaultValue=inputValueIntrospection.defaultValue?Object(valueFromAST.a)(Object(parser.c)(inputValueIntrospection.defaultValue),type):void 0;return{description:inputValueIntrospection.description,type:type,defaultValue:defaultValue}}}var language_blockString=__webpack_require__(35);function buildASTSchema(documentAST,options){var schemaDef;documentAST&&documentAST.kind===kinds.a.DOCUMENT||Object(devAssert.a)(0,"Must provide valid Document AST"),options&&(options.assumeValid||options.assumeValidSDL)||function(documentAST){var errors=validateSDL(documentAST);if(0!==errors.length)throw new Error(errors.map((function(error){return error.message})).join("\n\n"))}(documentAST);for(var typeDefs=[],directiveDefs=[],_i2=0,_documentAST$definiti2=documentAST.definitions;_i2<_documentAST$definiti2.length;_i2++){var def=_documentAST$definiti2[_i2];def.kind===kinds.a.SCHEMA_DEFINITION?schemaDef=def:Object(predicates.d)(def)?typeDefs.push(def):def.kind===kinds.a.DIRECTIVE_DEFINITION&&directiveDefs.push(def)}var astBuilder=new buildASTSchema_ASTDefinitionBuilder(options,(function(typeName){var type=typeMap[typeName];if(void 0===type)throw new Error('Type "'.concat(typeName,'" not found in document.'));return type})),typeMap=keyByNameNode(typeDefs,(function(node){return astBuilder.buildType(node)})),operationTypes=schemaDef?function(schema){for(var opTypes={},_i4=0,_schema$operationType2=schema.operationTypes;_i4<_schema$operationType2.length;_i4++){var operationType=_schema$operationType2[_i4];opTypes[operationType.operation]=operationType.type.name.value}return opTypes}(schemaDef):{query:"Query",mutation:"Mutation",subscription:"Subscription"},directives=directiveDefs.map((function(def){return astBuilder.buildDirective(def)}));return directives.some((function(directive){return"skip"===directive.name}))||directives.push(GraphQLSkipDirective),directives.some((function(directive){return"include"===directive.name}))||directives.push(GraphQLIncludeDirective),directives.some((function(directive){return"deprecated"===directive.name}))||directives.push(GraphQLDeprecatedDirective),new schema_GraphQLSchema({query:operationTypes.query?typeMap[operationTypes.query]:null,mutation:operationTypes.mutation?typeMap[operationTypes.mutation]:null,subscription:operationTypes.subscription?typeMap[operationTypes.subscription]:null,types:Object(objectValues.a)(typeMap),directives:directives,astNode:schemaDef,assumeValid:options&&options.assumeValid,allowedLegacyNames:options&&options.allowedLegacyNames})}var stdTypeMap=Object(keyMap.a)(specifiedScalarTypes.concat(introspectionTypes),(function(type){return type.name})),buildASTSchema_ASTDefinitionBuilder=function(){function ASTDefinitionBuilder(options,resolveType){this._options=options,this._resolveType=resolveType}var _proto=ASTDefinitionBuilder.prototype;return _proto.getNamedType=function(node){var name=node.name.value;return stdTypeMap[name]||this._resolveType(name)},_proto.getWrappedType=function(node){return node.kind===kinds.a.LIST_TYPE?new type_definition.d(this.getWrappedType(node.type)):node.kind===kinds.a.NON_NULL_TYPE?new type_definition.e(this.getWrappedType(node.type)):this.getNamedType(node)},_proto.buildDirective=function(directive){var _this=this,locations=directive.locations.map((function(_ref){return _ref.value}));return new directives_GraphQLDirective({name:directive.name.value,description:getDescription(directive,this._options),locations:locations,isRepeatable:directive.repeatable,args:keyByNameNode(directive.arguments||[],(function(arg){return _this.buildArg(arg)})),astNode:directive})},_proto.buildField=function(field){var _this2=this;return{type:this.getWrappedType(field.type),description:getDescription(field,this._options),args:keyByNameNode(field.arguments||[],(function(arg){return _this2.buildArg(arg)})),deprecationReason:getDeprecationReason(field),astNode:field}},_proto.buildArg=function(value){var type=this.getWrappedType(value.type);return{type:type,description:getDescription(value,this._options),defaultValue:Object(valueFromAST.a)(value.defaultValue,type),astNode:value}},_proto.buildInputField=function(value){var type=this.getWrappedType(value.type);return{type:type,description:getDescription(value,this._options),defaultValue:Object(valueFromAST.a)(value.defaultValue,type),astNode:value}},_proto.buildEnumValue=function(value){return{description:getDescription(value,this._options),deprecationReason:getDeprecationReason(value),astNode:value}},_proto.buildType=function(astNode){var name=astNode.name.value;if(stdTypeMap[name])return stdTypeMap[name];switch(astNode.kind){case kinds.a.OBJECT_TYPE_DEFINITION:return this._makeTypeDef(astNode);case kinds.a.INTERFACE_TYPE_DEFINITION:return this._makeInterfaceDef(astNode);case kinds.a.ENUM_TYPE_DEFINITION:return this._makeEnumDef(astNode);case kinds.a.UNION_TYPE_DEFINITION:return this._makeUnionDef(astNode);case kinds.a.SCALAR_TYPE_DEFINITION:return this._makeScalarDef(astNode);case kinds.a.INPUT_OBJECT_TYPE_DEFINITION:return this._makeInputObjectDef(astNode)}Object(invariant.a)(!1,"Unexpected type definition node: "+Object(inspect.a)(astNode))},_proto._makeTypeDef=function(astNode){var _this3=this,interfaceNodes=astNode.interfaces,fieldNodes=astNode.fields,interfaces=interfaceNodes&&interfaceNodes.length>0?function(){return interfaceNodes.map((function(ref){return _this3.getNamedType(ref)}))}:[],fields=fieldNodes&&fieldNodes.length>0?function(){return keyByNameNode(fieldNodes,(function(field){return _this3.buildField(field)}))}:Object.create(null);return new type_definition.f({name:astNode.name.value,description:getDescription(astNode,this._options),interfaces:interfaces,fields:fields,astNode:astNode})},_proto._makeInterfaceDef=function(astNode){var _this4=this,fieldNodes=astNode.fields,fields=fieldNodes&&fieldNodes.length>0?function(){return keyByNameNode(fieldNodes,(function(field){return _this4.buildField(field)}))}:Object.create(null);return new type_definition.c({name:astNode.name.value,description:getDescription(astNode,this._options),fields:fields,astNode:astNode})},_proto._makeEnumDef=function(astNode){var _this5=this,valueNodes=astNode.values||[];return new type_definition.a({name:astNode.name.value,description:getDescription(astNode,this._options),values:keyByNameNode(valueNodes,(function(value){return _this5.buildEnumValue(value)})),astNode:astNode})},_proto._makeUnionDef=function(astNode){var _this6=this,typeNodes=astNode.types,types=typeNodes&&typeNodes.length>0?function(){return typeNodes.map((function(ref){return _this6.getNamedType(ref)}))}:[];return new type_definition.h({name:astNode.name.value,description:getDescription(astNode,this._options),types:types,astNode:astNode})},_proto._makeScalarDef=function(astNode){return new type_definition.g({name:astNode.name.value,description:getDescription(astNode,this._options),astNode:astNode})},_proto._makeInputObjectDef=function(def){var _this7=this,fields=def.fields;return new type_definition.b({name:def.name.value,description:getDescription(def,this._options),fields:fields?function(){return keyByNameNode(fields,(function(field){return _this7.buildInputField(field)}))}:Object.create(null),astNode:def})},ASTDefinitionBuilder}();function keyByNameNode(list,valFn){return Object(keyValMap.a)(list,(function(_ref2){return _ref2.name.value}),valFn)}function getDeprecationReason(node){var deprecated=Object(execution_values.getDirectiveValues)(GraphQLDeprecatedDirective,node);return deprecated&&deprecated.reason}function getDescription(node,options){if(node.description)return node.description.value;if(options&&options.commentDescriptions){var rawValue=function(node){var loc=node.loc;if(!loc)return;var comments=[],token=loc.startToken.prev;for(;token&&token.kind===language_tokenKind.a.COMMENT&&token.next&&token.prev&&token.line+1===token.next.line&&token.line!==token.prev.line;){var value=String(token.value);comments.push(value),token=token.prev}return comments.reverse().join("\n")}(node);if(void 0!==rawValue)return Object(language_blockString.a)("\n"+rawValue)}}function buildSchema(source,options){return buildASTSchema(Object(parser.a)(source,options),options)}var mapValue=__webpack_require__(37);function extendSchema_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function extendSchema_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?extendSchema_ownKeys(source,!0).forEach((function(key){extendSchema_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):extendSchema_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function extendSchema_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function extendSchema(schema,documentAST,options){assertSchema(schema),documentAST&&documentAST.kind===kinds.a.DOCUMENT||Object(devAssert.a)(0,"Must provide valid Document AST"),options&&(options.assumeValid||options.assumeValidSDL)||function(documentAST,schema){var errors=validateSDL(documentAST,schema);if(0!==errors.length)throw new Error(errors.map((function(error){return error.message})).join("\n\n"))}(documentAST,schema);for(var schemaDef,typeDefs=[],typeExtsMap=Object.create(null),directiveDefs=[],schemaExts=[],_i2=0,_documentAST$definiti2=documentAST.definitions;_i2<_documentAST$definiti2.length;_i2++){var def=_documentAST$definiti2[_i2];if(def.kind===kinds.a.SCHEMA_DEFINITION)schemaDef=def;else if(def.kind===kinds.a.SCHEMA_EXTENSION)schemaExts.push(def);else if(Object(predicates.d)(def))typeDefs.push(def);else if(Object(predicates.e)(def)){var extendedTypeName=def.name.value,existingTypeExts=typeExtsMap[extendedTypeName];typeExtsMap[extendedTypeName]=existingTypeExts?existingTypeExts.concat([def]):[def]}else def.kind===kinds.a.DIRECTIVE_DEFINITION&&directiveDefs.push(def)}if(0===Object.keys(typeExtsMap).length&&0===typeDefs.length&&0===directiveDefs.length&&0===schemaExts.length&&!schemaDef)return schema;for(var schemaConfig=schema.toConfig(),astBuilder=new buildASTSchema_ASTDefinitionBuilder(options,(function(typeName){var type=typeMap[typeName];if(void 0===type)throw new Error('Unknown type: "'.concat(typeName,'".'));return type})),typeMap=Object(keyValMap.a)(typeDefs,(function(node){return node.name.value}),(function(node){return astBuilder.buildType(node)})),_i4=0,_schemaConfig$types2=schemaConfig.types;_i4<_schemaConfig$types2.length;_i4++){var existingType=_schemaConfig$types2[_i4];typeMap[existingType.name]=extendNamedType(existingType)}var operationTypes={query:schemaConfig.query&&schemaConfig.query.name,mutation:schemaConfig.mutation&&schemaConfig.mutation.name,subscription:schemaConfig.subscription&&schemaConfig.subscription.name};if(schemaDef)for(var _i6=0,_schemaDef$operationT2=schemaDef.operationTypes;_i6<_schemaDef$operationT2.length;_i6++){var _ref2=_schemaDef$operationT2[_i6],operation=_ref2.operation,type=_ref2.type;operationTypes[operation]=type.name.value}for(var _i8=0;_i8<schemaExts.length;_i8++){var schemaExt=schemaExts[_i8];if(schemaExt.operationTypes)for(var _i10=0,_schemaExt$operationT2=schemaExt.operationTypes;_i10<_schemaExt$operationT2.length;_i10++){var _ref4=_schemaExt$operationT2[_i10],_operation=_ref4.operation,_type=_ref4.type;operationTypes[_operation]=_type.name.value}}var existingDirectives,allowedLegacyNames=schemaConfig.allowedLegacyNames.concat(options&&options.allowedLegacyNames||[]);return new schema_GraphQLSchema({query:getMaybeTypeByName(operationTypes.query),mutation:getMaybeTypeByName(operationTypes.mutation),subscription:getMaybeTypeByName(operationTypes.subscription),types:Object(objectValues.a)(typeMap),directives:(existingDirectives=schema.getDirectives().map(extendDirective),existingDirectives||Object(devAssert.a)(0,"schema must have default directives"),existingDirectives.concat(directiveDefs.map((function(node){return astBuilder.buildDirective(node)})))),astNode:schemaDef||schemaConfig.astNode,extensionASTNodes:schemaConfig.extensionASTNodes.concat(schemaExts),allowedLegacyNames:allowedLegacyNames});function replaceType(type){return Object(type_definition.J)(type)?new type_definition.d(replaceType(type.ofType)):Object(type_definition.L)(type)?new type_definition.e(replaceType(type.ofType)):replaceNamedType(type)}function replaceNamedType(type){return typeMap[type.name]}function getMaybeTypeByName(typeName){return typeName?typeMap[typeName]:null}function extendNamedType(type){return isIntrospectionType(type)||isSpecifiedScalarType(type)?type:Object(type_definition.R)(type)?function(type){var config=type.toConfig(),extensions=typeExtsMap[config.name]||[];return new type_definition.g(extendSchema_objectSpread({},config,{extensionASTNodes:config.extensionASTNodes.concat(extensions)}))}(type):Object(type_definition.N)(type)?function(type){var config=type.toConfig(),extensions=typeExtsMap[config.name]||[],interfaceNodes=polyfills_flatMap(extensions,(function(node){return node.interfaces||[]})),fieldNodes=polyfills_flatMap(extensions,(function(node){return node.fields||[]}));return new type_definition.f(extendSchema_objectSpread({},config,{interfaces:function(){return[].concat(type.getInterfaces().map(replaceNamedType),interfaceNodes.map((function(node){return astBuilder.getNamedType(node)})))},fields:function(){return extendSchema_objectSpread({},Object(mapValue.a)(config.fields,extendField),{},Object(keyValMap.a)(fieldNodes,(function(node){return node.name.value}),(function(node){return astBuilder.buildField(node)})))},extensionASTNodes:config.extensionASTNodes.concat(extensions)}))}(type):Object(type_definition.H)(type)?function(type){var config=type.toConfig(),extensions=typeExtsMap[config.name]||[],fieldNodes=polyfills_flatMap(extensions,(function(node){return node.fields||[]}));return new type_definition.c(extendSchema_objectSpread({},config,{fields:function(){return extendSchema_objectSpread({},Object(mapValue.a)(config.fields,extendField),{},Object(keyValMap.a)(fieldNodes,(function(node){return node.name.value}),(function(node){return astBuilder.buildField(node)})))},extensionASTNodes:config.extensionASTNodes.concat(extensions)}))}(type):Object(type_definition.T)(type)?function(type){var config=type.toConfig(),extensions=typeExtsMap[config.name]||[],typeNodes=polyfills_flatMap(extensions,(function(node){return node.types||[]}));return new type_definition.h(extendSchema_objectSpread({},config,{types:function(){return[].concat(type.getTypes().map(replaceNamedType),typeNodes.map((function(node){return astBuilder.getNamedType(node)})))},extensionASTNodes:config.extensionASTNodes.concat(extensions)}))}(type):Object(type_definition.E)(type)?function(type){var config=type.toConfig(),extensions=typeExtsMap[type.name]||[],valueNodes=polyfills_flatMap(extensions,(function(node){return node.values||[]}));return new type_definition.a(extendSchema_objectSpread({},config,{values:extendSchema_objectSpread({},config.values,{},Object(keyValMap.a)(valueNodes,(function(value){return value.name.value}),(function(value){return astBuilder.buildEnumValue(value)}))),extensionASTNodes:config.extensionASTNodes.concat(extensions)}))}(type):Object(type_definition.F)(type)?function(type){var config=type.toConfig(),extensions=typeExtsMap[config.name]||[],fieldNodes=polyfills_flatMap(extensions,(function(node){return node.fields||[]}));return new type_definition.b(extendSchema_objectSpread({},config,{fields:function(){return extendSchema_objectSpread({},Object(mapValue.a)(config.fields,(function(field){return extendSchema_objectSpread({},field,{type:replaceType(field.type)})})),{},Object(keyValMap.a)(fieldNodes,(function(field){return field.name.value}),(function(field){return astBuilder.buildInputField(field)})))},extensionASTNodes:config.extensionASTNodes.concat(extensions)}))}(type):void Object(invariant.a)(!1,"Unexpected type: "+Object(inspect.a)(type))}function extendDirective(directive){var config=directive.toConfig();return new directives_GraphQLDirective(extendSchema_objectSpread({},config,{args:Object(mapValue.a)(config.args,extendArg)}))}function extendField(field){return extendSchema_objectSpread({},field,{type:replaceType(field.type),args:Object(mapValue.a)(field.args,extendArg)})}function extendArg(arg){return extendSchema_objectSpread({},arg,{type:replaceType(arg.type)})}}function lexicographicSortSchema_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function lexicographicSortSchema_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?lexicographicSortSchema_ownKeys(source,!0).forEach((function(key){lexicographicSortSchema_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):lexicographicSortSchema_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function lexicographicSortSchema_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function lexicographicSortSchema(schema){var schemaConfig=schema.toConfig(),typeMap=Object(keyValMap.a)(sortByName(schemaConfig.types),(function(type){return type.name}),(function(type){if(Object(type_definition.R)(type)||isIntrospectionType(type))return type;if(Object(type_definition.N)(type)){var config=type.toConfig();return new type_definition.f(lexicographicSortSchema_objectSpread({},config,{interfaces:function(){return sortTypes(config.interfaces)},fields:function(){return sortFields(config.fields)}}))}if(Object(type_definition.H)(type)){var _config=type.toConfig();return new type_definition.c(lexicographicSortSchema_objectSpread({},_config,{fields:function(){return sortFields(_config.fields)}}))}if(Object(type_definition.T)(type)){var _config2=type.toConfig();return new type_definition.h(lexicographicSortSchema_objectSpread({},_config2,{types:function(){return sortTypes(_config2.types)}}))}if(Object(type_definition.E)(type)){var _config3=type.toConfig();return new type_definition.a(lexicographicSortSchema_objectSpread({},_config3,{values:sortObjMap(_config3.values)}))}if(Object(type_definition.F)(type)){var _config4=type.toConfig();return new type_definition.b(lexicographicSortSchema_objectSpread({},_config4,{fields:function(){return sortObjMap(_config4.fields,(function(field){return lexicographicSortSchema_objectSpread({},field,{type:replaceType(field.type)})}))}}))}Object(invariant.a)(!1,"Unexpected type: "+Object(inspect.a)(type))}));return new schema_GraphQLSchema(lexicographicSortSchema_objectSpread({},schemaConfig,{types:Object(objectValues.a)(typeMap),directives:sortByName(schemaConfig.directives).map((function(directive){var config=directive.toConfig();return new directives_GraphQLDirective(lexicographicSortSchema_objectSpread({},config,{locations:sortBy(config.locations,(function(x){return x})),args:sortArgs(config.args)}))})),query:replaceMaybeType(schemaConfig.query),mutation:replaceMaybeType(schemaConfig.mutation),subscription:replaceMaybeType(schemaConfig.subscription)}));function replaceType(type){return Object(type_definition.J)(type)?new type_definition.d(replaceType(type.ofType)):Object(type_definition.L)(type)?new type_definition.e(replaceType(type.ofType)):replaceNamedType(type)}function replaceNamedType(type){return typeMap[type.name]}function replaceMaybeType(maybeType){return maybeType&&replaceNamedType(maybeType)}function sortArgs(args){return sortObjMap(args,(function(arg){return lexicographicSortSchema_objectSpread({},arg,{type:replaceType(arg.type)})}))}function sortFields(fieldsMap){return sortObjMap(fieldsMap,(function(field){return lexicographicSortSchema_objectSpread({},field,{type:replaceType(field.type),args:sortArgs(field.args)})}))}function sortTypes(arr){return sortByName(arr).map(replaceNamedType)}}function sortObjMap(map,sortValueFn){for(var sortedMap=Object.create(null),sortedKeys=sortBy(Object.keys(map),(function(x){return x})),_i2=0;_i2<sortedKeys.length;_i2++){var key=sortedKeys[_i2],value=map[key];sortedMap[key]=sortValueFn?sortValueFn(value):value}return sortedMap}function sortByName(array){return sortBy(array,(function(obj){return obj.name}))}function sortBy(array,mapToKey){return array.slice().sort((function(obj1,obj2){var key1=mapToKey(obj1),key2=mapToKey(obj2);return key1.localeCompare(key2)}))}function printSchema(schema,options){return printFilteredSchema(schema,(function(n){return!isSpecifiedDirective(n)}),isDefinedType,options)}function printIntrospectionSchema(schema,options){return printFilteredSchema(schema,isSpecifiedDirective,isIntrospectionType,options)}function isDefinedType(type){return!isSpecifiedScalarType(type)&&!isIntrospectionType(type)}function printFilteredSchema(schema,directiveFilter,typeFilter,options){var directives=schema.getDirectives().filter(directiveFilter),typeMap=schema.getTypeMap(),types=Object(objectValues.a)(typeMap).sort((function(type1,type2){return type1.name.localeCompare(type2.name)})).filter(typeFilter);return[printSchemaDefinition(schema)].concat(directives.map((function(directive){return function(directive,options){return printDescription(options,directive)+"directive @"+directive.name+printArgs(options,directive.args)+(directive.isRepeatable?" repeatable":"")+" on "+directive.locations.join(" | ")}(directive,options)})),types.map((function(type){return printType(type,options)}))).filter(Boolean).join("\n\n")+"\n"}function printSchemaDefinition(schema){if(!function(schema){var queryType=schema.getQueryType();if(queryType&&"Query"!==queryType.name)return!1;var mutationType=schema.getMutationType();if(mutationType&&"Mutation"!==mutationType.name)return!1;var subscriptionType=schema.getSubscriptionType();if(subscriptionType&&"Subscription"!==subscriptionType.name)return!1;return!0}(schema)){var operationTypes=[],queryType=schema.getQueryType();queryType&&operationTypes.push("  query: ".concat(queryType.name));var mutationType=schema.getMutationType();mutationType&&operationTypes.push("  mutation: ".concat(mutationType.name));var subscriptionType=schema.getSubscriptionType();return subscriptionType&&operationTypes.push("  subscription: ".concat(subscriptionType.name)),"schema {\n".concat(operationTypes.join("\n"),"\n}")}}function printType(type,options){return Object(type_definition.R)(type)?function(type,options){return printDescription(options,type)+"scalar ".concat(type.name)}(type,options):Object(type_definition.N)(type)?function(type,options){var interfaces=type.getInterfaces(),implementedInterfaces=interfaces.length?" implements "+interfaces.map((function(i){return i.name})).join(" & "):"";return printDescription(options,type)+"type ".concat(type.name).concat(implementedInterfaces)+printFields(options,type)}(type,options):Object(type_definition.H)(type)?function(type,options){return printDescription(options,type)+"interface ".concat(type.name)+printFields(options,type)}(type,options):Object(type_definition.T)(type)?function(type,options){var types=type.getTypes(),possibleTypes=types.length?" = "+types.join(" | "):"";return printDescription(options,type)+"union "+type.name+possibleTypes}(type,options):Object(type_definition.E)(type)?function(type,options){var values=type.getValues().map((function(value,i){return printDescription(options,value,"  ",!i)+"  "+value.name+printDeprecated(value)}));return printDescription(options,type)+"enum ".concat(type.name)+printBlock(values)}(type,options):Object(type_definition.F)(type)?function(type,options){var fields=Object(objectValues.a)(type.getFields()).map((function(f,i){return printDescription(options,f,"  ",!i)+"  "+printInputValue(f)}));return printDescription(options,type)+"input ".concat(type.name)+printBlock(fields)}(type,options):void Object(invariant.a)(!1,"Unexpected type: "+Object(inspect.a)(type))}function printFields(options,type){return printBlock(Object(objectValues.a)(type.getFields()).map((function(f,i){return printDescription(options,f,"  ",!i)+"  "+f.name+printArgs(options,f.args,"  ")+": "+String(f.type)+printDeprecated(f)})))}function printBlock(items){return 0!==items.length?" {\n"+items.join("\n")+"\n}":""}function printArgs(options,args){var indentation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===args.length?"":args.every((function(arg){return!arg.description}))?"("+args.map(printInputValue).join(", ")+")":"(\n"+args.map((function(arg,i){return printDescription(options,arg,"  "+indentation,!i)+"  "+indentation+printInputValue(arg)})).join("\n")+"\n"+indentation+")"}function printInputValue(arg){var defaultAST=astFromValue(arg.defaultValue,arg.type),argDecl=arg.name+": "+String(arg.type);return defaultAST&&(argDecl+=" = ".concat(Object(printer.print)(defaultAST))),argDecl}function printDeprecated(fieldOrEnumVal){if(!fieldOrEnumVal.isDeprecated)return"";var reason=fieldOrEnumVal.deprecationReason,reasonAST=astFromValue(reason,GraphQLString);return reasonAST&&""!==reason&&reason!==DEFAULT_DEPRECATION_REASON?" @deprecated(reason: "+Object(printer.print)(reasonAST)+")":" @deprecated"}function printDescription(options,def){var indentation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",firstInBlock=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!def.description)return"";var lines=descriptionLines(def.description,120-indentation.length);if(options&&options.commentDescriptions)return printDescriptionWithComments(lines,indentation,firstInBlock);var text=lines.join("\n"),preferMultipleLines=text.length>70,blockString=Object(language_blockString.c)(text,"",preferMultipleLines),prefix=indentation&&!firstInBlock?"\n"+indentation:indentation;return prefix+blockString.replace(/\n/g,"\n"+indentation)+"\n"}function printDescriptionWithComments(lines,indentation,firstInBlock){for(var description=indentation&&!firstInBlock?"\n":"",_i2=0;_i2<lines.length;_i2++){var line=lines[_i2];description+=""===line?indentation+"#\n":indentation+"# "+line+"\n"}return description}function descriptionLines(description,maxLen){var rawLines=description.split("\n");return polyfills_flatMap(rawLines,(function(line){return line.length<maxLen+5?line:function(line,maxLen){var parts=line.split(new RegExp("((?: |^).{15,".concat(maxLen-40,"}(?= |$))")));if(parts.length<4)return[line];for(var sublines=[parts[0]+parts[1]+parts[2]],i=3;i<parts.length;i+=2)sublines.push(parts[i].slice(1)+parts[i+1]);return sublines}(line,maxLen)}))}var valueFromASTUntyped=__webpack_require__(219),coerceInputValue=__webpack_require__(98),printPathArray=__webpack_require__(61);function coerceValue(inputValue,type,blameNode,path){var errors=[],value=Object(coerceInputValue.a)(inputValue,type,(function(errorPath,invalidValue,error){var errorPrefix="Invalid value "+Object(inspect.a)(invalidValue),pathArray=[].concat(Object(Path.b)(path),errorPath);pathArray.length>0&&(errorPrefix+=' at "value'.concat(Object(printPathArray.a)(pathArray),'"')),errors.push(new GraphQLError.a(errorPrefix+": "+error.message,blameNode,void 0,void 0,void 0,error.originalError))}));return errors.length>0?{errors:errors,value:void 0}:{errors:void 0,value:value}}function isValidJSValue(value,type){var errors=coerceValue(value,type).errors;return errors?errors.map((function(error){return error.message})):[]}function isValidLiteralValue(type,valueNode){var emptySchema=new schema_GraphQLSchema({}),emptyDoc={kind:kinds.a.DOCUMENT,definitions:[]},typeInfo=new TypeInfo_TypeInfo(emptySchema,void 0,type),context=new ValidationContext_ValidationContext(emptySchema,emptyDoc,typeInfo),visitor=ValuesOfCorrectType(context);return Object(language_visitor.c)(valueNode,Object(language_visitor.e)(typeInfo,visitor)),context.getErrors()}function concatAST(asts){return{kind:"Document",definitions:polyfills_flatMap(asts,(function(ast){return ast.definitions}))}}function separateOperations(documentAST){var fromName,operations=[],fragments=Object.create(null),positions=new Map,depGraph=Object.create(null),idx=0;Object(language_visitor.c)(documentAST,{OperationDefinition:function(node){fromName=separateOperations_opName(node),operations.push(node),positions.set(node,idx++)},FragmentDefinition:function(node){fromName=node.name.value,fragments[fromName]=node,positions.set(node,idx++)},FragmentSpread:function(node){var toName=node.name.value;(depGraph[fromName]||(depGraph[fromName]=Object.create(null)))[toName]=!0}});for(var separatedDocumentASTs=Object.create(null),_i2=0;_i2<operations.length;_i2++){var operation=operations[_i2],operationName=separateOperations_opName(operation),dependencies=Object.create(null);collectTransitiveDependencies(dependencies,depGraph,operationName);for(var definitions=[operation],_i4=0,_Object$keys2=Object.keys(dependencies);_i4<_Object$keys2.length;_i4++){var name=_Object$keys2[_i4];definitions.push(fragments[name])}definitions.sort((function(n1,n2){return(positions.get(n1)||0)-(positions.get(n2)||0)})),separatedDocumentASTs[operationName]={kind:"Document",definitions:definitions}}return separatedDocumentASTs}function separateOperations_opName(operation){return operation.name?operation.name.value:""}function collectTransitiveDependencies(collected,depGraph,fromName){var immediateDeps=depGraph[fromName];if(immediateDeps)for(var _i6=0,_Object$keys4=Object.keys(immediateDeps);_i6<_Object$keys4.length;_i6++){var toName=_Object$keys4[_i6];collected[toName]||(collected[toName]=!0,collectTransitiveDependencies(collected,depGraph,toName))}}function stripIgnoredCharacters(source){var sourceObj="string"==typeof source?new language_source.a(source):source;if(!(sourceObj instanceof language_source.a))throw new TypeError("Must provide string or Source. Received: ".concat(Object(inspect.a)(sourceObj)));for(var body=sourceObj.body,lexer=Object(language_lexer.a)(sourceObj),strippedBody="",wasLastAddedTokenNonPunctuator=!1;lexer.advance().kind!==language_tokenKind.a.EOF;){var currentToken=lexer.token,tokenKind=currentToken.kind,isNonPunctuator=!Object(language_lexer.b)(currentToken);wasLastAddedTokenNonPunctuator&&(isNonPunctuator||currentToken.kind===language_tokenKind.a.SPREAD)&&(strippedBody+=" ");var tokenBody=body.slice(currentToken.start,currentToken.end);tokenKind===language_tokenKind.a.BLOCK_STRING?strippedBody+=dedentBlockString(tokenBody):strippedBody+=tokenBody,wasLastAddedTokenNonPunctuator=isNonPunctuator}return strippedBody}function dedentBlockString(blockStr){var rawStr=blockStr.slice(3,-3),body=Object(language_blockString.a)(rawStr),lines=body.split(/\r\n|[\n\r]/g);Object(language_blockString.b)(lines)>0&&(body="\n"+body);var lastChar=body[body.length-1];return('"'===lastChar&&'\\"""'!==body.slice(-4)||"\\"===lastChar)&&(body+="\n"),'"""'+body+'"""'}function findBreakingChanges_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function findBreakingChanges_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BreakingChangeType=Object.freeze({TYPE_REMOVED:"TYPE_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",REQUIRED_INPUT_FIELD_ADDED:"REQUIRED_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",FIELD_REMOVED:"FIELD_REMOVED",FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",REQUIRED_ARG_ADDED:"REQUIRED_ARG_ADDED",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",REQUIRED_DIRECTIVE_ARG_ADDED:"REQUIRED_DIRECTIVE_ARG_ADDED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED"}),DangerousChangeType=Object.freeze({VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",OPTIONAL_INPUT_FIELD_ADDED:"OPTIONAL_INPUT_FIELD_ADDED",OPTIONAL_ARG_ADDED:"OPTIONAL_ARG_ADDED",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE"});function findBreakingChanges(oldSchema,newSchema){return findSchemaChanges(oldSchema,newSchema).filter((function(change){return change.type in BreakingChangeType}))}function findDangerousChanges(oldSchema,newSchema){return findSchemaChanges(oldSchema,newSchema).filter((function(change){return change.type in DangerousChangeType}))}function findSchemaChanges(oldSchema,newSchema){return[].concat(function(oldSchema,newSchema){for(var schemaChanges=[],typesDiff=diff(Object(objectValues.a)(oldSchema.getTypeMap()),Object(objectValues.a)(newSchema.getTypeMap())),_i12=0,_typesDiff$removed2=typesDiff.removed;_i12<_typesDiff$removed2.length;_i12++){var oldType=_typesDiff$removed2[_i12];schemaChanges.push({type:BreakingChangeType.TYPE_REMOVED,description:"".concat(oldType.name," was removed.")})}for(var _i14=0,_typesDiff$persisted2=typesDiff.persisted;_i14<_typesDiff$persisted2.length;_i14++){var _ref4=_typesDiff$persisted2[_i14],_oldType=_ref4[0],newType=_ref4[1];Object(type_definition.E)(_oldType)&&Object(type_definition.E)(newType)?schemaChanges.push.apply(schemaChanges,findEnumTypeChanges(_oldType,newType)):Object(type_definition.T)(_oldType)&&Object(type_definition.T)(newType)?schemaChanges.push.apply(schemaChanges,findUnionTypeChanges(_oldType,newType)):Object(type_definition.F)(_oldType)&&Object(type_definition.F)(newType)?schemaChanges.push.apply(schemaChanges,findInputObjectTypeChanges(_oldType,newType)):Object(type_definition.N)(_oldType)&&Object(type_definition.N)(newType)?schemaChanges.push.apply(schemaChanges,findObjectTypeChanges(_oldType,newType)):Object(type_definition.H)(_oldType)&&Object(type_definition.H)(newType)?schemaChanges.push.apply(schemaChanges,findFieldChanges(_oldType,newType)):_oldType.constructor!==newType.constructor&&schemaChanges.push({type:BreakingChangeType.TYPE_CHANGED_KIND,description:"".concat(_oldType.name," changed from ")+"".concat(typeKindName(_oldType)," to ").concat(typeKindName(newType),".")})}return schemaChanges}(oldSchema,newSchema),function(oldSchema,newSchema){for(var schemaChanges=[],directivesDiff=diff(oldSchema.getDirectives(),newSchema.getDirectives()),_i2=0,_directivesDiff$remov2=directivesDiff.removed;_i2<_directivesDiff$remov2.length;_i2++){var oldDirective=_directivesDiff$remov2[_i2];schemaChanges.push({type:BreakingChangeType.DIRECTIVE_REMOVED,description:"".concat(oldDirective.name," was removed.")})}for(var _i4=0,_directivesDiff$persi2=directivesDiff.persisted;_i4<_directivesDiff$persi2.length;_i4++){for(var _ref2=_directivesDiff$persi2[_i4],_oldDirective=_ref2[0],newDirective=_ref2[1],argsDiff=diff(_oldDirective.args,newDirective.args),_i6=0,_argsDiff$added2=argsDiff.added;_i6<_argsDiff$added2.length;_i6++){var newArg=_argsDiff$added2[_i6];Object(type_definition.P)(newArg)&&schemaChanges.push({type:BreakingChangeType.REQUIRED_DIRECTIVE_ARG_ADDED,description:"A required arg ".concat(newArg.name," on directive ").concat(_oldDirective.name," was added.")})}for(var _i8=0,_argsDiff$removed2=argsDiff.removed;_i8<_argsDiff$removed2.length;_i8++){var oldArg=_argsDiff$removed2[_i8];schemaChanges.push({type:BreakingChangeType.DIRECTIVE_ARG_REMOVED,description:"".concat(oldArg.name," was removed from ").concat(_oldDirective.name,".")})}for(var _i10=0,_oldDirective$locatio2=_oldDirective.locations;_i10<_oldDirective$locatio2.length;_i10++){var location=_oldDirective$locatio2[_i10];-1===newDirective.locations.indexOf(location)&&schemaChanges.push({type:BreakingChangeType.DIRECTIVE_LOCATION_REMOVED,description:"".concat(location," was removed from ").concat(_oldDirective.name,".")})}}return schemaChanges}(oldSchema,newSchema))}function findInputObjectTypeChanges(oldType,newType){for(var schemaChanges=[],fieldsDiff=diff(Object(objectValues.a)(oldType.getFields()),Object(objectValues.a)(newType.getFields())),_i16=0,_fieldsDiff$added2=fieldsDiff.added;_i16<_fieldsDiff$added2.length;_i16++){var newField=_fieldsDiff$added2[_i16];Object(type_definition.Q)(newField)?schemaChanges.push({type:BreakingChangeType.REQUIRED_INPUT_FIELD_ADDED,description:"A required field ".concat(newField.name," on input type ").concat(oldType.name," was added.")}):schemaChanges.push({type:DangerousChangeType.OPTIONAL_INPUT_FIELD_ADDED,description:"An optional field ".concat(newField.name," on input type ").concat(oldType.name," was added.")})}for(var _i18=0,_fieldsDiff$removed2=fieldsDiff.removed;_i18<_fieldsDiff$removed2.length;_i18++){var oldField=_fieldsDiff$removed2[_i18];schemaChanges.push({type:BreakingChangeType.FIELD_REMOVED,description:"".concat(oldType.name,".").concat(oldField.name," was removed.")})}for(var _i20=0,_fieldsDiff$persisted2=fieldsDiff.persisted;_i20<_fieldsDiff$persisted2.length;_i20++){var _ref6=_fieldsDiff$persisted2[_i20],_oldField=_ref6[0],_newField=_ref6[1];isChangeSafeForInputObjectFieldOrFieldArg(_oldField.type,_newField.type)||schemaChanges.push({type:BreakingChangeType.FIELD_CHANGED_KIND,description:"".concat(oldType.name,".").concat(_oldField.name," changed type from ")+"".concat(String(_oldField.type)," to ").concat(String(_newField.type),".")})}return schemaChanges}function findUnionTypeChanges(oldType,newType){for(var schemaChanges=[],possibleTypesDiff=diff(oldType.getTypes(),newType.getTypes()),_i22=0,_possibleTypesDiff$ad2=possibleTypesDiff.added;_i22<_possibleTypesDiff$ad2.length;_i22++){var newPossibleType=_possibleTypesDiff$ad2[_i22];schemaChanges.push({type:DangerousChangeType.TYPE_ADDED_TO_UNION,description:"".concat(newPossibleType.name," was added to union type ").concat(oldType.name,".")})}for(var _i24=0,_possibleTypesDiff$re2=possibleTypesDiff.removed;_i24<_possibleTypesDiff$re2.length;_i24++){var oldPossibleType=_possibleTypesDiff$re2[_i24];schemaChanges.push({type:BreakingChangeType.TYPE_REMOVED_FROM_UNION,description:"".concat(oldPossibleType.name," was removed from union type ").concat(oldType.name,".")})}return schemaChanges}function findEnumTypeChanges(oldType,newType){for(var schemaChanges=[],valuesDiff=diff(oldType.getValues(),newType.getValues()),_i26=0,_valuesDiff$added2=valuesDiff.added;_i26<_valuesDiff$added2.length;_i26++){var newValue=_valuesDiff$added2[_i26];schemaChanges.push({type:DangerousChangeType.VALUE_ADDED_TO_ENUM,description:"".concat(newValue.name," was added to enum type ").concat(oldType.name,".")})}for(var _i28=0,_valuesDiff$removed2=valuesDiff.removed;_i28<_valuesDiff$removed2.length;_i28++){var oldValue=_valuesDiff$removed2[_i28];schemaChanges.push({type:BreakingChangeType.VALUE_REMOVED_FROM_ENUM,description:"".concat(oldValue.name," was removed from enum type ").concat(oldType.name,".")})}return schemaChanges}function findObjectTypeChanges(oldType,newType){for(var schemaChanges=findFieldChanges(oldType,newType),interfacesDiff=diff(oldType.getInterfaces(),newType.getInterfaces()),_i30=0,_interfacesDiff$added2=interfacesDiff.added;_i30<_interfacesDiff$added2.length;_i30++){var newInterface=_interfacesDiff$added2[_i30];schemaChanges.push({type:DangerousChangeType.INTERFACE_ADDED_TO_OBJECT,description:"".concat(newInterface.name," added to interfaces implemented by ").concat(oldType.name,".")})}for(var _i32=0,_interfacesDiff$remov2=interfacesDiff.removed;_i32<_interfacesDiff$remov2.length;_i32++){var oldInterface=_interfacesDiff$remov2[_i32];schemaChanges.push({type:BreakingChangeType.INTERFACE_REMOVED_FROM_OBJECT,description:"".concat(oldType.name," no longer implements interface ").concat(oldInterface.name,".")})}return schemaChanges}function findFieldChanges(oldType,newType){for(var schemaChanges=[],fieldsDiff=diff(Object(objectValues.a)(oldType.getFields()),Object(objectValues.a)(newType.getFields())),_i34=0,_fieldsDiff$removed4=fieldsDiff.removed;_i34<_fieldsDiff$removed4.length;_i34++){var oldField=_fieldsDiff$removed4[_i34];schemaChanges.push({type:BreakingChangeType.FIELD_REMOVED,description:"".concat(oldType.name,".").concat(oldField.name," was removed.")})}for(var _i36=0,_fieldsDiff$persisted4=fieldsDiff.persisted;_i36<_fieldsDiff$persisted4.length;_i36++){var _ref8=_fieldsDiff$persisted4[_i36],_oldField2=_ref8[0],newField=_ref8[1];schemaChanges.push.apply(schemaChanges,findArgChanges(oldType,_oldField2,newField)),isChangeSafeForObjectOrInterfaceField(_oldField2.type,newField.type)||schemaChanges.push({type:BreakingChangeType.FIELD_CHANGED_KIND,description:"".concat(oldType.name,".").concat(_oldField2.name," changed type from ")+"".concat(String(_oldField2.type)," to ").concat(String(newField.type),".")})}return schemaChanges}function findArgChanges(oldType,oldField,newField){for(var schemaChanges=[],argsDiff=diff(oldField.args,newField.args),_i38=0,_argsDiff$removed4=argsDiff.removed;_i38<_argsDiff$removed4.length;_i38++){var oldArg=_argsDiff$removed4[_i38];schemaChanges.push({type:BreakingChangeType.ARG_REMOVED,description:"".concat(oldType.name,".").concat(oldField.name," arg ").concat(oldArg.name," was removed.")})}for(var _i40=0,_argsDiff$persisted2=argsDiff.persisted;_i40<_argsDiff$persisted2.length;_i40++){var _ref10=_argsDiff$persisted2[_i40],_oldArg=_ref10[0],newArg=_ref10[1];if(isChangeSafeForInputObjectFieldOrFieldArg(_oldArg.type,newArg.type)){if(void 0!==_oldArg.defaultValue)if(void 0===newArg.defaultValue)schemaChanges.push({type:DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,description:"".concat(oldType.name,".").concat(oldField.name," arg ").concat(_oldArg.name," defaultValue was removed.")});else{var oldValueStr=stringifyValue(_oldArg.defaultValue,_oldArg.type),newValueStr=stringifyValue(newArg.defaultValue,newArg.type);oldValueStr!==newValueStr&&schemaChanges.push({type:DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,description:"".concat(oldType.name,".").concat(oldField.name," arg ").concat(_oldArg.name," has changed defaultValue from ").concat(oldValueStr," to ").concat(newValueStr,".")})}}else schemaChanges.push({type:BreakingChangeType.ARG_CHANGED_KIND,description:"".concat(oldType.name,".").concat(oldField.name," arg ").concat(_oldArg.name," has changed type from ")+"".concat(String(_oldArg.type)," to ").concat(String(newArg.type),".")})}for(var _i42=0,_argsDiff$added4=argsDiff.added;_i42<_argsDiff$added4.length;_i42++){var _newArg=_argsDiff$added4[_i42];Object(type_definition.P)(_newArg)?schemaChanges.push({type:BreakingChangeType.REQUIRED_ARG_ADDED,description:"A required arg ".concat(_newArg.name," on ").concat(oldType.name,".").concat(oldField.name," was added.")}):schemaChanges.push({type:DangerousChangeType.OPTIONAL_ARG_ADDED,description:"An optional arg ".concat(_newArg.name," on ").concat(oldType.name,".").concat(oldField.name," was added.")})}return schemaChanges}function isChangeSafeForObjectOrInterfaceField(oldType,newType){return Object(type_definition.J)(oldType)?Object(type_definition.J)(newType)&&isChangeSafeForObjectOrInterfaceField(oldType.ofType,newType.ofType)||Object(type_definition.L)(newType)&&isChangeSafeForObjectOrInterfaceField(oldType,newType.ofType):Object(type_definition.L)(oldType)?Object(type_definition.L)(newType)&&isChangeSafeForObjectOrInterfaceField(oldType.ofType,newType.ofType):Object(type_definition.K)(newType)&&oldType.name===newType.name||Object(type_definition.L)(newType)&&isChangeSafeForObjectOrInterfaceField(oldType,newType.ofType)}function isChangeSafeForInputObjectFieldOrFieldArg(oldType,newType){return Object(type_definition.J)(oldType)?Object(type_definition.J)(newType)&&isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType,newType.ofType):Object(type_definition.L)(oldType)?Object(type_definition.L)(newType)&&isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType,newType.ofType)||!Object(type_definition.L)(newType)&&isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType,newType):Object(type_definition.K)(newType)&&oldType.name===newType.name}function typeKindName(type){return Object(type_definition.R)(type)?"a Scalar type":Object(type_definition.N)(type)?"an Object type":Object(type_definition.H)(type)?"an Interface type":Object(type_definition.T)(type)?"a Union type":Object(type_definition.E)(type)?"an Enum type":Object(type_definition.F)(type)?"an Input type":void Object(invariant.a)(!1,"Unexpected type: "+Object(inspect.a)(type))}function stringifyValue(value,type){var ast=astFromValue(value,type);null!=ast||Object(invariant.a)(0);var sortedAST=Object(language_visitor.c)(ast,{ObjectValue:function(objectNode){return function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?findBreakingChanges_ownKeys(source,!0).forEach((function(key){findBreakingChanges_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):findBreakingChanges_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},objectNode,{fields:[].concat(objectNode.fields).sort((function(fieldA,fieldB){return fieldA.name.value.localeCompare(fieldB.name.value)}))})}});return Object(printer.print)(sortedAST)}function diff(oldArray,newArray){for(var added=[],removed=[],persisted=[],oldMap=Object(keyMap.a)(oldArray,(function(_ref11){return _ref11.name})),newMap=Object(keyMap.a)(newArray,(function(_ref12){return _ref12.name})),_i44=0;_i44<oldArray.length;_i44++){var oldItem=oldArray[_i44],newItem=newMap[oldItem.name];void 0===newItem?removed.push(oldItem):persisted.push([oldItem,newItem])}for(var _i46=0;_i46<newArray.length;_i46++){var _newItem=newArray[_i46];void 0===oldMap[_newItem.name]&&added.push(_newItem)}return{added:added,persisted:persisted,removed:removed}}function findDeprecatedUsages(schema,ast){var errors=[],typeInfo=new TypeInfo_TypeInfo(schema);return Object(language_visitor.c)(ast,Object(language_visitor.e)(typeInfo,{Field:function(node){var fieldDef=typeInfo.getFieldDef();if(fieldDef&&fieldDef.isDeprecated){var parentType=typeInfo.getParentType();if(parentType){var reason=fieldDef.deprecationReason;errors.push(new GraphQLError.a("The field ".concat(parentType.name,".").concat(fieldDef.name," is deprecated.")+(reason?" "+reason:""),node))}}},EnumValue:function(node){var enumVal=typeInfo.getEnumValue();if(enumVal&&enumVal.isDeprecated){var type=Object(type_definition.A)(typeInfo.getInputType());if(type){var reason=enumVal.deprecationReason;errors.push(new GraphQLError.a("The enum value ".concat(type.name,".").concat(enumVal.name," is deprecated.")+(reason?" "+reason:""),node))}}}})),errors}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return didYouMean}));function didYouMean(firstArg,secondArg){var _ref="string"==typeof firstArg?[firstArg,secondArg]:[void 0,firstArg],subMessage=_ref[0],suggestions=_ref[1],message=" Did you mean ";switch(subMessage&&(message+=subMessage+" "),suggestions.length){case 0:return"";case 1:return message+suggestions[0]+"?";case 2:return message+suggestions[0]+" or "+suggestions[1]+"?"}var selected=suggestions.slice(0,5),lastItem=selected.pop();return message+selected.join(", ")+", or "+lastItem+"?"}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return toObjMap}));var _polyfills_objectEntries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(30);function toObjMap(obj){if(null===Object.getPrototypeOf(obj))return obj;for(var map=Object.create(null),_i2=0,_objectEntries2=Object(_polyfills_objectEntries__WEBPACK_IMPORTED_MODULE_0__.a)(obj);_i2<_objectEntries2.length;_i2++){var _ref2=_objectEntries2[_i2],key=_ref2[0],value=_ref2[1];map[key]=value}return map}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function suggestionList(input,options){for(var optionsByDistance=Object.create(null),inputThreshold=input.length/2,_i2=0;_i2<options.length;_i2++){var option=options[_i2],distance=lexicalDistance(input,option);distance<=Math.max(inputThreshold,option.length/2,1)&&(optionsByDistance[option]=distance)}return Object.keys(optionsByDistance).sort((function(a,b){return optionsByDistance[a]-optionsByDistance[b]}))}function lexicalDistance(aStr,bStr){if(aStr===bStr)return 0;var d=[],a=aStr.toLowerCase(),b=bStr.toLowerCase(),aLength=a.length,bLength=b.length;if(a===b)return 1;for(var i=0;i<=aLength;i++)d[i]=[i];for(var j=1;j<=bLength;j++)d[0][j]=j;for(var _i3=1;_i3<=aLength;_i3++)for(var _j=1;_j<=bLength;_j++){var cost=a[_i3-1]===b[_j-1]?0:1;d[_i3][_j]=Math.min(d[_i3-1][_j]+1,d[_i3][_j-1]+1,d[_i3-1][_j-1]+cost),_i3>1&&_j>1&&a[_i3-1]===b[_j-2]&&a[_i3-2]===b[_j-1]&&(d[_i3][_j]=Math.min(d[_i3][_j],d[_i3-2][_j-2]+cost))}return d[aLength][bLength]}__webpack_require__.d(__webpack_exports__,"a",(function(){return suggestionList}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function isInvalid(value){return void 0===value||value!=value}__webpack_require__.d(__webpack_exports__,"a",(function(){return isInvalid}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function defineToStringTag(classObject){"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(classObject.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}})}__webpack_require__.d(__webpack_exports__,"a",(function(){return defineToStringTag}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return defineToJSON}));var _nodejsCustomInspectSymbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76);function defineToJSON(classObject){var fn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:classObject.prototype.toString;classObject.prototype.toJSON=fn,classObject.prototype.inspect=fn,_nodejsCustomInspectSymbol__WEBPACK_IMPORTED_MODULE_0__.a&&(classObject.prototype[_nodejsCustomInspectSymbol__WEBPACK_IMPORTED_MODULE_0__.a]=fn)}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return syntaxError}));var _GraphQLError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);function syntaxError(source,position,description){return new _GraphQLError__WEBPACK_IMPORTED_MODULE_0__.a("Syntax Error: ".concat(description),void 0,source,[position])}},function(module,exports){module.exports=require("crypto")},function(module,exports){module.exports=require("events")},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var objectEntries=Object.entries||function(obj){return Object.keys(obj).map((function(key){return[key,obj[key]]}))};__webpack_exports__.a=objectEntries},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(value,constructor){return value instanceof constructor}},function(module,exports){module.exports=require("stream")},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return parse})),__webpack_require__.d(__webpack_exports__,"c",(function(){return parseValue})),__webpack_require__.d(__webpack_exports__,"b",(function(){return parseType}));var _jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_jsutils_devAssert__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_jsutils_defineToJSON__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26),_error_syntaxError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),_kinds__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_source__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(45),_lexer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(49),_directiveLocation__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),_tokenKind__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4);function parse(source,options){return new Parser(source,options).parseDocument()}function parseValue(source,options){var parser=new Parser(source,options);parser.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.SOF);var value=parser.parseValueLiteral(!1);return parser.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.EOF),value}function parseType(source,options){var parser=new Parser(source,options);parser.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.SOF);var type=parser.parseTypeReference();return parser.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.EOF),type}var Parser=function(){function Parser(source,options){var sourceObj="string"==typeof source?new _source__WEBPACK_IMPORTED_MODULE_5__.a(source):source;sourceObj instanceof _source__WEBPACK_IMPORTED_MODULE_5__.a||Object(_jsutils_devAssert__WEBPACK_IMPORTED_MODULE_1__.a)(0,"Must provide Source. Received: ".concat(Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__.a)(sourceObj))),this._lexer=Object(_lexer__WEBPACK_IMPORTED_MODULE_6__.a)(sourceObj),this._options=options||{}}var _proto=Parser.prototype;return _proto.parseName=function(){var token=this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME);return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.NAME,value:token.value,loc:this.loc(token)}},_proto.parseDocument=function(){var start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.DOCUMENT,definitions:this.many(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.SOF,this.parseDefinition,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.EOF),loc:this.loc(start)}},_proto.parseDefinition=function(){if(this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},_proto.parseOperationDefinition=function(){var start=this._lexer.token;if(this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L))return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(start)};var name,operation=this.parseOperationType();return this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME)&&(name=this.parseName()),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OPERATION_DEFINITION,operation:operation,name:name,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(start)}},_proto.parseOperationType=function(){var operationToken=this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME);switch(operationToken.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(operationToken)},_proto.parseVariableDefinitions=function(){return this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PAREN_L,this.parseVariableDefinition,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PAREN_R)},_proto.parseVariableDefinition=function(){var start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(start)}},_proto.parseVariable=function(){var start=this._lexer.token;return this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.DOLLAR),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.VARIABLE,name:this.parseName(),loc:this.loc(start)}},_proto.parseSelectionSet=function(){var start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.SELECTION_SET,selections:this.many(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,this.parseSelection,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R),loc:this.loc(start)}},_proto.parseSelection=function(){return this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.SPREAD)?this.parseFragment():this.parseField()},_proto.parseField=function(){var alias,name,start=this._lexer.token,nameOrAlias=this.parseName();return this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON)?(alias=nameOrAlias,name=this.parseName()):name=nameOrAlias,{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FIELD,alias:alias,name:name,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(start)}},_proto.parseArguments=function(isConst){var item=isConst?this.parseConstArgument:this.parseArgument;return this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PAREN_L,item,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PAREN_R)},_proto.parseArgument=function(){var start=this._lexer.token,name=this.parseName();return this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ARGUMENT,name:name,value:this.parseValueLiteral(!1),loc:this.loc(start)}},_proto.parseConstArgument=function(){var start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ARGUMENT,name:this.parseName(),value:(this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON),this.parseValueLiteral(!0)),loc:this.loc(start)}},_proto.parseFragment=function(){var start=this._lexer.token;this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.SPREAD);var hasTypeCondition=this.expectOptionalKeyword("on");return!hasTypeCondition&&this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME)?{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(start)}:{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INLINE_FRAGMENT,typeCondition:hasTypeCondition?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(start)}},_proto.parseFragmentDefinition=function(){var start=this._lexer.token;return this.expectKeyword("fragment"),this._options.experimentalFragmentVariables?{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(start)}:{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(start)}},_proto.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},_proto.parseValueLiteral=function(isConst){var token=this._lexer.token;switch(token.kind){case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACKET_L:return this.parseList(isConst);case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L:return this.parseObject(isConst);case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.INT:return this._lexer.advance(),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INT,value:token.value,loc:this.loc(token)};case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.FLOAT:return this._lexer.advance(),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FLOAT,value:token.value,loc:this.loc(token)};case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.STRING:case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BLOCK_STRING:return this.parseStringLiteral();case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME:return"true"===token.value||"false"===token.value?(this._lexer.advance(),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.BOOLEAN,value:"true"===token.value,loc:this.loc(token)}):"null"===token.value?(this._lexer.advance(),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.NULL,loc:this.loc(token)}):(this._lexer.advance(),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ENUM,value:token.value,loc:this.loc(token)});case _tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.DOLLAR:if(!isConst)return this.parseVariable()}throw this.unexpected()},_proto.parseStringLiteral=function(){var token=this._lexer.token;return this._lexer.advance(),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.STRING,value:token.value,block:token.kind===_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BLOCK_STRING,loc:this.loc(token)}},_proto.parseList=function(isConst){var _this=this,start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.LIST,values:this.any(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACKET_L,(function(){return _this.parseValueLiteral(isConst)}),_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACKET_R),loc:this.loc(start)}},_proto.parseObject=function(isConst){var _this2=this,start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OBJECT,fields:this.any(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,(function(){return _this2.parseObjectField(isConst)}),_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R),loc:this.loc(start)}},_proto.parseObjectField=function(isConst){var start=this._lexer.token,name=this.parseName();return this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OBJECT_FIELD,name:name,value:this.parseValueLiteral(isConst),loc:this.loc(start)}},_proto.parseDirectives=function(isConst){for(var directives=[];this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.AT);)directives.push(this.parseDirective(isConst));return directives},_proto.parseDirective=function(isConst){var start=this._lexer.token;return this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.AT),{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(isConst),loc:this.loc(start)}},_proto.parseTypeReference=function(){var type,start=this._lexer.token;return this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACKET_L)?(type=this.parseTypeReference(),this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACKET_R),type={kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.LIST_TYPE,type:type,loc:this.loc(start)}):type=this.parseNamedType(),this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BANG)?{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.NON_NULL_TYPE,type:type,loc:this.loc(start)}:type},_proto.parseNamedType=function(){var start=this._lexer.token;return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.NAMED_TYPE,name:this.parseName(),loc:this.loc(start)}},_proto.parseTypeSystemDefinition=function(){var keywordToken=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(keywordToken.kind===_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME)switch(keywordToken.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(keywordToken)},_proto.peekDescription=function(){return this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.STRING)||this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BLOCK_STRING)},_proto.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},_proto.parseSchemaDefinition=function(){var start=this._lexer.token;this.expectKeyword("schema");var directives=this.parseDirectives(!0),operationTypes=this.many(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,this.parseOperationTypeDefinition,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R);return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.SCHEMA_DEFINITION,directives:directives,operationTypes:operationTypes,loc:this.loc(start)}},_proto.parseOperationTypeDefinition=function(){var start=this._lexer.token,operation=this.parseOperationType();this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON);var type=this.parseNamedType();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OPERATION_TYPE_DEFINITION,operation:operation,type:type,loc:this.loc(start)}},_proto.parseScalarTypeDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("scalar");var name=this.parseName(),directives=this.parseDirectives(!0);return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.SCALAR_TYPE_DEFINITION,description:description,name:name,directives:directives,loc:this.loc(start)}},_proto.parseObjectTypeDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("type");var name=this.parseName(),interfaces=this.parseImplementsInterfaces(),directives=this.parseDirectives(!0),fields=this.parseFieldsDefinition();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OBJECT_TYPE_DEFINITION,description:description,name:name,interfaces:interfaces,directives:directives,fields:fields,loc:this.loc(start)}},_proto.parseImplementsInterfaces=function(){var types=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.AMP);do{types.push(this.parseNamedType())}while(this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME))}return types},_proto.parseFieldsDefinition=function(){return this._options.allowLegacySDLEmptyFields&&this.peek(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L)&&this._lexer.lookahead().kind===_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,this.parseFieldDefinition,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R)},_proto.parseFieldDefinition=function(){var start=this._lexer.token,description=this.parseDescription(),name=this.parseName(),args=this.parseArgumentDefs();this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON);var type=this.parseTypeReference(),directives=this.parseDirectives(!0);return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FIELD_DEFINITION,description:description,name:name,arguments:args,type:type,directives:directives,loc:this.loc(start)}},_proto.parseArgumentDefs=function(){return this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PAREN_L,this.parseInputValueDef,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PAREN_R)},_proto.parseInputValueDef=function(){var start=this._lexer.token,description=this.parseDescription(),name=this.parseName();this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.COLON);var defaultValue,type=this.parseTypeReference();this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.EQUALS)&&(defaultValue=this.parseValueLiteral(!0));var directives=this.parseDirectives(!0);return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INPUT_VALUE_DEFINITION,description:description,name:name,type:type,defaultValue:defaultValue,directives:directives,loc:this.loc(start)}},_proto.parseInterfaceTypeDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("interface");var name=this.parseName(),directives=this.parseDirectives(!0),fields=this.parseFieldsDefinition();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INTERFACE_TYPE_DEFINITION,description:description,name:name,directives:directives,fields:fields,loc:this.loc(start)}},_proto.parseUnionTypeDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("union");var name=this.parseName(),directives=this.parseDirectives(!0),types=this.parseUnionMemberTypes();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.UNION_TYPE_DEFINITION,description:description,name:name,directives:directives,types:types,loc:this.loc(start)}},_proto.parseUnionMemberTypes=function(){var types=[];if(this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.EQUALS)){this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PIPE);do{types.push(this.parseNamedType())}while(this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PIPE))}return types},_proto.parseEnumTypeDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("enum");var name=this.parseName(),directives=this.parseDirectives(!0),values=this.parseEnumValuesDefinition();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ENUM_TYPE_DEFINITION,description:description,name:name,directives:directives,values:values,loc:this.loc(start)}},_proto.parseEnumValuesDefinition=function(){return this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,this.parseEnumValueDefinition,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R)},_proto.parseEnumValueDefinition=function(){var start=this._lexer.token,description=this.parseDescription(),name=this.parseName(),directives=this.parseDirectives(!0);return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ENUM_VALUE_DEFINITION,description:description,name:name,directives:directives,loc:this.loc(start)}},_proto.parseInputObjectTypeDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("input");var name=this.parseName(),directives=this.parseDirectives(!0),fields=this.parseInputFieldsDefinition();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INPUT_OBJECT_TYPE_DEFINITION,description:description,name:name,directives:directives,fields:fields,loc:this.loc(start)}},_proto.parseInputFieldsDefinition=function(){return this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,this.parseInputValueDef,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R)},_proto.parseTypeSystemExtension=function(){var keywordToken=this._lexer.lookahead();if(keywordToken.kind===_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME)switch(keywordToken.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(keywordToken)},_proto.parseSchemaExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var directives=this.parseDirectives(!0),operationTypes=this.optionalMany(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_L,this.parseOperationTypeDefinition,_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.BRACE_R);if(0===directives.length&&0===operationTypes.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.SCHEMA_EXTENSION,directives:directives,operationTypes:operationTypes,loc:this.loc(start)}},_proto.parseScalarTypeExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var name=this.parseName(),directives=this.parseDirectives(!0);if(0===directives.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.SCALAR_TYPE_EXTENSION,name:name,directives:directives,loc:this.loc(start)}},_proto.parseObjectTypeExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var name=this.parseName(),interfaces=this.parseImplementsInterfaces(),directives=this.parseDirectives(!0),fields=this.parseFieldsDefinition();if(0===interfaces.length&&0===directives.length&&0===fields.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OBJECT_TYPE_EXTENSION,name:name,interfaces:interfaces,directives:directives,fields:fields,loc:this.loc(start)}},_proto.parseInterfaceTypeExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var name=this.parseName(),directives=this.parseDirectives(!0),fields=this.parseFieldsDefinition();if(0===directives.length&&0===fields.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INTERFACE_TYPE_EXTENSION,name:name,directives:directives,fields:fields,loc:this.loc(start)}},_proto.parseUnionTypeExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var name=this.parseName(),directives=this.parseDirectives(!0),types=this.parseUnionMemberTypes();if(0===directives.length&&0===types.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.UNION_TYPE_EXTENSION,name:name,directives:directives,types:types,loc:this.loc(start)}},_proto.parseEnumTypeExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var name=this.parseName(),directives=this.parseDirectives(!0),values=this.parseEnumValuesDefinition();if(0===directives.length&&0===values.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ENUM_TYPE_EXTENSION,name:name,directives:directives,values:values,loc:this.loc(start)}},_proto.parseInputObjectTypeExtension=function(){var start=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var name=this.parseName(),directives=this.parseDirectives(!0),fields=this.parseInputFieldsDefinition();if(0===directives.length&&0===fields.length)throw this.unexpected();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INPUT_OBJECT_TYPE_EXTENSION,name:name,directives:directives,fields:fields,loc:this.loc(start)}},_proto.parseDirectiveDefinition=function(){var start=this._lexer.token,description=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.AT);var name=this.parseName(),args=this.parseArgumentDefs(),repeatable=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var locations=this.parseDirectiveLocations();return{kind:_kinds__WEBPACK_IMPORTED_MODULE_4__.a.DIRECTIVE_DEFINITION,description:description,name:name,arguments:args,repeatable:repeatable,locations:locations,loc:this.loc(start)}},_proto.parseDirectiveLocations=function(){this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PIPE);var locations=[];do{locations.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.PIPE));return locations},_proto.parseDirectiveLocation=function(){var start=this._lexer.token,name=this.parseName();if(void 0!==_directiveLocation__WEBPACK_IMPORTED_MODULE_7__.a[name.value])return name;throw this.unexpected(start)},_proto.loc=function(startToken){if(!this._options.noLocation)return new Loc(startToken,this._lexer.lastToken,this._lexer.source)},_proto.peek=function(kind){return this._lexer.token.kind===kind},_proto.expectToken=function(kind){var token=this._lexer.token;if(token.kind===kind)return this._lexer.advance(),token;throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_3__.a)(this._lexer.source,token.start,"Expected ".concat(kind,", found ").concat(getTokenDesc(token)))},_proto.expectOptionalToken=function(kind){var token=this._lexer.token;if(token.kind===kind)return this._lexer.advance(),token},_proto.expectKeyword=function(value){var token=this._lexer.token;if(token.kind!==_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME||token.value!==value)throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_3__.a)(this._lexer.source,token.start,'Expected "'.concat(value,'", found ').concat(getTokenDesc(token)));this._lexer.advance()},_proto.expectOptionalKeyword=function(value){var token=this._lexer.token;return token.kind===_tokenKind__WEBPACK_IMPORTED_MODULE_8__.a.NAME&&token.value===value&&(this._lexer.advance(),!0)},_proto.unexpected=function(atToken){var token=atToken||this._lexer.token;return Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_3__.a)(this._lexer.source,token.start,"Unexpected ".concat(getTokenDesc(token)))},_proto.any=function(openKind,parseFn,closeKind){this.expectToken(openKind);for(var nodes=[];!this.expectOptionalToken(closeKind);)nodes.push(parseFn.call(this));return nodes},_proto.optionalMany=function(openKind,parseFn,closeKind){if(this.expectOptionalToken(openKind)){var nodes=[];do{nodes.push(parseFn.call(this))}while(!this.expectOptionalToken(closeKind));return nodes}return[]},_proto.many=function(openKind,parseFn,closeKind){this.expectToken(openKind);var nodes=[];do{nodes.push(parseFn.call(this))}while(!this.expectOptionalToken(closeKind));return nodes},Parser}();function Loc(startToken,endToken,source){this.start=startToken.start,this.end=endToken.end,this.startToken=startToken,this.endToken=endToken,this.source=source}function getTokenDesc(token){var value=token.value;return value?"".concat(token.kind,' "').concat(value,'"'):token.kind}Object(_jsutils_defineToJSON__WEBPACK_IMPORTED_MODULE_2__.a)(Loc,(function(){return{start:this.start,end:this.end}}))},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function dedentBlockStringValue(rawString){var lines=rawString.split(/\r\n|[\n\r]/g),commonIndent=getBlockStringIndentation(lines);if(0!==commonIndent)for(var i=1;i<lines.length;i++)lines[i]=lines[i].slice(commonIndent);for(;lines.length>0&&isBlank(lines[0]);)lines.shift();for(;lines.length>0&&isBlank(lines[lines.length-1]);)lines.pop();return lines.join("\n")}function getBlockStringIndentation(lines){for(var commonIndent=null,i=1;i<lines.length;i++){var line=lines[i],indent=leadingWhitespace(line);if(indent!==line.length&&((null===commonIndent||indent<commonIndent)&&0===(commonIndent=indent)))break}return null===commonIndent?0:commonIndent}function leadingWhitespace(str){for(var i=0;i<str.length&&(" "===str[i]||"\t"===str[i]);)i++;return i}function isBlank(str){return leadingWhitespace(str)===str.length}function printBlockString(value){var indentation=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",preferMultipleLines=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isSingleLine=-1===value.indexOf("\n"),hasLeadingSpace=" "===value[0]||"\t"===value[0],hasTrailingQuote='"'===value[value.length-1],printAsMultipleLines=!isSingleLine||hasTrailingQuote||preferMultipleLines,result="";return!printAsMultipleLines||isSingleLine&&hasLeadingSpace||(result+="\n"+indentation),result+=indentation?value.replace(/\n/g,"\n"+indentation):value,printAsMultipleLines&&(result+="\n"),'"""'+result.replace(/"""/g,'\\"""')+'"""'}__webpack_require__.d(__webpack_exports__,"a",(function(){return dedentBlockStringValue})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getBlockStringIndentation})),__webpack_require__.d(__webpack_exports__,"c",(function(){return printBlockString}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var find=Array.prototype.find?function(list,predicate){return Array.prototype.find.call(list,predicate)}:function(list,predicate){for(var _i2=0;_i2<list.length;_i2++){var value=list[_i2];if(predicate(value))return value}};__webpack_exports__.a=find},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return mapValue}));var _polyfills_objectEntries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(30);function mapValue(map,fn){for(var result=Object.create(null),_i2=0,_objectEntries2=Object(_polyfills_objectEntries__WEBPACK_IMPORTED_MODULE_0__.a)(map);_i2<_objectEntries2.length;_i2++){var _ref2=_objectEntries2[_i2],_key=_ref2[0],_value=_ref2[1];result[_key]=fn(_value,_key)}return result}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(138),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports,__webpack_require__){"use strict";const escapeStringRegexp=__webpack_require__(256),ansiStyles=__webpack_require__(257),stdoutColor=__webpack_require__(261).stdout,template=__webpack_require__(262),isSimpleWindowsTerm="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),levelMapping=["ansi","ansi","ansi256","ansi16m"],skipModels=new Set(["gray"]),styles=Object.create(null);function applyOptions(obj,options){options=options||{};const scLevel=stdoutColor?stdoutColor.level:0;obj.level=void 0===options.level?scLevel:options.level,obj.enabled="enabled"in options?options.enabled:obj.level>0}function Chalk(options){if(!this||!(this instanceof Chalk)||this.template){const chalk={};return applyOptions(chalk,options),chalk.template=function(){const args=[].slice.call(arguments);return chalkTag.apply(null,[chalk.template].concat(args))},Object.setPrototypeOf(chalk,Chalk.prototype),Object.setPrototypeOf(chalk.template,chalk),chalk.template.constructor=Chalk,chalk.template}applyOptions(this,options)}isSimpleWindowsTerm&&(ansiStyles.blue.open="[94m");for(const key of Object.keys(ansiStyles))ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g"),styles[key]={get(){const codes=ansiStyles[key];return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,key)}};styles.visible={get(){return build.call(this,this._styles||[],!0,"visible")}},ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(const model of Object.keys(ansiStyles.color.ansi))skipModels.has(model)||(styles[model]={get(){const level=this.level;return function(){const open=ansiStyles.color[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}});ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(const model of Object.keys(ansiStyles.bgColor.ansi)){if(skipModels.has(model))continue;styles["bg"+model[0].toUpperCase()+model.slice(1)]={get(){const level=this.level;return function(){const open=ansiStyles.bgColor[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}}}const proto=Object.defineProperties(()=>{},styles);function build(_styles,_empty,key){const builder=function(){return applyStyle.apply(builder,arguments)};builder._styles=_styles,builder._empty=_empty;const self=this;return Object.defineProperty(builder,"level",{enumerable:!0,get:()=>self.level,set(level){self.level=level}}),Object.defineProperty(builder,"enabled",{enumerable:!0,get:()=>self.enabled,set(enabled){self.enabled=enabled}}),builder.hasGrey=this.hasGrey||"gray"===key||"grey"===key,builder.__proto__=proto,builder}function applyStyle(){const args=arguments,argsLen=args.length;let str=String(arguments[0]);if(0===argsLen)return"";if(argsLen>1)for(let a=1;a<argsLen;a++)str+=" "+args[a];if(!this.enabled||this.level<=0||!str)return this._empty?"":str;const originalDim=ansiStyles.dim.open;isSimpleWindowsTerm&&this.hasGrey&&(ansiStyles.dim.open="");for(const code of this._styles.slice().reverse())str=code.open+str.replace(code.closeRe,code.open)+code.close,str=str.replace(/\r?\n/g,`${code.close}$&${code.open}`);return ansiStyles.dim.open=originalDim,str}function chalkTag(chalk,strings){if(!Array.isArray(strings))return[].slice.call(arguments,1).join(" ");const args=[].slice.call(arguments,2),parts=[strings.raw[0]];for(let i=1;i<strings.length;i++)parts.push(String(args[i-1]).replace(/[{}\\]/g,"\\$&")),parts.push(String(strings.raw[i]));return template(chalk,parts.join(""))}Object.defineProperties(Chalk.prototype,styles),module.exports=Chalk(),module.exports.supportsColor=stdoutColor,module.exports.default=module.exports},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports){module.exports=require("buffer")},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getVariableValues",(function(){return getVariableValues})),__webpack_require__.d(__webpack_exports__,"getArgumentValues",(function(){return getArgumentValues})),__webpack_require__.d(__webpack_exports__,"getDirectiveValues",(function(){return getDirectiveValues}));var _polyfills_find__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),_jsutils_keyMap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_jsutils_printPathArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61),_error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_language_kinds__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_language_printer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_type_definition__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_utilities_typeFromAST__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16),_utilities_valueFromAST__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46),_utilities_coerceInputValue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(98);function getVariableValues(schema,varDefNodes,inputs,options){var maxErrors=options&&options.maxErrors,errors=[];try{var coerced=function(schema,varDefNodes,inputs,onError){for(var coercedValues={},_loop=function(_i2){var varDefNode=varDefNodes[_i2],varName=varDefNode.variable.name.value,varType=Object(_utilities_typeFromAST__WEBPACK_IMPORTED_MODULE_8__.a)(schema,varDefNode.type);if(!Object(_type_definition__WEBPACK_IMPORTED_MODULE_7__.G)(varType)){var varTypeStr=Object(_language_printer__WEBPACK_IMPORTED_MODULE_6__.print)(varDefNode.type);return onError(new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Variable "$'.concat(varName,'" expected value of type "').concat(varTypeStr,'" which cannot be used as an input type.'),varDefNode.type)),"continue"}if(!hasOwnProperty(inputs,varName)){if(varDefNode.defaultValue)coercedValues[varName]=Object(_utilities_valueFromAST__WEBPACK_IMPORTED_MODULE_9__.a)(varDefNode.defaultValue,varType);else if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_7__.L)(varType)){var _varTypeStr=Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(varType);onError(new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Variable "$'.concat(varName,'" of required type "').concat(_varTypeStr,'" was not provided.'),varDefNode))}return"continue"}var value=inputs[varName];if(null===value&&Object(_type_definition__WEBPACK_IMPORTED_MODULE_7__.L)(varType)){var _varTypeStr2=Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(varType);return onError(new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Variable "$'.concat(varName,'" of non-null type "').concat(_varTypeStr2,'" must not be null.'),varDefNode)),"continue"}coercedValues[varName]=Object(_utilities_coerceInputValue__WEBPACK_IMPORTED_MODULE_10__.a)(value,varType,(function(path,invalidValue,error){var prefix='Variable "$'.concat(varName,'" got invalid value ')+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(invalidValue);path.length>0&&(prefix+=' at "'.concat(varName).concat(Object(_jsutils_printPathArray__WEBPACK_IMPORTED_MODULE_3__.a)(path),'"')),onError(new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a(prefix+"; "+error.message,varDefNode,void 0,void 0,void 0,error.originalError))}))},_i2=0;_i2<varDefNodes.length;_i2++)_loop(_i2);return coercedValues}(schema,varDefNodes,inputs,(function(error){if(null!=maxErrors&&errors.length>=maxErrors)throw new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a("Too many errors processing variables, error limit reached. Execution aborted.");errors.push(error)}));if(0===errors.length)return{coerced:coerced}}catch(error){errors.push(error)}return{errors:errors}}function getArgumentValues(def,node,variableValues){for(var coercedValues={},argNodeMap=Object(_jsutils_keyMap__WEBPACK_IMPORTED_MODULE_1__.a)(node.arguments||[],(function(arg){return arg.name.value})),_i4=0,_def$args2=def.args;_i4<_def$args2.length;_i4++){var argDef=_def$args2[_i4],name=argDef.name,argType=argDef.type,argumentNode=argNodeMap[name];if(argumentNode){var valueNode=argumentNode.value,isNull=valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.NULL;if(valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.VARIABLE){var variableName=valueNode.name.value;if(null==variableValues||!hasOwnProperty(variableValues,variableName)){if(void 0!==argDef.defaultValue)coercedValues[name]=argDef.defaultValue;else if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_7__.L)(argType))throw new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Argument "'.concat(name,'" of required type "').concat(Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(argType),'" ')+'was provided the variable "$'.concat(variableName,'" which was not provided a runtime value.'),valueNode);continue}isNull=null==variableValues[variableName]}if(isNull&&Object(_type_definition__WEBPACK_IMPORTED_MODULE_7__.L)(argType))throw new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Argument "'.concat(name,'" of non-null type "').concat(Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(argType),'" ')+"must not be null.",valueNode);var coercedValue=Object(_utilities_valueFromAST__WEBPACK_IMPORTED_MODULE_9__.a)(valueNode,argType,variableValues);if(void 0===coercedValue)throw new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Argument "'.concat(name,'" has invalid value ').concat(Object(_language_printer__WEBPACK_IMPORTED_MODULE_6__.print)(valueNode),"."),valueNode);coercedValues[name]=coercedValue}else if(void 0!==argDef.defaultValue)coercedValues[name]=argDef.defaultValue;else if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_7__.L)(argType))throw new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_4__.a('Argument "'.concat(name,'" of required type "').concat(Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(argType),'" ')+"was not provided.",node)}return coercedValues}function getDirectiveValues(directiveDef,node,variableValues){var directiveNode=node.directives&&Object(_polyfills_find__WEBPACK_IMPORTED_MODULE_0__.a)(node.directives,(function(directive){return directive.name.value===directiveDef.name}));if(directiveNode)return getArgumentValues(directiveDef,directiveNode,variableValues)}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}},function(module,exports){module.exports=require("fs")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const fs=__webpack_require__(43),graphile_build_1=__webpack_require__(86);exports.SchemaBuilder=graphile_build_1.SchemaBuilder;const graphile_build_pg_1=__webpack_require__(99);exports.inflections=graphile_build_pg_1.inflections,exports.formatSQLForDebugging=graphile_build_pg_1.formatSQLForDebugging;const ensureValidPlugins=(name,arr)=>{if(!Array.isArray(arr))throw new Error(`Option '${name}' should be an array`);for(let i=0,l=arr.length;i<l;i++){const fn=arr[i];if("function"!=typeof fn)throw new Error(`Option '${name}' should be an array of functions, found '${null==fn?String(fn):typeof fn}' at index ${i}`)}};exports.postGraphileBaseOverrides={enumName:value=>graphile_build_pg_1.inflections.defaultUtils.constantCase(graphile_build_pg_1.inflections.defaultInflection.enumName(value))},exports.postGraphileClassicIdsOverrides={column:(name,_table,_schema)=>"id"===name?"rowId":graphile_build_pg_1.inflections.defaultUtils.camelCase(name)},exports.postGraphileInflection=graphile_build_pg_1.inflections.newInflector(exports.postGraphileBaseOverrides),exports.postGraphileClassicIdsInflection=graphile_build_pg_1.inflections.newInflector(Object.assign(Object.assign({},exports.postGraphileBaseOverrides),exports.postGraphileClassicIdsOverrides)),exports.PostGraphileInflectionPlugin=function(builder){builder.hook("inflection",inflection=>{const previous=inflection.enumName;return Object.assign(inflection,{enumName(value){return this.constantCase(previous.call(this,value))}}),inflection})},exports.PostGraphileClassicIdsInflectionPlugin=function(builder){builder.hook("inflection",inflection=>{const previous=inflection._columnName;return Object.assign(inflection,{_columnName(attr,options){const previousValue=previous.call(this,attr,options);return options&&options.skipRowId||"id"!==previousValue?previousValue:this.camelCase("rowId")}}),inflection})};function abort(e){console.error("Error occured whilst writing cache"),console.error(e),process.exit(1)}exports.getPostGraphileBuilder=async(pgConfig,schemas,options={})=>{if(options.inflector)throw new Error("Passing an inflector via PostGraphile options was deprecated in v4.0.0-beta.7; instead please write an inflector plugin: https://www.graphile.org/postgraphile/inflection/");const{dynamicJson:dynamicJson,classicIds:classicIds,nodeIdFieldName:nodeIdFieldName,replaceAllPlugins:replaceAllPlugins,appendPlugins:appendPlugins=[],prependPlugins:prependPlugins=[],skipPlugins:skipPlugins=[],jwtPgTypeIdentifier:jwtPgTypeIdentifier,jwtSecret:jwtSecret,jwtSignOptions:jwtSignOptions,disableDefaultMutations:disableDefaultMutations,graphileBuildOptions:graphileBuildOptions,graphqlBuildOptions:graphqlBuildOptions,inflector:inflector,pgColumnFilter:pgColumnFilter,viewUniqueKey:viewUniqueKey,enableTags:enableTags=!0,readCache:readCache,writeCache:writeCache,setWriteCacheCallback:setWriteCacheCallback,legacyRelations:legacyRelations="deprecated",setofFunctionsContainNulls:setofFunctionsContainNulls=!0,legacyJsonUuid:legacyJsonUuid=!1,simpleCollections:simpleCollections="omit",includeExtensionResources:includeExtensionResources=!1,ignoreRBAC:ignoreRBAC=!0,legacyFunctionsOnly:legacyFunctionsOnly=!1,ignoreIndexes:ignoreIndexes=!0,hideIndexWarnings:hideIndexWarnings=!1,subscriptions:inSubscriptions=!1,live:live=!1,ownerConnectionString:ownerConnectionString}=options,subscriptions=live||inSubscriptions;if(legacyRelations&&["only","deprecated","omit"].indexOf(legacyRelations)<0)throw new Error("Invalid configuration for legacy relations: "+JSON.stringify(legacyRelations));if(simpleCollections&&["only","both","omit"].indexOf(simpleCollections)<0)throw new Error("Invalid configuration for simple collections: "+JSON.stringify(simpleCollections));if(replaceAllPlugins&&(ensureValidPlugins("replaceAllPlugins",replaceAllPlugins),prependPlugins&&prependPlugins.length||appendPlugins&&appendPlugins.length))throw new Error("When using 'replaceAllPlugins' you must not specify 'appendPlugins'/'prependPlugins'");if(readCache&&writeCache)throw new Error("Use `readCache` or `writeCache` - not both.");let persistentMemoizeWithKey,memoizeCache={};if(readCache)if("string"==typeof readCache){const cacheString=await new Promise((resolve,reject)=>{fs.readFile(readCache,"utf8",(err,data)=>{err?reject(err):resolve(data)})});try{memoizeCache=JSON.parse(cacheString)}catch(e){throw new Error(`Failed to parse cache file '${readCache}', perhaps it is corrupted? ${e}`)}}else{if("object"!=typeof readCache||Array.isArray(readCache))throw new Error(`'readCache' not understood; expected string or object, but received '${Array.isArray(readCache)?"array":typeof readCache}'`);memoizeCache=readCache}if((readCache||writeCache)&&(persistentMemoizeWithKey=(key,fn)=>{if(!(key in memoizeCache)){if(readCache)throw new Error("Expected cache to contain key: "+key);if(memoizeCache[key]=fn(),void 0===memoizeCache[key])throw new Error("Cannot memoize 'undefined' - use 'null' instead")}return memoizeCache[key]}),writeCache&&setWriteCacheCallback)setWriteCacheCallback(()=>(async obj=>{const result={};for(const k in obj)Object.prototype.hasOwnProperty.call(obj,k)&&(result[k]=await obj[k]);return result})(memoizeCache).then(obj=>new Promise((resolve,reject)=>{fs.writeFile(writeCache,JSON.stringify(obj),err=>{memoizeCache={},err?reject(err):resolve()})})));else{if(writeCache)throw new Error("Cannot write cache without 'setWriteCacheCallback'");setWriteCacheCallback&&setWriteCacheCallback(()=>Promise.resolve())}if(ensureValidPlugins("prependPlugins",prependPlugins),ensureValidPlugins("appendPlugins",appendPlugins),ensureValidPlugins("skipPlugins",skipPlugins),inflector)throw new Error("Custom inflector arguments are not supported, please use the inflector plugin API instead: https://www.graphile.org/postgraphile/inflection/");const inflectionOverridePlugins=classicIds?[exports.PostGraphileInflectionPlugin,exports.PostGraphileClassicIdsInflectionPlugin]:[exports.PostGraphileInflectionPlugin],basePluginList=replaceAllPlugins?[...prependPlugins,...replaceAllPlugins,...inflectionOverridePlugins,...appendPlugins]:[...prependPlugins,...graphile_build_1.defaultPlugins,...graphile_build_pg_1.defaultPlugins,...inflectionOverridePlugins,...appendPlugins],invalidSkipPlugins=skipPlugins.filter(pluginToSkip=>basePluginList.indexOf(pluginToSkip)<0);if(invalidSkipPlugins.length){throw new Error("You tried to skip plugins that would never have been loaded anyway. Perhaps you've made a mistake in your skipPlugins list, or have sourced the plugin from a duplicate plugin module - check for duplicate modules in your 'node_modules' folder. The plugins that you requested to skip were: "+invalidSkipPlugins.map((function(fn){return fn.displayName||fn.name||String(fn)})).join(", "))}const finalPluginList=basePluginList.filter(p=>-1===skipPlugins.indexOf(p));return graphile_build_1.getBuilder(finalPluginList,Object.assign(Object.assign({pgConfig:pgConfig,pgSchemas:Array.isArray(schemas)?schemas:[schemas],pgExtendedTypes:!!dynamicJson,pgColumnFilter:pgColumnFilter||(()=>!0),pgInflection:inflector||(classicIds?exports.postGraphileClassicIdsInflection:exports.postGraphileInflection),nodeIdFieldName:nodeIdFieldName||(classicIds?"id":"nodeId"),pgJwtTypeIdentifier:jwtPgTypeIdentifier,pgJwtSecret:jwtSecret,pgJwtSignOptions:jwtSignOptions,pgDisableDefaultMutations:disableDefaultMutations,pgViewUniqueKey:viewUniqueKey,pgEnableTags:enableTags,pgLegacyRelations:legacyRelations,pgLegacyJsonUuid:legacyJsonUuid,persistentMemoizeWithKey:persistentMemoizeWithKey,pgForbidSetofFunctionsToReturnNull:!setofFunctionsContainNulls,pgSimpleCollections:simpleCollections,pgIncludeExtensionResources:includeExtensionResources,pgIgnoreRBAC:ignoreRBAC,pgLegacyFunctionsOnly:legacyFunctionsOnly,pgIgnoreIndexes:ignoreIndexes,pgHideIndexWarnings:hideIndexWarnings,pgOwnerConnectionString:ownerConnectionString,subscriptions:subscriptions,live:live},graphileBuildOptions),graphqlBuildOptions))},exports.createPostGraphileSchema=async(pgConfig,schemas,options={})=>{let writeCache;const schema=(await exports.getPostGraphileBuilder(pgConfig,schemas,Object.assign(Object.assign({},options),{setWriteCacheCallback(fn){writeCache=fn}}))).buildSchema();return writeCache&&await writeCache().catch(abort),schema},exports.watchPostGraphileSchema=async(pgConfig,schemas,options={},onNewSchema)=>{if("function"!=typeof onNewSchema)throw new Error("You cannot call watchPostGraphileSchema without a function to pass new schemas to");if(options.readCache)throw new Error("Using readCache in watch mode does not make sense.");let writeCache;const builder=await exports.getPostGraphileBuilder(pgConfig,schemas,Object.assign(Object.assign({},options),{setWriteCacheCallback(fn){writeCache=fn}}));let released=!1;return await builder.watchSchema((function(schema){writeCache&&writeCache().catch(abort),onNewSchema(schema)})),async function(){released||(released=!0,await builder.unwatchSchema())}},exports.postGraphQLBaseOverrides=exports.postGraphileBaseOverrides,exports.postGraphQLClassicIdsOverrides=exports.postGraphileClassicIdsOverrides,exports.postGraphQLInflection=exports.postGraphileInflection,exports.postGraphQLClassicIdsInflection=exports.postGraphileClassicIdsInflection,exports.createPostGraphQLSchema=exports.createPostGraphileSchema,exports.watchPostGraphQLSchema=exports.watchPostGraphileSchema},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Source}));var _jsutils_devAssert__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_jsutils_defineToStringTag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),Source=function(body,name,locationOffset){this.body=body,this.name=name||"GraphQL request",this.locationOffset=locationOffset||{line:1,column:1},this.locationOffset.line>0||Object(_jsutils_devAssert__WEBPACK_IMPORTED_MODULE_0__.a)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||Object(_jsutils_devAssert__WEBPACK_IMPORTED_MODULE_0__.a)(0,"column in locationOffset is 1-indexed and must be positive")};Object(_jsutils_defineToStringTag__WEBPACK_IMPORTED_MODULE_1__.a)(Source)},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return valueFromAST}));var _polyfills_objectValues__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_jsutils_keyMap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_jsutils_invariant__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24),_language_kinds__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_type_definition__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0);function valueFromAST(valueNode,type,variables){if(valueNode){if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.L)(type)){if(valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.NULL)return;return valueFromAST(valueNode,type.ofType,variables)}if(valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.NULL)return null;if(valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.VARIABLE){var variableName=valueNode.name.value;if(!variables||Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__.a)(variables[variableName]))return;var variableValue=variables[variableName];if(null===variableValue&&Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.L)(type))return;return variableValue}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.J)(type)){var itemType=type.ofType;if(valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.LIST){for(var coercedValues=[],_i2=0,_valueNode$values2=valueNode.values;_i2<_valueNode$values2.length;_i2++){var itemNode=_valueNode$values2[_i2];if(isMissingVariable(itemNode,variables)){if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.L)(itemType))return;coercedValues.push(null)}else{var itemValue=valueFromAST(itemNode,itemType,variables);if(Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__.a)(itemValue))return;coercedValues.push(itemValue)}}return coercedValues}var coercedValue=valueFromAST(valueNode,itemType,variables);if(Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__.a)(coercedValue))return;return[coercedValue]}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.F)(type)){if(valueNode.kind!==_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.OBJECT)return;for(var coercedObj=Object.create(null),fieldNodes=Object(_jsutils_keyMap__WEBPACK_IMPORTED_MODULE_1__.a)(valueNode.fields,(function(field){return field.name.value})),_i4=0,_objectValues2=Object(_polyfills_objectValues__WEBPACK_IMPORTED_MODULE_0__.a)(type.getFields());_i4<_objectValues2.length;_i4++){var field=_objectValues2[_i4],fieldNode=fieldNodes[field.name];if(fieldNode&&!isMissingVariable(fieldNode.value,variables)){var fieldValue=valueFromAST(fieldNode.value,field.type,variables);if(Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__.a)(fieldValue))return;coercedObj[field.name]=fieldValue}else if(void 0!==field.defaultValue)coercedObj[field.name]=field.defaultValue;else if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.L)(field.type))return}return coercedObj}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.E)(type)){if(valueNode.kind!==_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.ENUM)return;var enumValue=type.getValue(valueNode.value);if(!enumValue)return;return enumValue.value}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_6__.R)(type)){var result;try{result=type.parseLiteral(valueNode,variables)}catch(_error){return}if(Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__.a)(result))return;return result}Object(_jsutils_invariant__WEBPACK_IMPORTED_MODULE_3__.a)(!1,"Unexpected input type: "+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(type))}}function isMissingVariable(valueNode,variables){return valueNode.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_5__.a.VARIABLE&&(!variables||Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_4__.a)(variables[valueNode.name.value]))}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(277),getValue=__webpack_require__(280);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function getLocation(source,position){for(var match,lineRegexp=/\r\n|[\n\r]/g,line=1,column=position+1;(match=lineRegexp.exec(source.body))&&match.index<position;)line+=1,column=position+1-(match.index+match[0].length);return{line:line,column:column}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getLocation}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createLexer})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isPunctuatorToken}));var _jsutils_defineToJSON__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26),_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_blockString__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_tokenKind__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4);function createLexer(source,options){var startOfFileToken=new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.SOF,0,0,0,0,null);return{source:source,options:options,lastToken:startOfFileToken,token:startOfFileToken,line:1,lineStart:0,advance:advanceLexer,lookahead:lookahead}}function advanceLexer(){return this.lastToken=this.token,this.token=this.lookahead()}function lookahead(){var token=this.token;if(token.kind!==_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.EOF)do{token=token.next||(token.next=readToken(this,token))}while(token.kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.COMMENT);return token}function isPunctuatorToken(token){var kind=token.kind;return kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BANG||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.DOLLAR||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.AMP||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.PAREN_L||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.PAREN_R||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.SPREAD||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.COLON||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.EQUALS||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.AT||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACKET_L||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACKET_R||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACE_L||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.PIPE||kind===_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACE_R}function Tok(kind,start,end,line,column,prev,value){this.kind=kind,this.start=start,this.end=end,this.line=line,this.column=column,this.value=value,this.prev=prev,this.next=null}function printCharCode(code){return isNaN(code)?_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.EOF:code<127?JSON.stringify(String.fromCharCode(code)):'"\\u'.concat(("00"+code.toString(16).toUpperCase()).slice(-4),'"')}function readToken(lexer,prev){var source=lexer.source,body=source.body,bodyLength=body.length,pos=function(body,startPosition,lexer){var bodyLength=body.length,position=startPosition;for(;position<bodyLength;){var code=body.charCodeAt(position);if(9===code||32===code||44===code||65279===code)++position;else if(10===code)++position,++lexer.line,lexer.lineStart=position;else{if(13!==code)break;10===body.charCodeAt(position+1)?position+=2:++position,++lexer.line,lexer.lineStart=position}}return position}(body,prev.end,lexer),line=lexer.line,col=1+pos-lexer.lineStart;if(pos>=bodyLength)return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.EOF,bodyLength,bodyLength,line,col,prev);var code=body.charCodeAt(pos);switch(code){case 33:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BANG,pos,pos+1,line,col,prev);case 35:return function(source,start,line,col,prev){var code,body=source.body,position=start;do{code=body.charCodeAt(++position)}while(!isNaN(code)&&(code>31||9===code));return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.COMMENT,start,position,line,col,prev,body.slice(start+1,position))}(source,pos,line,col,prev);case 36:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.DOLLAR,pos,pos+1,line,col,prev);case 38:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.AMP,pos,pos+1,line,col,prev);case 40:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.PAREN_L,pos,pos+1,line,col,prev);case 41:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.PAREN_R,pos,pos+1,line,col,prev);case 46:if(46===body.charCodeAt(pos+1)&&46===body.charCodeAt(pos+2))return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.SPREAD,pos,pos+3,line,col,prev);break;case 58:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.COLON,pos,pos+1,line,col,prev);case 61:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.EQUALS,pos,pos+1,line,col,prev);case 64:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.AT,pos,pos+1,line,col,prev);case 91:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACKET_L,pos,pos+1,line,col,prev);case 93:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACKET_R,pos,pos+1,line,col,prev);case 123:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACE_L,pos,pos+1,line,col,prev);case 124:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.PIPE,pos,pos+1,line,col,prev);case 125:return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BRACE_R,pos,pos+1,line,col,prev);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(source,start,line,col,prev){var body=source.body,bodyLength=body.length,position=start+1,code=0;for(;position!==bodyLength&&!isNaN(code=body.charCodeAt(position))&&(95===code||code>=48&&code<=57||code>=65&&code<=90||code>=97&&code<=122);)++position;return new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.NAME,start,position,line,col,prev,body.slice(start,position))}(source,pos,line,col,prev);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(source,start,firstCode,line,col,prev){var body=source.body,code=firstCode,position=start,isFloat=!1;45===code&&(code=body.charCodeAt(++position));if(48===code){if((code=body.charCodeAt(++position))>=48&&code<=57)throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid number, unexpected digit after 0: ".concat(printCharCode(code),"."))}else position=readDigits(source,position,code),code=body.charCodeAt(position);46===code&&(isFloat=!0,code=body.charCodeAt(++position),position=readDigits(source,position,code),code=body.charCodeAt(position));69!==code&&101!==code||(isFloat=!0,43!==(code=body.charCodeAt(++position))&&45!==code||(code=body.charCodeAt(++position)),position=readDigits(source,position,code),code=body.charCodeAt(position));if(46===code||69===code||101===code)throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid number, expected digit but got: ".concat(printCharCode(code),"."));return new Tok(isFloat?_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.FLOAT:_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.INT,start,position,line,col,prev,body.slice(start,position))}(source,pos,code,line,col,prev);case 34:return 34===body.charCodeAt(pos+1)&&34===body.charCodeAt(pos+2)?function(source,start,line,col,prev,lexer){var body=source.body,position=start+3,chunkStart=position,code=0,rawValue="";for(;position<body.length&&!isNaN(code=body.charCodeAt(position));){if(34===code&&34===body.charCodeAt(position+1)&&34===body.charCodeAt(position+2))return rawValue+=body.slice(chunkStart,position),new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.BLOCK_STRING,start,position+3,line,col,prev,Object(_blockString__WEBPACK_IMPORTED_MODULE_2__.a)(rawValue));if(code<32&&9!==code&&10!==code&&13!==code)throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid character within String: ".concat(printCharCode(code),"."));10===code?(++position,++lexer.line,lexer.lineStart=position):13===code?(10===body.charCodeAt(position+1)?position+=2:++position,++lexer.line,lexer.lineStart=position):92===code&&34===body.charCodeAt(position+1)&&34===body.charCodeAt(position+2)&&34===body.charCodeAt(position+3)?(rawValue+=body.slice(chunkStart,position)+'"""',chunkStart=position+=4):++position}throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Unterminated string.")}(source,pos,line,col,prev,lexer):function(source,start,line,col,prev){var body=source.body,position=start+1,chunkStart=position,code=0,value="";for(;position<body.length&&!isNaN(code=body.charCodeAt(position))&&10!==code&&13!==code;){if(34===code)return value+=body.slice(chunkStart,position),new Tok(_tokenKind__WEBPACK_IMPORTED_MODULE_3__.a.STRING,start,position+1,line,col,prev,value);if(code<32&&9!==code)throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid character within String: ".concat(printCharCode(code),"."));if(++position,92===code){switch(value+=body.slice(chunkStart,position-1),code=body.charCodeAt(position)){case 34:value+='"';break;case 47:value+="/";break;case 92:value+="\\";break;case 98:value+="\b";break;case 102:value+="\f";break;case 110:value+="\n";break;case 114:value+="\r";break;case 116:value+="\t";break;case 117:var charCode=(a=body.charCodeAt(position+1),b=body.charCodeAt(position+2),c=body.charCodeAt(position+3),d=body.charCodeAt(position+4),char2hex(a)<<12|char2hex(b)<<8|char2hex(c)<<4|char2hex(d));if(charCode<0){var invalidSequence=body.slice(position+1,position+5);throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid character escape sequence: \\u".concat(invalidSequence,"."))}value+=String.fromCharCode(charCode),position+=4;break;default:throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid character escape sequence: \\".concat(String.fromCharCode(code),"."))}++position,chunkStart=position}}var a,b,c,d;throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Unterminated string.")}(source,pos,line,col,prev)}throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,pos,function(code){if(code<32&&9!==code&&10!==code&&13!==code)return"Cannot contain the invalid character ".concat(printCharCode(code),".");if(39===code)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(printCharCode(code),".")}(code))}function readDigits(source,start,firstCode){var body=source.body,position=start,code=firstCode;if(code>=48&&code<=57){do{code=body.charCodeAt(++position)}while(code>=48&&code<=57);return position}throw Object(_error_syntaxError__WEBPACK_IMPORTED_MODULE_1__.a)(source,position,"Invalid number, expected digit but got: ".concat(printCharCode(code),"."))}function char2hex(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}Object(_jsutils_defineToJSON__WEBPACK_IMPORTED_MODULE_0__.a)(Tok,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}))},function(module,exports){module.exports=require("http")},function(module,exports){module.exports=require("url")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const debugFactory=__webpack_require__(19),lru_1=__webpack_require__(53),debug=debugFactory("pg-sql2");function debugError(err){return debug(err),err}const $$trusted=Symbol("trusted"),CACHE_RAW_NODES=new lru_1.default({maxLength:2e3});function makeRawNode(text){const n=CACHE_RAW_NODES.get(text);if(n)return n;if("string"!=typeof text)throw new Error("Invalid argument to makeRawNode - expected string");const newNode={type:"RAW",text:text,[$$trusted]:!0};return CACHE_RAW_NODES.set(text,newNode),newNode}function isStringOrSymbol(val){return"string"==typeof val||"symbol"==typeof val}function makeValueNode(rawValue){return{type:"VALUE",value:rawValue,[$$trusted]:!0}}function ensureNonEmptyArray(array,allowZeroLength=!1){if(!Array.isArray(array))throw debugError(new Error("Expected array"));if(!allowZeroLength&&array.length<1)throw debugError(new Error("Expected non-empty array"));for(let idx=0,l=array.length;idx<l;idx++)if(null==array[idx])throw debugError(new Error(`Array index ${idx} is ${String(array[idx])}`));return array}function enforceValidNode(node){if(null!==node&&!0===node[$$trusted])return node;throw new Error(`Expected SQL item, instead received '${String(node)}'.`)}exports.compile=function(sql){const items=Array.isArray(sql)?sql:[sql],itemCount=items.length,sqlFragments=[],values=[];let nextSymbolId=0;const symbolToIdentifier=new Map;for(let itemIndex=0;itemIndex<itemCount;itemIndex++){const item=enforceValidNode(items[itemIndex]);switch(item.type){case"RAW":sqlFragments.push(item.text);break;case"IDENTIFIER":{const nameCount=item.names.length,mappedNames=[];for(let nameIndex=0;nameIndex<nameCount;nameIndex++){const name=item.names[nameIndex];if("string"==typeof name)mappedNames.push(escapeSqlIdentifier(name));else{if("symbol"!=typeof name)throw debugError(new Error(`Expected string or symbol, received '${String(name)}'`));{let identifierForSymbol=symbolToIdentifier.get(name);identifierForSymbol||(identifierForSymbol=`__local_${nextSymbolId++}__`,symbolToIdentifier.set(name,identifierForSymbol)),mappedNames.push(identifierForSymbol)}}}sqlFragments.push(1===nameCount?mappedNames[0]:mappedNames.join("."));break}case"VALUE":values.push(item.value),sqlFragments.push("$"+values.length)}}return{text:sqlFragments.join(""),values:values}};const CACHE_SIMPLE_FRAGMENTS=new Map;function query(strings,...values){if(!Array.isArray(strings))throw new Error("sql.query should be used as a template literal, not a function call!");const first=strings[0];if(1===strings.length&&"string"==typeof first&&first.length<20){const cached=CACHE_SIMPLE_FRAGMENTS.get(first);if(cached)return cached;const node=[makeRawNode(first)];return CACHE_SIMPLE_FRAGMENTS.set(first,node),node}const items=[];for(let i=0,l=strings.length;i<l;i++){const text=strings[i];if("string"!=typeof text)throw new Error("sql.query should be used as a template literal, not a function call.");if(text.length>0&&items.push(makeRawNode(text)),values[i]){const val=values[i];if(Array.isArray(val)){const nodes=val.map(enforceValidNode);items.push(...nodes)}else{const node=enforceValidNode(val);items.push(node)}}}return items}function raw(text){return makeRawNode(String(text))}exports.query=query,exports.fragment=query,exports.raw=raw,exports.identifier=function(...names){return function(names){if(!Array.isArray(names)||0===names.length||!names.every(isStringOrSymbol))throw new Error("Invalid argument to makeIdentifierNode - expected array of strings/symbols");return{type:"IDENTIFIER",names:names,[$$trusted]:!0}}(ensureNonEmptyArray(names))},exports.value=function(val){return makeValueNode(val)};const trueNode=raw("TRUE"),falseNode=raw("FALSE"),nullNode=raw("NULL");function escapeSqlIdentifier(str){return`"${str.replace(/"/g,'""')}"`}exports.null=nullNode,exports.literal=function(val){return"string"==typeof val&&val.match(/^[-a-zA-Z0-9_@! ]*$/)?raw(`'${val}'`):"number"==typeof val&&Number.isFinite(val)?Number.isInteger(val)?raw(String(val)):raw(`'${0+val}'::float`):"boolean"==typeof val?val?trueNode:falseNode:null==val?nullNode:makeValueNode(val)},exports.join=function(items,rawSeparator=""){if(ensureNonEmptyArray(items,!0),"string"!=typeof rawSeparator)throw new Error("Invalid separator - must be a string");const separator=rawSeparator,currentItems=[],sepNode=makeRawNode(separator);for(let i=0,l=items.length;i<l;i++){const rawItem=items[i],itemsToAppend=Array.isArray(rawItem)?rawItem.map(enforceValidNode):[enforceValidNode(rawItem)];0!==i&&separator?currentItems.push(sepNode,...itemsToAppend):currentItems.push(...itemsToAppend)}return currentItems},exports.escapeSqlIdentifier=escapeSqlIdentifier,exports.blank=query``},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=class{constructor({maxLength:maxLength,dispose:dispose}){if(maxLength<2)throw new Error("Max length must be >= 2");if(parseInt(String(maxLength),10)!==maxLength)throw new Error("Max length must be an integer");this._maxLength=maxLength,this._dispose=dispose||null,this._cache=new Map,this.reset()}reset(){const values=this._cache.values();if(this._cache.clear(),this._head=null,this._tail=null,this.length=0,this._dispose)for(const hit of values)this._dispose(hit.key,hit.value)}get(key){const hit=this._cache.get(key);if(hit)return this._hoist(hit),hit.value}set(key,value){const hit=this._cache.get(key);if(hit)hit.value=value;else{const newHead={key:key,value:value,next:null,prev:null};this._cache.set(key,newHead),this._add(newHead)}}_hoist(newHead){newHead!==this._head&&(this._head?(newHead.prev.next=newHead.next,newHead.next?newHead.next.prev=newHead.prev:this._tail=newHead.prev,newHead.next=this._head,this._head.prev=newHead,this._head=newHead,newHead.prev=null):this._head=this._tail=newHead)}_add(newHead){if(!this._head)return this._head=this._tail=newHead,void(this.length=1);if(this._head.prev=newHead,newHead.next=this._head,this._head=newHead,this.length===this._maxLength){const oldTail=this._tail;this._cache.delete(oldTail.key),this._tail=oldTail.prev,this._tail.next=null,this._dispose&&this._dispose(oldTail.key,oldTail.value)}else 0===this.length&&(this._tail=newHead),this.length++}}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(65),getRawTag=__webpack_require__(250),objectToString=__webpack_require__(251),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatSQLForDebugging=formatSQLForDebugging,exports.default=void 0;var _debug=_interopRequireDefault(__webpack_require__(19)),_chalk=_interopRequireDefault(__webpack_require__(39));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatSQLForDebugging(sql){let colourIndex=0;const allowedColours=[_chalk.default.red,_chalk.default.green,_chalk.default.yellow,_chalk.default.blue,_chalk.default.magenta,_chalk.default.cyan,_chalk.default.white,_chalk.default.black];const colours={};let indentLevel=0;return sql.replace(/\s+/g," ").replace(/\s+(?=$|\n|\))/g,"").replace(/(\n|^|\()\s+/g,"$1").replace(/(\(|\)|\), ?|, ?| (select|insert|update|delete|from|where|and|or|order|limit)(?= ))/g,(function(all,rawMatch){const match=rawMatch.replace(/ $/,"");return"("===match?(indentLevel++,match+"\n"+"  ".repeat(indentLevel)):")"===match?(indentLevel--,"\n"+"  ".repeat(indentLevel)+match):"),"===match?(indentLevel--,"\n"+"  ".repeat(indentLevel)+match+"\n"+"  ".repeat(indentLevel)):","===match?match+"\n"+"  ".repeat(indentLevel):"\n"+"  ".repeat(indentLevel)+match.replace(/^\s+/,"")})).replace(/\(\s*([A-Za-z0-9_."' =]{1,50})\s*\)/g,"($1)").replace(/\(\s*(\([A-Za-z0-9_."' =]{1,50}\))\s*\)/g,"($1)").replace(/\n\s*and \(TRUE\)/g,_chalk.default.gray(" and (TRUE)")).replace(/__local_[0-9]+__/g,(function(str){return colours[str]||(colours[str]=(colourIndex=(colourIndex+1)%allowedColours.length,allowedColours[colourIndex])),colours[str].bold.call(null,str)}))}const rawDebugSql=(0,_debug.default)("graphile-build-pg:sql");function debugSql(sql){rawDebugSql.enabled&&rawDebugSql("%s","\n"+formatSQLForDebugging(sql))}Object.assign(debugSql,rawDebugSql);var _default=debugSql;exports.default=_default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(385);var defaults=__webpack_require__(70),Connection=__webpack_require__(112),Pool=__webpack_require__(405);const poolFactory=Client=>class extends Pool{constructor(options){super(options,Client)}};module.exports=new function(clientConstructor){this.defaults=defaults,this.Client=clientConstructor,this.Query=this.Client.Query,this.Pool=poolFactory(this.Client),this._pools=[],this.Connection=Connection,this.types=__webpack_require__(87)}(__webpack_require__(406))},function(module,exports,__webpack_require__){"use strict";var key,buffer=__webpack_require__(41),Buffer=buffer.Buffer,safer={};for(key in buffer)buffer.hasOwnProperty(key)&&"SlowBuffer"!==key&&"Buffer"!==key&&(safer[key]=buffer[key]);var Safer=safer.Buffer={};for(key in Buffer)Buffer.hasOwnProperty(key)&&"allocUnsafe"!==key&&"allocUnsafeSlow"!==key&&(Safer[key]=Buffer[key]);if(safer.Buffer.prototype=Buffer.prototype,Safer.from&&Safer.from!==Uint8Array.from||(Safer.from=function(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof value);if(value&&void 0===value.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);return Buffer(value,encodingOrOffset,length)}),Safer.alloc||(Safer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError('The "size" argument must be of type number. Received type '+typeof size);if(size<0||size>=2*(1<<30))throw new RangeError('The value "'+size+'" is invalid for option "size"');var buf=Buffer(size);return fill&&0!==fill.length?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf}),!safer.kStringMaxLength)try{safer.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength)),module.exports=safer},function(module,exports,__webpack_require__){"use strict";module.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return printLocation})),__webpack_require__.d(__webpack_exports__,"b",(function(){return printSourceLocation}));var _language_location__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48);function printLocation(location){return printSourceLocation(location.source,Object(_language_location__WEBPACK_IMPORTED_MODULE_0__.a)(location.source,location.start))}function printSourceLocation(source,sourceLocation){var firstLineColumnOffset=source.locationOffset.column-1,body=whitespace(firstLineColumnOffset)+source.body,lineIndex=sourceLocation.line-1,lineOffset=source.locationOffset.line-1,lineNum=sourceLocation.line+lineOffset,columnOffset=1===sourceLocation.line?firstLineColumnOffset:0,columnNum=sourceLocation.column+columnOffset,locationStr="".concat(source.name,":").concat(lineNum,":").concat(columnNum,"\n"),lines=body.split(/\r\n|[\n\r]/g),locationLine=lines[lineIndex];if(locationLine.length>120){for(var sublineIndex=Math.floor(columnNum/80),sublineColumnNum=columnNum%80,sublines=[],i=0;i<locationLine.length;i+=80)sublines.push(locationLine.slice(i,i+80));return locationStr+printPrefixedLines([["".concat(lineNum),sublines[0]]].concat(sublines.slice(1,sublineIndex+1).map((function(subline){return["",subline]})),[[" ",whitespace(sublineColumnNum-1)+"^"],["",sublines[sublineIndex+1]]]))}return locationStr+printPrefixedLines([["".concat(lineNum-1),lines[lineIndex-1]],["".concat(lineNum),locationLine],["",whitespace(columnNum-1)+"^"],["".concat(lineNum+1),lines[lineIndex+1]]])}function printPrefixedLines(lines){var existingLines=lines.filter((function(_ref){_ref[0];return void 0!==_ref[1]})),padLen=Math.max.apply(Math,existingLines.map((function(_ref2){return _ref2[0].length})));return existingLines.map((function(_ref3){var str,prefix=_ref3[0],line=_ref3[1];return whitespace(padLen-(str=prefix).length)+str+(line?" | "+line:" |")})).join("\n")}function whitespace(len){return Array(len+1).join(" ")}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function printPathArray(path){return path.map((function(key){return"number"==typeof key?"["+key.toString()+"]":"."+key})).join("")}__webpack_require__.d(__webpack_exports__,"a",(function(){return printPathArray}))},function(module,exports,__webpack_require__){"use strict";
/*!
 * type-is
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var typer=__webpack_require__(225),mime=__webpack_require__(226);function typeis(value,types_){var i,type,types=types_,val=tryNormalizeType(value);if(!val)return!1;if(types&&!Array.isArray(types))for(types=new Array(arguments.length-1),i=0;i<types.length;i++)types[i]=arguments[i+1];if(!types||!types.length)return val;for(i=0;i<types.length;i++)if(mimeMatch(normalize(type=types[i]),val))return"+"===type[0]||-1!==type.indexOf("*")?val:type;return!1}function hasbody(req){return void 0!==req.headers["transfer-encoding"]||!isNaN(req.headers["content-length"])}function normalize(type){if("string"!=typeof type)return!1;switch(type){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===type[0]?"*/*"+type:-1===type.indexOf("/")?mime.lookup(type):type}function mimeMatch(expected,actual){if(!1===expected)return!1;var actualParts=actual.split("/"),expectedParts=expected.split("/");return 2===actualParts.length&&2===expectedParts.length&&(("*"===expectedParts[0]||expectedParts[0]===actualParts[0])&&("*+"===expectedParts[1].substr(0,2)?expectedParts[1].length<=actualParts[1].length+1&&expectedParts[1].substr(1)===actualParts[1].substr(1-expectedParts[1].length):"*"===expectedParts[1]||expectedParts[1]===actualParts[1]))}function tryNormalizeType(value){if(!value)return null;try{return function(value){var type=typer.parse(value);return type.parameters=void 0,typer.format(type)}(value)}catch(err){return null}}module.exports=function(req,types_){var types=types_;if(!hasbody(req))return null;if(arguments.length>2){types=new Array(arguments.length-1);for(var i=0;i<types.length;i++)types[i]=arguments[i+1]}var value=req.headers["content-type"];return typeis(value,types)},module.exports.is=typeis,module.exports.hasBody=hasbody,module.exports.normalize=normalize,module.exports.match=mimeMatch},function(module,exports){module.exports=require("path")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__extends",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"__assign",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"__rest",(function(){return __rest})),__webpack_require__.d(__webpack_exports__,"__decorate",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"__param",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"__metadata",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"__awaiter",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"__generator",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"__createBinding",(function(){return __createBinding})),__webpack_require__.d(__webpack_exports__,"__exportStar",(function(){return __exportStar})),__webpack_require__.d(__webpack_exports__,"__values",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"__read",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"__spread",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"__spreadArrays",(function(){return __spreadArrays})),__webpack_require__.d(__webpack_exports__,"__await",(function(){return __await})),__webpack_require__.d(__webpack_exports__,"__asyncGenerator",(function(){return __asyncGenerator})),__webpack_require__.d(__webpack_exports__,"__asyncDelegator",(function(){return __asyncDelegator})),__webpack_require__.d(__webpack_exports__,"__asyncValues",(function(){return __asyncValues})),__webpack_require__.d(__webpack_exports__,"__makeTemplateObject",(function(){return __makeTemplateObject})),__webpack_require__.d(__webpack_exports__,"__importStar",(function(){return __importStar})),__webpack_require__.d(__webpack_exports__,"__importDefault",(function(){return __importDefault})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(38).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(140),isLength=__webpack_require__(101);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports){module.exports=require("assert")},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(325);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(77);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){"use strict";module.exports={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var pgTypes=__webpack_require__(87),parseBigInteger=pgTypes.getTypeParser(20,"text"),parseBigIntegerArray=pgTypes.getTypeParser(1016,"text");module.exports.__defineSetter__("parseInt8",(function(val){pgTypes.setTypeParser(20,"text",val?pgTypes.getTypeParser(23,"text"):parseBigInteger),pgTypes.setTypeParser(1016,"text",val?pgTypes.getTypeParser(1007,"text"):parseBigIntegerArray)}))},function(module,exports){module.exports=require("net")},function(module,exports,__webpack_require__){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var buffer=__webpack_require__(41),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const package_json_1=__webpack_require__(187),graphql=__webpack_require__(20),identityHook=input=>input,identityPluginHook=(_hookName,input,_options)=>input;function memoizeHook(hook){let lastCall=null;return(argument,context)=>{if(lastCall&&lastCall.argument===argument&&function(context1,context2){if(context1===context2)return!0;const keys1=Object.keys(context1),keys2=Object.keys(context2);if(keys1.length!==keys2.length)return!1;for(let i=0,l=keys1.length;i<l;i++){const key=keys1[i];if(context1[key]!==context2[key])return!1;if(!keys2.includes(key))return!1}return!0}(lastCall.context,context))return lastCall.result;{const result=hook(argument,context);return lastCall={argument:argument,context:context,result:result},result}}}exports.makePluginHook=function(plugins){const hooks={},emptyObject={};function rawPluginHook(hookName,argument,context=emptyObject){return hooks[hookName]||(hooks[hookName]=function(plugins,hookName){const combinedHook=plugins.reduce((previousHook,plugin)=>"function"==typeof plugin[hookName]?(argument,context)=>plugin[hookName](previousHook(argument,context),context):previousHook,identityHook);return combinedHook===identityHook?identityHook:function(hookName){return"withPostGraphileContext"===hookName}(hookName)?memoizeHook(combinedHook):combinedHook}(plugins,hookName)),hooks[hookName](argument,context)}const pluginHook=rawPluginHook("pluginHook",rawPluginHook,{});return pluginHook("init",null,{version:package_json_1.version,graphql:graphql}),pluginHook},exports.pluginHookFromOptions=function(options){return"function"==typeof options.pluginHook?options.pluginHook:identityPluginHook}},function(module,exports,__webpack_require__){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */module.exports=function(value,options){if("string"==typeof value)return parse(value);if("number"==typeof value)return format(value,options);return null},module.exports.format=format,module.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g,formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/,map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function format(value,options){if(!Number.isFinite(value))return null;var mag=Math.abs(value),thousandsSeparator=options&&options.thousandsSeparator||"",unitSeparator=options&&options.unitSeparator||"",decimalPlaces=options&&void 0!==options.decimalPlaces?options.decimalPlaces:2,fixedDecimals=Boolean(options&&options.fixedDecimals),unit=options&&options.unit||"";unit&&map[unit.toLowerCase()]||(unit=mag>=map.pb?"PB":mag>=map.tb?"TB":mag>=map.gb?"GB":mag>=map.mb?"MB":mag>=map.kb?"KB":"B");var str=(value/map[unit.toLowerCase()]).toFixed(decimalPlaces);return fixedDecimals||(str=str.replace(formatDecimalsRegExp,"$1")),thousandsSeparator&&(str=str.replace(formatThousandsRegExp,thousandsSeparator)),str+unitSeparator+unit}function parse(val){if("number"==typeof val&&!isNaN(val))return val;if("string"!=typeof val)return null;var floatValue,results=parseRegExp.exec(val),unit="b";return results?(floatValue=parseFloat(results[1]),unit=results[4].toLowerCase()):(floatValue=parseInt(val,10),unit="b"),Math.floor(map[unit]*floatValue)}},function(module,exports,__webpack_require__){"use strict";module.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var nodejsCustomInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;__webpack_exports__.a=nodejsCustomInspectSymbol},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(54),isObjectLike=__webpack_require__(55);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(267),listCacheDelete=__webpack_require__(268),listCacheGet=__webpack_require__(269),listCacheHas=__webpack_require__(270),listCacheSet=__webpack_require__(271);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(78);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(47)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(289);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(34),isKey=__webpack_require__(109),stringToPath=__webpack_require__(322),toString=__webpack_require__(68);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"SwallowErrorsPlugin",{enumerable:!0,get:function(){return _plugins.SwallowErrorsPlugin}}),Object.defineProperty(exports,"StandardTypesPlugin",{enumerable:!0,get:function(){return _plugins.StandardTypesPlugin}}),Object.defineProperty(exports,"NodePlugin",{enumerable:!0,get:function(){return _plugins.NodePlugin}}),Object.defineProperty(exports,"QueryPlugin",{enumerable:!0,get:function(){return _plugins.QueryPlugin}}),Object.defineProperty(exports,"MutationPlugin",{enumerable:!0,get:function(){return _plugins.MutationPlugin}}),Object.defineProperty(exports,"SubscriptionPlugin",{enumerable:!0,get:function(){return _plugins.SubscriptionPlugin}}),Object.defineProperty(exports,"ClientMutationIdDescriptionPlugin",{enumerable:!0,get:function(){return _plugins.ClientMutationIdDescriptionPlugin}}),Object.defineProperty(exports,"MutationPayloadQueryPlugin",{enumerable:!0,get:function(){return _plugins.MutationPayloadQueryPlugin}}),Object.defineProperty(exports,"AddQueriesToSubscriptionsPlugin",{enumerable:!0,get:function(){return _plugins.AddQueriesToSubscriptionsPlugin}}),Object.defineProperty(exports,"resolveNode",{enumerable:!0,get:function(){return _resolveNode.default}}),Object.defineProperty(exports,"constantCaseAll",{enumerable:!0,get:function(){return _utils.constantCaseAll}}),Object.defineProperty(exports,"formatInsideUnderscores",{enumerable:!0,get:function(){return _utils.formatInsideUnderscores}}),Object.defineProperty(exports,"upperFirst",{enumerable:!0,get:function(){return _utils.upperFirst}}),Object.defineProperty(exports,"camelCase",{enumerable:!0,get:function(){return _utils.camelCase}}),Object.defineProperty(exports,"constantCase",{enumerable:!0,get:function(){return _utils.constantCase}}),Object.defineProperty(exports,"upperCamelCase",{enumerable:!0,get:function(){return _utils.upperCamelCase}}),Object.defineProperty(exports,"pluralize",{enumerable:!0,get:function(){return _utils.pluralize}}),Object.defineProperty(exports,"singularize",{enumerable:!0,get:function(){return _utils.singularize}}),Object.defineProperty(exports,"LiveSource",{enumerable:!0,get:function(){return _Live.LiveSource}}),Object.defineProperty(exports,"LiveProvider",{enumerable:!0,get:function(){return _Live.LiveProvider}}),Object.defineProperty(exports,"LiveMonitor",{enumerable:!0,get:function(){return _Live.LiveMonitor}}),Object.defineProperty(exports,"LiveCoordinator",{enumerable:!0,get:function(){return _Live.LiveCoordinator}}),exports.defaultPlugins=exports.buildSchema=exports.getBuilder=void 0;var _util=_interopRequireDefault(__webpack_require__(17)),_SchemaBuilder=_interopRequireDefault(__webpack_require__(345)),_plugins=__webpack_require__(373),_resolveNode=_interopRequireDefault(__webpack_require__(162)),_utils=__webpack_require__(110),_Live=__webpack_require__(163);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const getBuilder=async(plugins,options={})=>{const builder=new _SchemaBuilder.default(options);for(let i=0,l=plugins.length;i<l;i++){const plugin=plugins[i];if("function"!=typeof plugin)throw new Error(`Expected a list of plugin functions, instead list contained a non-function at index ${i}: ${_util.default.inspect(plugin)}`);builder._setPluginName(plugin.displayName||plugin.name),await plugin(builder,options),builder._setPluginName(null)}return builder};exports.getBuilder=getBuilder;exports.buildSchema=async(plugins,options={})=>(await getBuilder(plugins,options)).buildSchema();const defaultPlugins=[_plugins.SwallowErrorsPlugin,_plugins.StandardTypesPlugin,_plugins.NodePlugin,_plugins.QueryPlugin,_plugins.MutationPlugin,_plugins.SubscriptionPlugin,_plugins.ClientMutationIdDescriptionPlugin,_plugins.MutationPayloadQueryPlugin,_plugins.AddQueriesToSubscriptionsPlugin];exports.defaultPlugins=defaultPlugins},function(module,exports,__webpack_require__){var textParsers=__webpack_require__(386),binaryParsers=__webpack_require__(390),arrayParser=__webpack_require__(167),builtinTypes=__webpack_require__(392);exports.getTypeParser=function(oid,format){if(!typeParsers[format=format||"text"])return noParse;return typeParsers[format][oid]||noParse},exports.setTypeParser=function(oid,format,parseFn){"function"==typeof format&&(parseFn=format,format="text");typeParsers[format][oid]=parseFn},exports.arrayParser=arrayParser,exports.builtins=builtinTypes;var typeParsers={text:{},binary:{}};function noParse(val){return String(val)}textParsers.init((function(oid,converter){typeParsers.text[oid]=converter})),binaryParsers.init((function(oid,converter){typeParsers.binary[oid]=converter}))},function(module,exports){var JsonWebTokenError=function(message,error){Error.call(this,message),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=message,error&&(this.inner=error)};(JsonWebTokenError.prototype=Object.create(Error.prototype)).constructor=JsonWebTokenError,module.exports=JsonWebTokenError},function(module,exports,__webpack_require__){
/*!
 * depd
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
var callSiteToString=__webpack_require__(189).callSiteToString,eventListenerCount=__webpack_require__(189).eventListenerCount,relative=__webpack_require__(63).relative;module.exports=depd;var basePath=process.cwd();function containsNamespace(str,namespace){for(var vals=str.split(/[ ,]+/),ns=String(namespace).toLowerCase(),i=0;i<vals.length;i++){var val=vals[i];if(val&&("*"===val||val.toLowerCase()===ns))return!0}return!1}function convertDataDescriptorToAccessor(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop),value=descriptor.value;return descriptor.get=function(){return value},descriptor.writable&&(descriptor.set=function(val){return value=val}),delete descriptor.value,delete descriptor.writable,Object.defineProperty(obj,prop,descriptor),descriptor}function createArgumentsString(arity){for(var str="",i=0;i<arity;i++)str+=", arg"+i;return str.substr(2)}function createStackString(stack){var str=this.name+": "+this.namespace;this.message&&(str+=" deprecated "+this.message);for(var i=0;i<stack.length;i++)str+="\n    at "+callSiteToString(stack[i]);return str}function depd(namespace){if(!namespace)throw new TypeError("argument namespace is required");var file=callSiteLocation(getStack()[1])[0];function deprecate(message){log.call(deprecate,message)}return deprecate._file=file,deprecate._ignored=isignored(namespace),deprecate._namespace=namespace,deprecate._traced=istraced(namespace),deprecate._warned=Object.create(null),deprecate.function=wrapfunction,deprecate.property=wrapproperty,deprecate}function isignored(namespace){return!!process.noDeprecation||containsNamespace(process.env.NO_DEPRECATION||"",namespace)}function istraced(namespace){return!!process.traceDeprecation||containsNamespace(process.env.TRACE_DEPRECATION||"",namespace)}function log(message,site){var haslisteners=0!==eventListenerCount(process,"deprecation");if(haslisteners||!this._ignored){var caller,callFile,callSite,depSite,i=0,seen=!1,stack=getStack(),file=this._file;for(site?(depSite=site,(callSite=callSiteLocation(stack[1])).name=depSite.name,file=callSite[0]):callSite=depSite=callSiteLocation(stack[i=2]);i<stack.length;i++)if((callFile=(caller=callSiteLocation(stack[i]))[0])===file)seen=!0;else if(callFile===this._file)file=this._file;else if(seen)break;var key=caller?depSite.join(":")+"__"+caller.join(":"):void 0;if(void 0===key||!(key in this._warned)){this._warned[key]=!0;var msg=message;if(msg||(msg=callSite!==depSite&&callSite.name?defaultMessage(callSite):defaultMessage(depSite)),haslisteners){var err=DeprecationError(this._namespace,msg,stack.slice(i));process.emit("deprecation",err)}else{var output=(process.stderr.isTTY?formatColor:formatPlain).call(this,msg,caller,stack.slice(i));process.stderr.write(output+"\n","utf8")}}}}function callSiteLocation(callSite){var file=callSite.getFileName()||"<anonymous>",line=callSite.getLineNumber(),colm=callSite.getColumnNumber();callSite.isEval()&&(file=callSite.getEvalOrigin()+", "+file);var site=[file,line,colm];return site.callSite=callSite,site.name=callSite.getFunctionName(),site}function defaultMessage(site){var callSite=site.callSite,funcName=site.name;funcName||(funcName="<anonymous@"+formatLocation(site)+">");var context=callSite.getThis(),typeName=context&&callSite.getTypeName();return"Object"===typeName&&(typeName=void 0),"Function"===typeName&&(typeName=context.name||typeName),typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain(msg,caller,stack){var formatted=(new Date).toUTCString()+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    at "+callSiteToString(stack[i]);return formatted}return caller&&(formatted+=" at "+formatLocation(caller)),formatted}function formatColor(msg,caller,stack){var formatted="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+msg+"[39m";if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    [36mat "+callSiteToString(stack[i])+"[39m";return formatted}return caller&&(formatted+=" [36m"+formatLocation(caller)+"[39m"),formatted}function formatLocation(callSite){return relative(basePath,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,limit),Error.captureStackTrace(obj);var stack=obj.stack.slice(1);return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack}function prepareObjectStackTrace(obj,stack){return stack}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(obj,prop,message){if(!obj||"object"!=typeof obj&&"function"!=typeof obj)throw new TypeError("argument obj must be object");var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor)throw new TypeError("must call property on owner object");if(!descriptor.configurable)throw new TypeError("property must be configurable");var deprecate=this,site=callSiteLocation(getStack()[1]);site.name=prop,"value"in descriptor&&(descriptor=convertDataDescriptorToAccessor(obj,prop,message));var get=descriptor.get,set=descriptor.set;"function"==typeof get&&(descriptor.get=function(){return log.call(deprecate,message,site),get.apply(this,arguments)}),"function"==typeof set&&(descriptor.set=function(){return log.call(deprecate,message,site),set.apply(this,arguments)}),Object.defineProperty(obj,prop,descriptor)}function DeprecationError(namespace,message,stack){var stackString,error=new Error;return Object.defineProperty(error,"constructor",{value:DeprecationError}),Object.defineProperty(error,"message",{configurable:!0,enumerable:!1,value:message,writable:!0}),Object.defineProperty(error,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(error,"namespace",{configurable:!0,enumerable:!1,value:namespace,writable:!0}),Object.defineProperty(error,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==stackString?stackString:stackString=createStackString.call(this,stack)},set:function(val){stackString=val}}),error}},function(module,exports,__webpack_require__){"use strict";
/*!
 * parseurl
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var url=__webpack_require__(51),parse=url.parse,Url=url.Url;function parseurl(req){var url=req.url;if(void 0!==url){var parsed=req._parsedUrl;return fresh(url,parsed)?parsed:((parsed=fastparse(url))._raw=url,req._parsedUrl=parsed)}}function fastparse(str){if("string"!=typeof str||47!==str.charCodeAt(0))return parse(str);for(var pathname=str,query=null,search=null,i=1;i<str.length;i++)switch(str.charCodeAt(i)){case 63:null===search&&(pathname=str.substring(0,i),query=str.substring(i+1),search=str.substring(i));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return parse(str)}var url=void 0!==Url?new Url:{};return url.path=str,url.href=str,url.pathname=pathname,null!==search&&(url.query=query,url.search=search),url}function fresh(url,parsedUrl){return"object"==typeof parsedUrl&&null!==parsedUrl&&(void 0===Url||parsedUrl instanceof Url)&&parsedUrl._raw===url}module.exports=parseurl,module.exports.original=function(req){var url=req.originalUrl;if("string"!=typeof url)return parseurl(req);var parsed=req._parsedOriginalUrl;if(fresh(url,parsed))return parsed;return(parsed=fastparse(url))._raw=url,req._parsedOriginalUrl=parsed}},function(module,exports,__webpack_require__){"use strict";
/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var deprecate=__webpack_require__(89)("http-errors"),setPrototypeOf=__webpack_require__(190),statuses=__webpack_require__(118),inherits=__webpack_require__(487),toIdentifier=__webpack_require__(191);function codeClass(status){return Number(String(status).charAt(0)+"00")}function nameFunc(func,name){var desc=Object.getOwnPropertyDescriptor(func,"name");desc&&desc.configurable&&(desc.value=name,Object.defineProperty(func,"name",desc))}module.exports=function createError(){for(var err,msg,status=500,props={},i=0;i<arguments.length;i++){var arg=arguments[i];if(arg instanceof Error)status=(err=arg).status||err.statusCode||status;else switch(typeof arg){case"string":msg=arg;break;case"number":status=arg,0!==i&&deprecate("non-first-argument status code; replace with createError("+arg+", ...)");break;case"object":props=arg}}"number"==typeof status&&(status<400||status>=600)&&deprecate("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof status||!statuses[status]&&(status<400||status>=600))&&(status=500);var HttpError=createError[status]||createError[codeClass(status)];err||(err=HttpError?new HttpError(msg):new Error(msg||statuses[status]),Error.captureStackTrace(err,createError));HttpError&&err instanceof HttpError&&err.status===status||(err.expose=status<500,err.status=err.statusCode=status);for(var key in props)"status"!==key&&"statusCode"!==key&&(err[key]=props[key]);return err},module.exports.HttpError=function(){function HttpError(){throw new TypeError("cannot construct abstract class")}return inherits(HttpError,Error),HttpError}(),function(exports,codes,HttpError){codes.forEach((function(code){var CodeError,name=toIdentifier(statuses[code]);switch(codeClass(code)){case 400:CodeError=function(HttpError,name,code){var className=name.match(/Error$/)?name:name+"Error";function ClientError(message){var msg=null!=message?message:statuses[code],err=new Error(msg);return Error.captureStackTrace(err,ClientError),setPrototypeOf(err,ClientError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ClientError,HttpError),nameFunc(ClientError,className),ClientError.prototype.status=code,ClientError.prototype.statusCode=code,ClientError.prototype.expose=!0,ClientError}(HttpError,name,code);break;case 500:CodeError=function(HttpError,name,code){var className=name.match(/Error$/)?name:name+"Error";function ServerError(message){var msg=null!=message?message:statuses[code],err=new Error(msg);return Error.captureStackTrace(err,ServerError),setPrototypeOf(err,ServerError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ServerError,HttpError),nameFunc(ServerError,className),ServerError.prototype.status=code,ServerError.prototype.statusCode=code,ServerError.prototype.expose=!1,ServerError}(HttpError,name,code)}CodeError&&(exports[code]=CodeError,exports[name]=CodeError)})),exports["I'mateapot"]=deprecate.function(exports.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(module.exports,statuses.codes,module.exports.HttpError)},function(module,exports,__webpack_require__){"undefined"!=typeof process&&"renderer"===process.type?module.exports=__webpack_require__(489):module.exports=__webpack_require__(491)},function(module,exports,__webpack_require__){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var createError=__webpack_require__(91),getBody=__webpack_require__(492),iconv=__webpack_require__(198),onFinished=__webpack_require__(194),zlib=__webpack_require__(121);module.exports=function(req,res,next,parse,debug,options){var length,stream,opts=options;req._body=!0;var encoding=null!==opts.encoding?opts.encoding:null,verify=opts.verify;try{stream=function(req,debug,inflate){var stream,encoding=(req.headers["content-encoding"]||"identity").toLowerCase(),length=req.headers["content-length"];if(debug('content-encoding "%s"',encoding),!1===inflate&&"identity"!==encoding)throw createError(415,"content encoding unsupported",{encoding:encoding,type:"encoding.unsupported"});switch(encoding){case"deflate":stream=zlib.createInflate(),debug("inflate body"),req.pipe(stream);break;case"gzip":stream=zlib.createGunzip(),debug("gunzip body"),req.pipe(stream);break;case"identity":(stream=req).length=length;break;default:throw createError(415,'unsupported content encoding "'+encoding+'"',{encoding:encoding,type:"encoding.unsupported"})}return stream}(req,debug,opts.inflate),length=stream.length,stream.length=void 0}catch(err){return next(err)}if(opts.length=length,opts.encoding=verify?null:encoding,null===opts.encoding&&null!==encoding&&!iconv.encodingExists(encoding))return next(createError(415,'unsupported charset "'+encoding.toUpperCase()+'"',{charset:encoding.toLowerCase(),type:"charset.unsupported"}));debug("read body"),getBody(stream,opts,(function(error,body){var _error;if(error)return _error="encoding.unsupported"===error.type?createError(415,'unsupported charset "'+encoding.toUpperCase()+'"',{charset:encoding.toLowerCase(),type:"charset.unsupported"}):createError(400,error),stream.resume(),void onFinished(req,(function(){next(createError(400,_error))}));if(verify)try{debug("verify body"),verify(req,res,body,encoding)}catch(err){return void next(createError(403,err,{body:body,type:err.type||"entity.verify.failed"}))}var str=body;try{debug("parse body"),str="string"!=typeof body&&null!==encoding?iconv.decode(body,encoding):body,req.body=parse(str)}catch(err){return void next(createError(400,err,{body:str,type:err.type||"entity.parse.failed"}))}next()}))}},function(module,exports,__webpack_require__){"use strict";const Limiter=__webpack_require__(206),zlib=__webpack_require__(121),bufferUtil=__webpack_require__(122),{kStatusCode:kStatusCode,NOOP:NOOP}=__webpack_require__(59),TRAILER=Buffer.from([0,0,255,255]),EMPTY_BLOCK=Buffer.from([0]),kPerMessageDeflate=Symbol("permessage-deflate"),kTotalLength=Symbol("total-length"),kCallback=Symbol("callback"),kBuffers=Symbol("buffers"),kError=Symbol("error");let zlibLimiter;function deflateOnData(chunk){this[kBuffers].push(chunk),this[kTotalLength]+=chunk.length}function inflateOnData(chunk){this[kTotalLength]+=chunk.length,this[kPerMessageDeflate]._maxPayload<1||this[kTotalLength]<=this[kPerMessageDeflate]._maxPayload?this[kBuffers].push(chunk):(this[kError]=new RangeError("Max payload size exceeded"),this[kError][kStatusCode]=1009,this.removeListener("data",inflateOnData),this.reset())}function inflateOnError(err){this[kPerMessageDeflate]._inflate=null,err[kStatusCode]=1007,this[kCallback](err)}module.exports=class{constructor(options,isServer,maxPayload){if(this._maxPayload=0|maxPayload,this._options=options||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!isServer,this._deflate=null,this._inflate=null,this.params=null,!zlibLimiter){const concurrency=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;zlibLimiter=new Limiter({concurrency:concurrency})}}static get extensionName(){return"permessage-deflate"}offer(){const params={};return this._options.serverNoContextTakeover&&(params.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(params.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(params.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?params.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(params.client_max_window_bits=!0),params}accept(configurations){return configurations=this.normalizeParams(configurations),this.params=this._isServer?this.acceptAsServer(configurations):this.acceptAsClient(configurations),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate.close(),this._deflate=null)}acceptAsServer(offers){const opts=this._options,accepted=offers.find(params=>!(!1===opts.serverNoContextTakeover&&params.server_no_context_takeover||params.server_max_window_bits&&(!1===opts.serverMaxWindowBits||"number"==typeof opts.serverMaxWindowBits&&opts.serverMaxWindowBits>params.server_max_window_bits)||"number"==typeof opts.clientMaxWindowBits&&!params.client_max_window_bits));if(!accepted)throw new Error("None of the extension offers can be accepted");return opts.serverNoContextTakeover&&(accepted.server_no_context_takeover=!0),opts.clientNoContextTakeover&&(accepted.client_no_context_takeover=!0),"number"==typeof opts.serverMaxWindowBits&&(accepted.server_max_window_bits=opts.serverMaxWindowBits),"number"==typeof opts.clientMaxWindowBits?accepted.client_max_window_bits=opts.clientMaxWindowBits:!0!==accepted.client_max_window_bits&&!1!==opts.clientMaxWindowBits||delete accepted.client_max_window_bits,accepted}acceptAsClient(response){const params=response[0];if(!1===this._options.clientNoContextTakeover&&params.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(params.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&params.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(params.client_max_window_bits=this._options.clientMaxWindowBits);return params}normalizeParams(configurations){return configurations.forEach(params=>{Object.keys(params).forEach(key=>{var value=params[key];if(value.length>1)throw new Error(`Parameter "${key}" must have only a single value`);if(value=value[0],"client_max_window_bits"===key){if(!0!==value){const num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}else if("server_max_window_bits"===key){const num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else{if("client_no_context_takeover"!==key&&"server_no_context_takeover"!==key)throw new Error(`Unknown parameter "${key}"`);if(!0!==value)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}params[key]=value})}),configurations}decompress(data,fin,callback){zlibLimiter.push(done=>{this._decompress(data,fin,(err,result)=>{done(),callback(err,result)})})}compress(data,fin,callback){zlibLimiter.push(done=>{this._compress(data,fin,(err,result)=>{done(),callback(err,result)})})}_decompress(data,fin,callback){const endpoint=this._isServer?"client":"server";if(!this._inflate){const key=endpoint+"_max_window_bits",windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._inflate=zlib.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:windowBits})),this._inflate[kPerMessageDeflate]=this,this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[],this._inflate.on("error",inflateOnError),this._inflate.on("data",inflateOnData)}this._inflate[kCallback]=callback,this._inflate.write(data),fin&&this._inflate.write(TRAILER),this._inflate.flush(()=>{const err=this._inflate[kError];if(err)return this._inflate.close(),this._inflate=null,void callback(err);const data=bufferUtil.concat(this._inflate[kBuffers],this._inflate[kTotalLength]);fin&&this.params[endpoint+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[]),callback(null,data)})}_compress(data,fin,callback){if(!data||0===data.length)return void process.nextTick(callback,null,EMPTY_BLOCK);const endpoint=this._isServer?"server":"client";if(!this._deflate){const key=endpoint+"_max_window_bits",windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._deflate=zlib.createDeflateRaw(Object.assign({},this._options.zlibDeflateOptions,{windowBits:windowBits})),this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[],this._deflate.on("error",NOOP),this._deflate.on("data",deflateOnData)}this._deflate.write(data),this._deflate.flush(zlib.Z_SYNC_FLUSH,()=>{if(this._deflate){var data=bufferUtil.concat(this._deflate[kBuffers],this._deflate[kTotalLength]);fin&&(data=data.slice(0,data.length-4)),fin&&this.params[endpoint+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[]),callback(null,data)}})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MessageTypes=function(){function MessageTypes(){throw new Error("Static Class")}return MessageTypes.GQL_CONNECTION_INIT="connection_init",MessageTypes.GQL_CONNECTION_ACK="connection_ack",MessageTypes.GQL_CONNECTION_ERROR="connection_error",MessageTypes.GQL_CONNECTION_KEEP_ALIVE="ka",MessageTypes.GQL_CONNECTION_TERMINATE="connection_terminate",MessageTypes.GQL_START="start",MessageTypes.GQL_DATA="data",MessageTypes.GQL_ERROR="error",MessageTypes.GQL_COMPLETE="complete",MessageTypes.GQL_STOP="stop",MessageTypes.SUBSCRIPTION_START="subscription_start",MessageTypes.SUBSCRIPTION_DATA="subscription_data",MessageTypes.SUBSCRIPTION_SUCCESS="subscription_success",MessageTypes.SUBSCRIPTION_FAIL="subscription_fail",MessageTypes.SUBSCRIPTION_END="subscription_end",MessageTypes.INIT="init",MessageTypes.INIT_SUCCESS="init_success",MessageTypes.INIT_FAIL="init_fail",MessageTypes.KEEP_ALIVE="keepalive",MessageTypes}();exports.default=MessageTypes},function(module,exports,__webpack_require__){"use strict";const Limiter=__webpack_require__(206),zlib=__webpack_require__(121),bufferUtil=__webpack_require__(124),constants=__webpack_require__(75),TRAILER=Buffer.from([0,0,255,255]),EMPTY_BLOCK=Buffer.from([0]),kPerMessageDeflate=Symbol("permessage-deflate"),kWriteInProgress=Symbol("write-in-progress"),kPendingClose=Symbol("pending-close"),kTotalLength=Symbol("total-length"),kCallback=Symbol("callback"),kBuffers=Symbol("buffers"),kError=Symbol("error");let zlibLimiter;function deflateOnData(chunk){this[kBuffers].push(chunk),this[kTotalLength]+=chunk.length}function inflateOnData(chunk){this[kTotalLength]+=chunk.length,this[kPerMessageDeflate]._maxPayload<1||this[kTotalLength]<=this[kPerMessageDeflate]._maxPayload?this[kBuffers].push(chunk):(this[kError]=new RangeError("Max payload size exceeded"),this[kError][constants.kStatusCode]=1009,this.removeListener("data",inflateOnData),this.reset())}function inflateOnError(err){this[kPerMessageDeflate]._inflate=null,err[constants.kStatusCode]=1007,this[kCallback](err)}module.exports=class{constructor(options,isServer,maxPayload){if(this._maxPayload=0|maxPayload,this._options=options||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!isServer,this._deflate=null,this._inflate=null,this.params=null,!zlibLimiter){const concurrency=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;zlibLimiter=new Limiter({concurrency:concurrency})}}static get extensionName(){return"permessage-deflate"}offer(){const params={};return this._options.serverNoContextTakeover&&(params.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(params.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(params.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?params.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(params.client_max_window_bits=!0),params}accept(configurations){return configurations=this.normalizeParams(configurations),this.params=this._isServer?this.acceptAsServer(configurations):this.acceptAsClient(configurations),this.params}cleanup(){this._inflate&&(this._inflate[kWriteInProgress]?this._inflate[kPendingClose]=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate[kWriteInProgress]?this._deflate[kPendingClose]=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(offers){const opts=this._options,accepted=offers.find(params=>!(!1===opts.serverNoContextTakeover&&params.server_no_context_takeover||params.server_max_window_bits&&(!1===opts.serverMaxWindowBits||"number"==typeof opts.serverMaxWindowBits&&opts.serverMaxWindowBits>params.server_max_window_bits)||"number"==typeof opts.clientMaxWindowBits&&!params.client_max_window_bits));if(!accepted)throw new Error("None of the extension offers can be accepted");return opts.serverNoContextTakeover&&(accepted.server_no_context_takeover=!0),opts.clientNoContextTakeover&&(accepted.client_no_context_takeover=!0),"number"==typeof opts.serverMaxWindowBits&&(accepted.server_max_window_bits=opts.serverMaxWindowBits),"number"==typeof opts.clientMaxWindowBits?accepted.client_max_window_bits=opts.clientMaxWindowBits:!0!==accepted.client_max_window_bits&&!1!==opts.clientMaxWindowBits||delete accepted.client_max_window_bits,accepted}acceptAsClient(response){const params=response[0];if(!1===this._options.clientNoContextTakeover&&params.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(params.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&params.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(params.client_max_window_bits=this._options.clientMaxWindowBits);return params}normalizeParams(configurations){return configurations.forEach(params=>{Object.keys(params).forEach(key=>{var value=params[key];if(value.length>1)throw new Error(`Parameter "${key}" must have only a single value`);if(value=value[0],"client_max_window_bits"===key){if(!0!==value){const num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}else if("server_max_window_bits"===key){const num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else{if("client_no_context_takeover"!==key&&"server_no_context_takeover"!==key)throw new Error(`Unknown parameter "${key}"`);if(!0!==value)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}params[key]=value})}),configurations}decompress(data,fin,callback){zlibLimiter.push(done=>{this._decompress(data,fin,(err,result)=>{done(),callback(err,result)})})}compress(data,fin,callback){zlibLimiter.push(done=>{this._compress(data,fin,(err,result)=>{done(),callback(err,result)})})}_decompress(data,fin,callback){const endpoint=this._isServer?"client":"server";if(!this._inflate){const key=endpoint+"_max_window_bits",windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._inflate=zlib.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:windowBits})),this._inflate[kPerMessageDeflate]=this,this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[],this._inflate.on("error",inflateOnError),this._inflate.on("data",inflateOnData)}this._inflate[kCallback]=callback,this._inflate[kWriteInProgress]=!0,this._inflate.write(data),fin&&this._inflate.write(TRAILER),this._inflate.flush(()=>{const err=this._inflate[kError];if(err)return this._inflate.close(),this._inflate=null,void callback(err);const data=bufferUtil.concat(this._inflate[kBuffers],this._inflate[kTotalLength]);fin&&this.params[endpoint+"_no_context_takeover"]||this._inflate[kPendingClose]?(this._inflate.close(),this._inflate=null):(this._inflate[kWriteInProgress]=!1,this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[]),callback(null,data)})}_compress(data,fin,callback){if(!data||0===data.length)return void process.nextTick(callback,null,EMPTY_BLOCK);const endpoint=this._isServer?"server":"client";if(!this._deflate){const key=endpoint+"_max_window_bits",windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._deflate=zlib.createDeflateRaw(Object.assign({memLevel:this._options.memLevel,level:this._options.level},this._options.zlibDeflateOptions,{windowBits:windowBits})),this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[],this._deflate.on("data",deflateOnData)}this._deflate[kWriteInProgress]=!0,this._deflate.write(data),this._deflate.flush(zlib.Z_SYNC_FLUSH,()=>{var data=bufferUtil.concat(this._deflate[kBuffers],this._deflate[kTotalLength]);fin&&(data=data.slice(0,data.length-4)),fin&&this.params[endpoint+"_no_context_takeover"]||this._deflate[kPendingClose]?(this._deflate.close(),this._deflate=null):(this._deflate[kWriteInProgress]=!1,this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[]),callback(null,data)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const package_json_1=__webpack_require__(187),graphql=__webpack_require__(20),identityHook=input=>input,identityPluginHook=(_hookName,input,_options)=>input;function memoizeHook(hook){let lastCall=null;return(argument,context)=>{if(lastCall&&lastCall.argument===argument&&function(context1,context2){if(context1===context2)return!0;const keys1=Object.keys(context1),keys2=Object.keys(context2);if(keys1.length!==keys2.length)return!1;for(let i=0,l=keys1.length;i<l;i++){const key=keys1[i];if(context1[key]!==context2[key])return!1;if(!keys2.includes(key))return!1}return!0}(lastCall.context,context))return lastCall.result;{const result=hook(argument,context);return lastCall={argument:argument,context:context,result:result},result}}}exports.makePluginHook=function(plugins){const hooks={},emptyObject={};function rawPluginHook(hookName,argument,context=emptyObject){return hooks[hookName]||(hooks[hookName]=function(plugins,hookName){const combinedHook=plugins.reduce((previousHook,plugin)=>"function"==typeof plugin[hookName]?(argument,context)=>plugin[hookName](previousHook(argument,context),context):previousHook,identityHook);return combinedHook===identityHook?identityHook:function(hookName){return"withPostGraphileContext"===hookName}(hookName)?memoizeHook(combinedHook):combinedHook}(plugins,hookName)),hooks[hookName](argument,context)}const pluginHook=rawPluginHook("pluginHook",rawPluginHook,{});return pluginHook("init",null,{version:package_json_1.version,graphql:graphql}),pluginHook},exports.pluginHookFromOptions=function(options){return"function"==typeof options.pluginHook?options.pluginHook:identityPluginHook}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return coerceInputValue}));var iterall__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_polyfills_objectValues__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_jsutils_invariant__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_jsutils_didYouMean__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21),_jsutils_isObjectLike__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12),_jsutils_suggestionList__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(23),_jsutils_printPathArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(61),_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(15),_error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),_type_definition__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0);function coerceInputValue(inputValue,type){var onError=arguments.length>2&&void 0!==arguments[2]?arguments[2]:defaultOnError;return coerceInputValueImpl(inputValue,type,onError)}function defaultOnError(path,invalidValue,error){var errorPrefix="Invalid value "+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(invalidValue);throw path.length>0&&(errorPrefix+=' at "value'.concat(Object(_jsutils_printPathArray__WEBPACK_IMPORTED_MODULE_7__.a)(path),'": ')),error.message=errorPrefix+": "+error.message,error}function coerceInputValueImpl(inputValue,type,onError,path){if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_10__.L)(type))return null!=inputValue?coerceInputValueImpl(inputValue,type.ofType,onError,path):void onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a("Expected non-nullable type ".concat(Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(type)," not to be null.")));if(null==inputValue)return null;if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_10__.J)(type)){var itemType=type.ofType;if(Object(iterall__WEBPACK_IMPORTED_MODULE_0__.isCollection)(inputValue)){var coercedValue=[];return Object(iterall__WEBPACK_IMPORTED_MODULE_0__.forEach)(inputValue,(function(itemValue,index){coercedValue.push(coerceInputValueImpl(itemValue,itemType,onError,Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.a)(path,index)))})),coercedValue}return[coerceInputValueImpl(inputValue,itemType,onError,path)]}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_10__.F)(type)){if(!Object(_jsutils_isObjectLike__WEBPACK_IMPORTED_MODULE_5__.a)(inputValue))return void onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a("Expected type ".concat(type.name," to be an object.")));for(var _coercedValue={},fieldDefs=type.getFields(),_i2=0,_objectValues2=Object(_polyfills_objectValues__WEBPACK_IMPORTED_MODULE_1__.a)(fieldDefs);_i2<_objectValues2.length;_i2++){var field=_objectValues2[_i2],fieldValue=inputValue[field.name];if(void 0!==fieldValue)_coercedValue[field.name]=coerceInputValueImpl(fieldValue,field.type,onError,Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.a)(path,field.name));else if(void 0!==field.defaultValue)_coercedValue[field.name]=field.defaultValue;else if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_10__.L)(field.type)){var typeStr=Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(field.type);onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a("Field ".concat(field.name," of required type ").concat(typeStr," was not provided.")))}}for(var _i4=0,_Object$keys2=Object.keys(inputValue);_i4<_Object$keys2.length;_i4++){var fieldName=_Object$keys2[_i4];if(!fieldDefs[fieldName]){var suggestions=Object(_jsutils_suggestionList__WEBPACK_IMPORTED_MODULE_6__.a)(fieldName,Object.keys(type.getFields()));onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a('Field "'.concat(fieldName,'" is not defined by type ').concat(type.name,".")+Object(_jsutils_didYouMean__WEBPACK_IMPORTED_MODULE_4__.a)(suggestions)))}}return _coercedValue}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_10__.R)(type)){var parseResult;try{parseResult=type.parseValue(inputValue)}catch(error){return void onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a("Expected type ".concat(type.name,". ")+error.message,void 0,void 0,void 0,void 0,error))}return void 0===parseResult&&onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a("Expected type ".concat(type.name,"."))),parseResult}if(Object(_type_definition__WEBPACK_IMPORTED_MODULE_10__.E)(type)){if("string"==typeof inputValue){var enumValue=type.getValue(inputValue);if(enumValue)return enumValue.value}var _suggestions=Object(_jsutils_suggestionList__WEBPACK_IMPORTED_MODULE_6__.a)(String(inputValue),type.getValues().map((function(enumValue){return enumValue.name})));onError(Object(_jsutils_Path__WEBPACK_IMPORTED_MODULE_8__.b)(path),inputValue,new _error_GraphQLError__WEBPACK_IMPORTED_MODULE_9__.a("Expected type ".concat(type.name,".")+Object(_jsutils_didYouMean__WEBPACK_IMPORTED_MODULE_4__.a)(_suggestions)))}else Object(_jsutils_invariant__WEBPACK_IMPORTED_MODULE_3__.a)(!1,"Unexpected input type: "+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_2__.a)(type))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"PgBasicsPlugin",{enumerable:!0,get:function(){return _PgBasicsPlugin.default}}),Object.defineProperty(exports,"PgIntrospectionPlugin",{enumerable:!0,get:function(){return _PgIntrospectionPlugin.default}}),Object.defineProperty(exports,"PgEntityKind",{enumerable:!0,get:function(){return _PgIntrospectionPlugin.PgEntityKind}}),Object.defineProperty(exports,"PgTypesPlugin",{enumerable:!0,get:function(){return _PgTypesPlugin.default}}),Object.defineProperty(exports,"PgJWTPlugin",{enumerable:!0,get:function(){return _PgJWTPlugin.default}}),Object.defineProperty(exports,"PgTablesPlugin",{enumerable:!0,get:function(){return _PgTablesPlugin.default}}),Object.defineProperty(exports,"PgConnectionArgFirstLastBeforeAfter",{enumerable:!0,get:function(){return _PgConnectionArgFirstLastBeforeAfter.default}}),Object.defineProperty(exports,"PgConnectionArgOrderBy",{enumerable:!0,get:function(){return _PgConnectionArgOrderBy.default}}),Object.defineProperty(exports,"PgConnectionArgOrderByDefaultValue",{enumerable:!0,get:function(){return _PgConnectionArgOrderByDefaultValue.default}}),Object.defineProperty(exports,"PgConnectionArgCondition",{enumerable:!0,get:function(){return _PgConnectionArgCondition.default}}),Object.defineProperty(exports,"PgConditionComputedColumnPlugin",{enumerable:!0,get:function(){return _PgConditionComputedColumnPlugin.default}}),Object.defineProperty(exports,"PgAllRows",{enumerable:!0,get:function(){return _PgAllRows.default}}),Object.defineProperty(exports,"PgColumnsPlugin",{enumerable:!0,get:function(){return _PgColumnsPlugin.default}}),Object.defineProperty(exports,"PgColumnDeprecationPlugin",{enumerable:!0,get:function(){return _PgColumnDeprecationPlugin.default}}),Object.defineProperty(exports,"PgForwardRelationPlugin",{enumerable:!0,get:function(){return _PgForwardRelationPlugin.default}}),Object.defineProperty(exports,"PgBackwardRelationPlugin",{enumerable:!0,get:function(){return _PgBackwardRelationPlugin.default}}),Object.defineProperty(exports,"PgRowByUniqueConstraint",{enumerable:!0,get:function(){return _PgRowByUniqueConstraint.default}}),Object.defineProperty(exports,"PgComputedColumnsPlugin",{enumerable:!0,get:function(){return _PgComputedColumnsPlugin.default}}),Object.defineProperty(exports,"PgQueryProceduresPlugin",{enumerable:!0,get:function(){return _PgQueryProceduresPlugin.default}}),Object.defineProperty(exports,"PgOrderAllColumnsPlugin",{enumerable:!0,get:function(){return _PgOrderAllColumnsPlugin.default}}),Object.defineProperty(exports,"PgOrderComputedColumnsPlugin",{enumerable:!0,get:function(){return _PgOrderComputedColumnsPlugin.default}}),Object.defineProperty(exports,"PgOrderByPrimaryKeyPlugin",{enumerable:!0,get:function(){return _PgOrderByPrimaryKeyPlugin.default}}),Object.defineProperty(exports,"PgRowNode",{enumerable:!0,get:function(){return _PgRowNode.default}}),Object.defineProperty(exports,"PgNodeAliasPostGraphile",{enumerable:!0,get:function(){return _PgNodeAliasPostGraphile.default}}),Object.defineProperty(exports,"PgNodeAliasPostGraphQL",{enumerable:!0,get:function(){return _PgNodeAliasPostGraphile.default}}),Object.defineProperty(exports,"PgRecordReturnTypesPlugin",{enumerable:!0,get:function(){return _PgRecordReturnTypesPlugin.default}}),Object.defineProperty(exports,"PgRecordFunctionConnectionPlugin",{enumerable:!0,get:function(){return _PgRecordFunctionConnectionPlugin.default}}),Object.defineProperty(exports,"PgScalarFunctionConnectionPlugin",{enumerable:!0,get:function(){return _PgScalarFunctionConnectionPlugin.default}}),Object.defineProperty(exports,"PageInfoStartEndCursor",{enumerable:!0,get:function(){return _PageInfoStartEndCursor.default}}),Object.defineProperty(exports,"PgConnectionTotalCount",{enumerable:!0,get:function(){return _PgConnectionTotalCount.default}}),Object.defineProperty(exports,"PgMutationCreatePlugin",{enumerable:!0,get:function(){return _PgMutationCreatePlugin.default}}),Object.defineProperty(exports,"PgMutationUpdateDeletePlugin",{enumerable:!0,get:function(){return _PgMutationUpdateDeletePlugin.default}}),Object.defineProperty(exports,"PgMutationProceduresPlugin",{enumerable:!0,get:function(){return _PgMutationProceduresPlugin.default}}),Object.defineProperty(exports,"PgMutationPayloadEdgePlugin",{enumerable:!0,get:function(){return _PgMutationPayloadEdgePlugin.default}}),Object.defineProperty(exports,"parseIdentifier",{enumerable:!0,get:function(){return _parseIdentifier.default}}),Object.defineProperty(exports,"omit",{enumerable:!0,get:function(){return _omit.default}}),Object.defineProperty(exports,"formatSQLForDebugging",{enumerable:!0,get:function(){return _debugSql.formatSQLForDebugging}}),Object.defineProperty(exports,"upperFirst",{enumerable:!0,get:function(){return _graphileBuild.upperFirst}}),Object.defineProperty(exports,"camelCase",{enumerable:!0,get:function(){return _graphileBuild.camelCase}}),Object.defineProperty(exports,"constantCase",{enumerable:!0,get:function(){return _graphileBuild.constantCase}}),Object.defineProperty(exports,"parseTags",{enumerable:!0,get:function(){return _utils.parseTags}}),Object.defineProperty(exports,"withPgClient",{enumerable:!0,get:function(){return _withPgClient.default}}),Object.defineProperty(exports,"getPgClientAndReleaserFromConfig",{enumerable:!0,get:function(){return _withPgClient.getPgClientAndReleaserFromConfig}}),exports.inflections=exports.defaultPlugins=void 0;var _PgBasicsPlugin=_interopRequireDefault(__webpack_require__(128)),_PgIntrospectionPlugin=_interopRequireWildcard(__webpack_require__(384)),_PgTypesPlugin=_interopRequireDefault(__webpack_require__(421)),_PgJWTPlugin=_interopRequireDefault(__webpack_require__(423)),_PgTablesPlugin=_interopRequireDefault(__webpack_require__(439)),_PgConnectionArgFirstLastBeforeAfter=_interopRequireDefault(__webpack_require__(440)),_PgConnectionArgOrderBy=_interopRequireDefault(__webpack_require__(441)),_PgConnectionArgOrderByDefaultValue=_interopRequireDefault(__webpack_require__(442)),_PgConnectionArgCondition=_interopRequireDefault(__webpack_require__(443)),_PgConditionComputedColumnPlugin=_interopRequireDefault(__webpack_require__(444)),_PgAllRows=_interopRequireDefault(__webpack_require__(445)),_PgColumnsPlugin=_interopRequireDefault(__webpack_require__(446)),_PgColumnDeprecationPlugin=_interopRequireDefault(__webpack_require__(447)),_PgForwardRelationPlugin=_interopRequireDefault(__webpack_require__(448)),_PgBackwardRelationPlugin=_interopRequireDefault(__webpack_require__(449)),_PgRowByUniqueConstraint=_interopRequireDefault(__webpack_require__(450)),_PgComputedColumnsPlugin=_interopRequireDefault(__webpack_require__(116)),_PgQueryProceduresPlugin=_interopRequireDefault(__webpack_require__(451)),_PgOrderAllColumnsPlugin=_interopRequireDefault(__webpack_require__(452)),_PgOrderComputedColumnsPlugin=_interopRequireDefault(__webpack_require__(453)),_PgOrderByPrimaryKeyPlugin=_interopRequireDefault(__webpack_require__(454)),_PgRowNode=_interopRequireDefault(__webpack_require__(455)),_PgNodeAliasPostGraphile=_interopRequireDefault(__webpack_require__(456)),_PgRecordReturnTypesPlugin=_interopRequireDefault(__webpack_require__(457)),_PgRecordFunctionConnectionPlugin=_interopRequireDefault(__webpack_require__(458)),_PgScalarFunctionConnectionPlugin=_interopRequireDefault(__webpack_require__(459)),_PageInfoStartEndCursor=_interopRequireDefault(__webpack_require__(460)),_PgConnectionTotalCount=_interopRequireDefault(__webpack_require__(461)),_PgMutationCreatePlugin=_interopRequireDefault(__webpack_require__(462)),_PgMutationUpdateDeletePlugin=_interopRequireDefault(__webpack_require__(463)),_PgMutationProceduresPlugin=_interopRequireDefault(__webpack_require__(464)),_PgMutationPayloadEdgePlugin=_interopRequireDefault(__webpack_require__(465)),inflections=_interopRequireWildcard(__webpack_require__(466));exports.inflections=inflections;var _parseIdentifier=_interopRequireDefault(__webpack_require__(143)),_omit=_interopRequireDefault(__webpack_require__(141)),_debugSql=__webpack_require__(56),_graphileBuild=__webpack_require__(86),_utils=__webpack_require__(175),_withPgClient=_interopRequireWildcard(__webpack_require__(165));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const defaultPlugins=[_PgBasicsPlugin.default,_PgIntrospectionPlugin.default,_PgTypesPlugin.default,_PgJWTPlugin.default,_PgTablesPlugin.default,_PgConnectionArgFirstLastBeforeAfter.default,_PgConnectionArgOrderBy.default,_PgConnectionArgOrderByDefaultValue.default,_PgConnectionArgCondition.default,_PgConditionComputedColumnPlugin.default,_PgAllRows.default,_PgColumnsPlugin.default,_PgColumnDeprecationPlugin.default,_PgForwardRelationPlugin.default,_PgBackwardRelationPlugin.default,_PgRowByUniqueConstraint.default,_PgComputedColumnsPlugin.default,_PgQueryProceduresPlugin.default,_PgOrderAllColumnsPlugin.default,_PgOrderComputedColumnsPlugin.default,_PgOrderByPrimaryKeyPlugin.default,_PgRowNode.default,_PgNodeAliasPostGraphile.default,_PgRecordReturnTypesPlugin.default,_PgRecordFunctionConnectionPlugin.default,_PgScalarFunctionConnectionPlugin.default,_PageInfoStartEndCursor.default,_PgConnectionTotalCount.default,_PgMutationCreatePlugin.default,_PgMutationUpdateDeletePlugin.default,_PgMutationProceduresPlugin.default,_PgMutationPayloadEdgePlugin.default];exports.defaultPlugins=defaultPlugins},function(module,exports){module.exports=require("tty")},function(module,exports){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){var Map=__webpack_require__(47)(__webpack_require__(38),"Map");module.exports=Map},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(281),mapCacheDelete=__webpack_require__(288),mapCacheGet=__webpack_require__(290),mapCacheHas=__webpack_require__(291),mapCacheSet=__webpack_require__(292);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(152),baseKeys=__webpack_require__(312),isArrayLike=__webpack_require__(66);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(307),isObjectLike=__webpack_require__(55),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){var castPath=__webpack_require__(85),toKey=__webpack_require__(69);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(34),isSymbol=__webpack_require__(77),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.singularize=exports.pluralize=exports.upperCamelCase=exports.constantCase=exports.camelCase=exports.upperFirst=exports.formatInsideUnderscores=exports.constantCaseAll=exports.bindAll=void 0;var _upperFirst=_interopRequireDefault(__webpack_require__(160)),_camelCase=_interopRequireDefault(__webpack_require__(356)),_pluralize=_interopRequireDefault(__webpack_require__(159));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.bindAll=(obj,keys)=>(keys.forEach(key=>{obj[key]=obj[key].bind(obj)}),obj);const constantCaseAll=str=>str.replace(/[^a-zA-Z0-9_]+/g,"_").replace(/[A-Z]+/g,"_$&").replace(/__+/g,"_").replace(/^[^a-zA-Z0-9]+/,"").replace(/^[0-9]/,"_$&").toUpperCase();exports.constantCaseAll=constantCaseAll;const formatInsideUnderscores=fn=>str=>{const matches=str.match(/^(_*)([\s\S]*?)(_*)$/);if(!matches)throw new Error("Impossible?");const[,start,middle,end]=matches;return`${start}${fn(middle)}${end}`};exports.formatInsideUnderscores=formatInsideUnderscores;const upperFirst=formatInsideUnderscores(_upperFirst.default);exports.upperFirst=upperFirst;const camelCase=formatInsideUnderscores(_camelCase.default);exports.camelCase=camelCase;const constantCase=formatInsideUnderscores(constantCaseAll);exports.constantCase=constantCase;exports.upperCamelCase=str=>upperFirst(camelCase(str));exports.pluralize=str=>(0,_pluralize.default)(str);exports.singularize=str=>_pluralize.default.singular(str)},function(module,exports,__webpack_require__){"use strict";const crypto=__webpack_require__(28),defaults=__webpack_require__(70);var prepareValue=function(val,seen){if(val instanceof Buffer)return val;if(ArrayBuffer.isView(val)){var buf=Buffer.from(val.buffer,val.byteOffset,val.byteLength);return buf.length===val.byteLength?buf:buf.slice(val.byteOffset,val.byteOffset+val.byteLength)}return val instanceof Date?defaults.parseInputDatesAsUTC?function(date){var year=date.getUTCFullYear(),isBCYear=year<1;isBCYear&&(year=Math.abs(year)+1);var ret=pad(year,4)+"-"+pad(date.getUTCMonth()+1,2)+"-"+pad(date.getUTCDate(),2)+"T"+pad(date.getUTCHours(),2)+":"+pad(date.getUTCMinutes(),2)+":"+pad(date.getUTCSeconds(),2)+"."+pad(date.getUTCMilliseconds(),3);ret+="+00:00",isBCYear&&(ret+=" BC");return ret}(val):function(date){var offset=-date.getTimezoneOffset(),year=date.getFullYear(),isBCYear=year<1;isBCYear&&(year=Math.abs(year)+1);var ret=pad(year,4)+"-"+pad(date.getMonth()+1,2)+"-"+pad(date.getDate(),2)+"T"+pad(date.getHours(),2)+":"+pad(date.getMinutes(),2)+":"+pad(date.getSeconds(),2)+"."+pad(date.getMilliseconds(),3);offset<0?(ret+="-",offset*=-1):ret+="+";ret+=pad(Math.floor(offset/60),2)+":"+pad(offset%60,2),isBCYear&&(ret+=" BC");return ret}(val):Array.isArray(val)?function arrayString(val){for(var result="{",i=0;i<val.length;i++)i>0&&(result+=","),null===val[i]||void 0===val[i]?result+="NULL":Array.isArray(val[i])?result+=arrayString(val[i]):val[i]instanceof Buffer?result+="\\\\x"+val[i].toString("hex"):result+='"'+prepareValue(val[i]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';return result+="}"}(val):null==val?null:"object"==typeof val?function(val,seen){if(val&&"function"==typeof val.toPostgres){if(-1!==(seen=seen||[]).indexOf(val))throw new Error('circular reference detected while preparing "'+val+'" for query');return seen.push(val),prepareValue(val.toPostgres(prepareValue),seen)}return JSON.stringify(val)}(val,seen):val.toString()};function pad(number,digits){for(number=""+number;number.length<digits;)number="0"+number;return number}const md5=function(string){return crypto.createHash("md5").update(string,"utf-8").digest("hex")};module.exports={prepareValue:function(value){return prepareValue(value)},normalizeQueryConfig:function(config,values,callback){return config="string"==typeof config?{text:config}:config,values&&("function"==typeof values?config.callback=values:config.values=values),callback&&(config.callback=callback),config},postgresMd5PasswordHash:function(user,password,salt){var inner=md5(password+user);return"md5"+md5(Buffer.concat([Buffer.from(inner),salt]))},md5:md5}},function(module,exports,__webpack_require__){"use strict";var net=__webpack_require__(71),EventEmitter=__webpack_require__(29).EventEmitter,util=__webpack_require__(17);const{parse:parse,serialize:serialize}=__webpack_require__(399);var Connection=function(config){EventEmitter.call(this),config=config||{},this.stream=config.stream||new net.Socket,this._keepAlive=config.keepAlive,this._keepAliveInitialDelayMillis=config.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=config.ssl||!1,this._ending=!1,this._emitMessage=!1;var self=this;this.on("newListener",(function(eventName){"message"===eventName&&(self._emitMessage=!0)}))};util.inherits(Connection,EventEmitter),Connection.prototype.connect=function(port,host){var self=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(port,host),this.stream.once("connect",(function(){self._keepAlive&&self.stream.setKeepAlive(!0,self._keepAliveInitialDelayMillis),self.emit("connect")}));const reportStreamError=function(error){(!self._ending||"ECONNRESET"!==error.code&&"EPIPE"!==error.code)&&self.emit("error",error)};if(this.stream.on("error",reportStreamError),this.stream.on("close",(function(){self.emit("end")})),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",(function(buffer){switch(buffer.toString("utf8")){case"S":break;case"N":return self.stream.end(),self.emit("error",new Error("The server does not support SSL connections"));default:return self.stream.end(),self.emit("error",new Error("There was an error establishing an SSL connection"))}var tls=__webpack_require__(113);const options=Object.assign({socket:self.stream},self.ssl);0===net.isIP(host)&&(options.servername=host),self.stream=tls.connect(options),self.attachListeners(self.stream),self.stream.on("error",reportStreamError),self.emit("sslconnect")}))},Connection.prototype.attachListeners=function(stream){stream.on("end",()=>{this.emit("end")}),parse(stream,msg=>{var eventName="error"===msg.name?"errorMessage":msg.name;this._emitMessage&&this.emit("message",msg),this.emit(eventName,msg)})},Connection.prototype.requestSsl=function(){this.stream.write(serialize.requestSsl())},Connection.prototype.startup=function(config){this.stream.write(serialize.startup(config))},Connection.prototype.cancel=function(processID,secretKey){this._send(serialize.cancel(processID,secretKey))},Connection.prototype.password=function(password){this._send(serialize.password(password))},Connection.prototype.sendSASLInitialResponseMessage=function(mechanism,initialResponse){this._send(serialize.sendSASLInitialResponseMessage(mechanism,initialResponse))},Connection.prototype.sendSCRAMClientFinalMessage=function(additionalData){this._send(serialize.sendSCRAMClientFinalMessage(additionalData))},Connection.prototype._send=function(buffer){return!!this.stream.writable&&this.stream.write(buffer)},Connection.prototype.query=function(text){this._send(serialize.query(text))},Connection.prototype.parse=function(query){this._send(serialize.parse(query))},Connection.prototype.bind=function(config){this._send(serialize.bind(config))},Connection.prototype.execute=function(config){this._send(serialize.execute(config))};const flushBuffer=serialize.flush();Connection.prototype.flush=function(){this.stream.writable&&this.stream.write(flushBuffer)};const syncBuffer=serialize.sync();Connection.prototype.sync=function(){this._ending=!0,this._send(flushBuffer),this._send(syncBuffer)};const endBuffer=serialize.end();Connection.prototype.end=function(){if(this._ending=!0,this._connecting&&this.stream.writable)return this.stream.write(endBuffer,()=>{this.stream.end()});this.stream.end()},Connection.prototype.close=function(msg){this._send(serialize.close(msg))},Connection.prototype.describe=function(msg){this._send(serialize.describe(msg))},Connection.prototype.sendCopyFromChunk=function(chunk){this._send(serialize.copyData(chunk))},Connection.prototype.endCopyFrom=function(){this._send(serialize.copyDone())},Connection.prototype.sendCopyFail=function(msg){this._send(serialize.copyFail(msg))},module.exports=Connection},function(module,exports){module.exports=require("tls")},function(module,exports,__webpack_require__){module.exports={decode:__webpack_require__(176),verify:__webpack_require__(429),sign:__webpack_require__(431),JsonWebTokenError:__webpack_require__(88),NotBeforeError:__webpack_require__(180),TokenExpiredError:__webpack_require__(181)}},function(module,exports,__webpack_require__){var SignStream=__webpack_require__(424),VerifyStream=__webpack_require__(428);exports.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],exports.sign=SignStream.sign,exports.verify=VerifyStream.verify,exports.decode=VerifyStream.decode,exports.isValid=VerifyStream.isValid,exports.createSign=function(opts){return new SignStream(opts)},exports.createVerify=function(opts){return new VerifyStream(opts)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.getComputedColumnDetails=void 0;const getComputedColumnDetails=(build,table,proc)=>{if(!proc.isStable)return null;if(proc.namespaceId!==table.namespaceId)return null;if(!proc.name.startsWith(table.name+"_"))return null;if(proc.argTypeIds.length<1)return null;if(proc.argTypeIds[0]!==table.type.id)return null;const argTypes=proc.argTypeIds.reduce((prev,typeId,idx)=>(0!==proc.argModes.length&&"i"!==proc.argModes[idx]&&"b"!==proc.argModes[idx]||prev.push(build.pgIntrospectionResultsByKind.typeById[typeId]),prev),[]);if(argTypes.slice(1).some(type=>"c"===type.type&&type.class&&type.class.isSelectable))return null;return{argTypes:argTypes,pseudoColumnName:proc.name.substr(table.name.length+1)}};exports.getComputedColumnDetails=getComputedColumnDetails;exports.default=function(builder,{pgSimpleCollections:pgSimpleCollections}){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{scope:{isPgRowType:isPgRowType,isPgCompoundType:isPgCompoundType,isInputType:isInputType,pgIntrospection:table},fieldWithHooks:fieldWithHooks,Self:Self}=context;if(isInputType||!isPgRowType&&!isPgCompoundType||!table||"class"!==table.kind||!table.namespace)return fields;const{extend:extend,pgIntrospectionResultsByKind:introspectionResultsByKind,inflection:inflection,pgOmit:omit,pgMakeProcField:makeProcField,swallowError:swallowError,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags}=build;if(!table.type)throw new Error("Could not determine the type for this table");return extend(fields,introspectionResultsByKind.procedure.reduce((memo,proc)=>{if(omit(proc,"execute"))return memo;const computedColumnDetails=getComputedColumnDetails(build,table,proc);if(!computedColumnDetails)return memo;const{pseudoColumnName:pseudoColumnName}=computedColumnDetails;function makeField(forceList){const fieldName=forceList?inflection.computedColumnList(pseudoColumnName,proc,table):inflection.computedColumn(pseudoColumnName,proc,table);try{memo=extend(memo,{[fieldName]:makeProcField(fieldName,proc,build,{fieldWithHooks:fieldWithHooks,computed:!0,forceList:forceList})},`Adding computed column for ${describePgEntity(proc)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{fieldName:"newNameHere"})}`)}catch(e){swallowError(e)}}const simpleCollections=proc.tags.simpleCollections||pgSimpleCollections,hasConnections="only"!==simpleCollections,hasSimpleCollections="only"===simpleCollections||"both"===simpleCollections;return proc.returnsSet&&!hasConnections||makeField(!1),proc.returnsSet&&hasSimpleCollections&&makeField(!0),memo},{}),`Adding computed column to '${Self.name}'`)},["PgComputedColumns"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const createDebugger=__webpack_require__(19),jwt=__webpack_require__(114),graphql_1=__webpack_require__(20),sql=__webpack_require__(52),pgClientFromContext_1=__webpack_require__(473),pluginHook_1=__webpack_require__(73),postgraphile_core_1=__webpack_require__(44),debugPg=createDebugger("postgraphile:postgres"),debugPgError=createDebugger("postgraphile:postgres:error"),debugPgNotice=createDebugger("postgraphile:postgres:notice");function debugPgErrorObject(debugFn,object){debugFn("%s%s: %s%s%s",object.severity||"ERROR",object.code?`[${object.code}]`:"",object.message||object,object.where?" | WHERE: "+object.where:"",object.hint?" | HINT: "+object.hint:"")}const simpleWithPgClientCache=new WeakMap;const withDefaultPostGraphileContext=async(options,callback)=>{const{pgPool:pgPool,jwtToken:jwtToken,jwtSecret:jwtSecret,jwtPublicKey:jwtPublicKey,jwtAudiences:jwtAudiences,jwtRole:jwtRole=["role"],jwtVerifyOptions:jwtVerifyOptions,pgDefaultRole:pgDefaultRole,pgSettings:pgSettings,explain:explain,queryDocumentAst:queryDocumentAst,operationName:operationName,pgForceTransaction:pgForceTransaction,singleStatement:singleStatement}=options;let operation;if(!pgForceTransaction&&queryDocumentAst)for(let i=0,l=queryDocumentAst.definitions.length;i<l;i++){const definition=queryDocumentAst.definitions[i];if(definition.kind===graphql_1.Kind.OPERATION_DEFINITION){if(!operationName&&operation)throw new Error("Multiple operations present in GraphQL query, you must specify an `operationName` so we know which one to execute.");(!operationName||definition.name&&definition.name.value===operationName)&&(operation=definition)}}const operationType=null!=operation?operation.operation:null,{role:pgRole,localSettings:localSettings,jwtClaims:jwtClaims}=await async function({jwtToken:jwtToken,jwtSecret:jwtSecret,jwtPublicKey:jwtPublicKey,jwtAudiences:jwtAudiences,jwtRole:jwtRole,jwtVerifyOptions:jwtVerifyOptions,pgDefaultRole:pgDefaultRole,pgSettings:pgSettings}){let role=pgDefaultRole,jwtClaims={};if(jwtToken)try{const jwtVerificationSecret=jwtPublicKey||jwtSecret;if(!Buffer.isBuffer(jwtVerificationSecret)&&"string"!=typeof jwtVerificationSecret&&"function"!=typeof jwtVerificationSecret)throw console.error(`ERROR: '${jwtPublicKey?"jwtPublicKey":"jwtSecret"}' was not set to a string or buffer - rejecting JWT-authenticated request.`),new Error("Not allowed to provide a JWT token.");if(null!=jwtAudiences&&jwtVerifyOptions&&"audience"in jwtVerifyOptions)throw new Error("Provide either 'jwtAudiences' or 'jwtVerifyOptions.audience' but not both");const claims=await new Promise((resolve,reject)=>{var o;jwt.verify(jwtToken,jwtVerificationSecret,{...jwtVerifyOptions,audience:jwtAudiences||(jwtVerifyOptions&&"audience"in jwtVerifyOptions?(o=jwtVerifyOptions.audience,!o||Array.isArray(o)&&!o.length?void 0:o):["postgraphile"])},(err,decoded)=>{err?reject(err):resolve(decoded)})});if("string"==typeof claims)throw new Error("Invalid JWT payload");jwtClaims=claims;const roleClaim=function(inObject,path){let object=inObject,index=0;const length=path.length;for(;object&&index<length;)object=object[path[index++]];return index&&index===length?object:void 0}(jwtClaims,jwtRole);if(void 0!==roleClaim){if("string"!=typeof roleClaim)throw new Error(`JWT \`role\` claim must be a string. Instead found '${typeof jwtClaims.role}'.`);role=roleClaim}}catch(error){throw error.statusCode="name"in error&&"TokenExpiredError"===error.name?401:403,error}const localSettings=[];if(pgSettings&&"object"==typeof pgSettings)for(const key in pgSettings)Object.prototype.hasOwnProperty.call(pgSettings,key)&&isPgSettingValid(pgSettings[key])&&("role"===key?role=String(pgSettings[key]):localSettings.push([key,String(pgSettings[key])]));"string"==typeof role&&localSettings.push(["role",role]);for(const key in jwtClaims)if(Object.prototype.hasOwnProperty.call(jwtClaims,key)){const rawValue=jwtClaims[key],value=null!=rawValue&&"object"==typeof rawValue?JSON.stringify(rawValue):rawValue;isPgSettingValid(value)&&localSettings.push(["jwt.claims."+key,String(value)])}return{localSettings:localSettings,role:role,jwtClaims:jwtToken?jwtClaims:null}}({jwtToken:jwtToken,jwtSecret:jwtSecret,jwtPublicKey:jwtPublicKey,jwtAudiences:jwtAudiences,jwtRole:jwtRole,jwtVerifyOptions:jwtVerifyOptions,pgDefaultRole:pgDefaultRole,pgSettings:pgSettings}),sqlSettings=[];if(localSettings.length>0){const seenKeys=[];for(let i=localSettings.length-1;i>=0;i--){const[key,value]=localSettings[i];seenKeys.includes(key)||(seenKeys.push(key),sqlSettings.unshift(sql.fragment`set_config(${sql.value(key)}, ${sql.value(value)}, true)`))}}const sqlSettingsQuery=sqlSettings.length>0?sql.compile(sql.query`select ${sql.join(sqlSettings,", ")}`):null,withAuthenticatedPgClient=pgForceTransaction||!!sqlSettingsQuery||"query"!==operationType&&"subscription"!==operationType?async cb=>{const pgClient=await pgPool.connect();await pgClient.query("begin");try{return sqlSettingsQuery&&await pgClient.query(sqlSettingsQuery),await cb(pgClient)}finally{try{await pgClient.query("commit")}finally{pgClient.release()}}}:function(pgPool){const cached=simpleWithPgClientCache.get(pgPool);if(cached)return cached;const func=async cb=>{const pgClient=await pgPool.connect();try{return await cb(pgClient)}finally{pgClient.release()}};return simpleWithPgClientCache.set(pgPool,func),func}(pgPool);if(singleStatement){const fakePgClient={query(textOrQueryOptions,values,cb){if(!textOrQueryOptions)throw new Error("Incompatible call to singleStatement - no statement passed?");if("object"==typeof textOrQueryOptions){if(values||cb)throw new Error("Incompatible call to singleStatement - expected no callback")}else{if("string"!=typeof textOrQueryOptions)throw new Error("Incompatible call to singleStatement - bad query");if(values&&!Array.isArray(values))throw new Error("Incompatible call to singleStatement - bad values");if(cb)throw new Error("Incompatible call to singleStatement - expected to return promise")}return withAuthenticatedPgClient(pgClient=>pgClient.query(textOrQueryOptions,values))}};return callback({[pgClientFromContext_1.$$pgClient]:fakePgClient,pgRole:pgRole,jwtClaims:jwtClaims})}return withAuthenticatedPgClient(async pgClient=>{let results=null;explain&&pgClient.startExplain();try{return await callback({[pgClientFromContext_1.$$pgClient]:pgClient,pgRole:pgRole,jwtClaims:jwtClaims,...explain?{getExplainResults:()=>(results=results||pgClient.stopExplain(),results)}:null})}finally{explain&&(results=results||pgClient.stopExplain())}})};exports.default=async(options,callback)=>pluginHook_1.pluginHookFromOptions(options)("withPostGraphileContext",withDefaultPostGraphileContext,{options:options})(options,callback);const $$pgClientOrigQuery=Symbol();function isPgSettingValid(pgSetting){if(null==pgSetting)return!1;const typeOfPgSetting=typeof pgSetting;if("string"===typeOfPgSetting||"number"===typeOfPgSetting||"boolean"===typeOfPgSetting)return!0;throw new Error(`Error converting pgSetting: ${typeof pgSetting} needs to be of type string, number or boolean.`)}exports.debugPgClient=function(pgClient,allowExplain=!1){if(!pgClient[$$pgClientOrigQuery]){pgClient[$$pgClientOrigQuery]=pgClient.query,pgClient.startExplain=()=>{pgClient._explainResults=[]},pgClient.stopExplain=async()=>{const results=pgClient._explainResults;return pgClient._explainResults=null,results?(await Promise.all(results.map(async r=>{const{result:resultPromise,...rest}=r,result=await resultPromise,firstKey=result&&result[0]&&Object.keys(result[0])[0];if(!firstKey)return null;return{...rest,plan:result.map(r=>r[firstKey]).join("\n")}}))).filter(entry=>!!entry):Promise.resolve([])},debugPgNotice.enabled&&pgClient.on("notice",msg=>{debugPgErrorObject(debugPgNotice,msg)});const logError=error=>{error.name&&error.severity?debugPgErrorObject(debugPgError,error):debugPgError("%O",error)};(debugPg.enabled||debugPgNotice.enabled||allowExplain)&&(pgClient.query=function(...args){const[a,b,c]=args;if(("string"!=typeof a||c||b&&!Array.isArray(b))&&("object"!=typeof a||b||c))return pgClient[$$pgClientOrigQuery].apply(this,args);{if(debugPg.enabled&&debugPg("%s",postgraphile_core_1.formatSQLForDebugging(a&&a.text?a.text:a)),pgClient._explainResults){const query=a&&a.text?a.text:a,values=a&&a.text?a.values:b;if(query.match(/^\s*(select|insert|update|delete|with)\s/i)&&!query.includes(";")){const explain="explain "+query;pgClient._explainResults.push({query:query,result:pgClient[$$pgClientOrigQuery].call(this,explain,values).then(data=>data.rows)})}}const promiseResult=pgClient[$$pgClientOrigQuery].apply(this,args);return debugPgError.enabled&&promiseResult.catch(logError),promiseResult}})}return pgClient}},function(module,exports,__webpack_require__){"use strict";
/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var codes=__webpack_require__(476);function status(code){if("number"==typeof code){if(!status[code])throw new Error("invalid status code: "+code);return code}if("string"!=typeof code)throw new TypeError("code must be a number or string");var n=parseInt(code,10);if(!isNaN(n)){if(!status[n])throw new Error("invalid status code: "+n);return n}if(!(n=status[code.toLowerCase()]))throw new Error('invalid status message: "'+code+'"');return n}module.exports=status,status.STATUS_CODES=codes,status.codes=function(statuses,codes){var arr=[];return Object.keys(codes).forEach((function(code){var message=codes[code],status=Number(code);statuses[status]=message,statuses[message]=status,statuses[message.toLowerCase()]=status,arr.push(status)})),arr}(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0}},function(module,exports,__webpack_require__){"use strict";
/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,TEXT_REGEXP=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,QESC_REGEXP=/\\([\u000b\u0020-\u00ff])/g,QUOTE_REGEXP=/([\\"])/g,TYPE_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function qstring(val){var str=String(val);if(TOKEN_REGEXP.test(str))return str;if(str.length>0&&!TEXT_REGEXP.test(str))throw new TypeError("invalid parameter value");return'"'+str.replace(QUOTE_REGEXP,"\\$1")+'"'}function ContentType(type){this.parameters=Object.create(null),this.type=type}exports.format=function(obj){if(!obj||"object"!=typeof obj)throw new TypeError("argument obj is required");var parameters=obj.parameters,type=obj.type;if(!type||!TYPE_REGEXP.test(type))throw new TypeError("invalid type");var string=type;if(parameters&&"object"==typeof parameters)for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){if(param=params[i],!TOKEN_REGEXP.test(param))throw new TypeError("invalid parameter name");string+="; "+param+"="+qstring(parameters[param])}return string},exports.parse=function(string){if(!string)throw new TypeError("argument string is required");var header="object"==typeof string?function(obj){var header;"function"==typeof obj.getHeader?header=obj.getHeader("content-type"):"object"==typeof obj.headers&&(header=obj.headers&&obj.headers["content-type"]);if("string"!=typeof header)throw new TypeError("content-type header is missing from object");return header}(string):string;if("string"!=typeof header)throw new TypeError("argument string is required to be a string");var index=header.indexOf(";"),type=-1!==index?header.substr(0,index).trim():header.trim();if(!TYPE_REGEXP.test(type))throw new TypeError("invalid media type");var obj=new ContentType(type.toLowerCase());if(-1!==index){var key,match,value;for(PARAM_REGEXP.lastIndex=index;match=PARAM_REGEXP.exec(header);){if(match.index!==index)throw new TypeError("invalid parameter format");index+=match[0].length,key=match[1].toLowerCase(),'"'===(value=match[2])[0]&&(value=value.substr(1,value.length-2).replace(QESC_REGEXP,"$1")),obj.parameters[key]=value}if(index!==header.length)throw new TypeError("invalid parameter format")}return obj}},function(module){module.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},function(module,exports){module.exports=require("zlib")},function(module,exports,__webpack_require__){"use strict";const{EMPTY_BUFFER:EMPTY_BUFFER}=__webpack_require__(59);function concat(list,totalLength){if(0===list.length)return EMPTY_BUFFER;if(1===list.length)return list[0];const target=Buffer.allocUnsafe(totalLength);for(var offset=0,i=0;i<list.length;i++){const buf=list[i];buf.copy(target,offset),offset+=buf.length}return target}function _mask(source,mask,output,offset,length){for(var i=0;i<length;i++)output[offset+i]=source[i]^mask[3&i]}function _unmask(buffer,mask){const length=buffer.length;for(var i=0;i<length;i++)buffer[i]^=mask[3&i]}function toArrayBuffer(buf){return buf.byteLength===buf.buffer.byteLength?buf.buffer:buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}function toBuffer(data){return toBuffer.readOnly=!0,Buffer.isBuffer(data)?data:(data instanceof ArrayBuffer?buf=Buffer.from(data):ArrayBuffer.isView(data)?buf=function(view){const buf=Buffer.from(view.buffer);if(view.byteLength!==view.buffer.byteLength)return buf.slice(view.byteOffset,view.byteOffset+view.byteLength);return buf}(data):(buf=Buffer.from(data),toBuffer.readOnly=!1),buf);var buf}try{const bufferUtil=__webpack_require__(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),bu=bufferUtil.BufferUtil||bufferUtil;module.exports={concat:concat,mask(source,mask,output,offset,length){length<48?_mask(source,mask,output,offset,length):bu.mask(source,mask,output,offset,length)},toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask(buffer,mask){buffer.length<32?_unmask(buffer,mask):bu.unmask(buffer,mask)}}}catch(e){module.exports={concat:concat,mask:_mask,toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask:_unmask}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.GRAPHQL_WS="graphql-ws";exports.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},function(module,exports,__webpack_require__){"use strict";function concat(list,totalLength){const target=Buffer.allocUnsafe(totalLength);for(var offset=0,i=0;i<list.length;i++){const buf=list[i];buf.copy(target,offset),offset+=buf.length}return target}function _mask(source,mask,output,offset,length){for(var i=0;i<length;i++)output[offset+i]=source[i]^mask[3&i]}function _unmask(buffer,mask){const length=buffer.length;for(var i=0;i<length;i++)buffer[i]^=mask[3&i]}try{const bufferUtil=__webpack_require__(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),bu=bufferUtil.BufferUtil||bufferUtil;module.exports={mask(source,mask,output,offset,length){length<48?_mask(source,mask,output,offset,length):bu.mask(source,mask,output,offset,length)},unmask(buffer,mask){buffer.length<32?_unmask(buffer,mask):bu.unmask(buffer,mask)},concat:concat}}catch(e){module.exports={concat:concat,mask:_mask,unmask:_unmask}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(64),createDebugger=__webpack_require__(19),jwt=__webpack_require__(114),graphql_1=__webpack_require__(20),sql=__webpack_require__(52),pgClientFromContext_1=__webpack_require__(546),pluginHook_1=__webpack_require__(97),postgraphile_core_1=__webpack_require__(44),debugPg=createDebugger("postgraphile:postgres"),debugPgError=createDebugger("postgraphile:postgres:error"),debugPgNotice=createDebugger("postgraphile:postgres:notice");function debugPgErrorObject(debugFn,object){debugFn("%s%s: %s%s%s",object.severity||"ERROR",object.code?`[${object.code}]`:"",object.message||object,object.where?" | WHERE: "+object.where:"",object.hint?" | HINT: "+object.hint:"")}const simpleWithPgClientCache=new WeakMap;const withDefaultPostGraphileContext=async(options,callback)=>{const{pgPool:pgPool,jwtToken:jwtToken,jwtSecret:jwtSecret,jwtPublicKey:jwtPublicKey,jwtAudiences:jwtAudiences,jwtRole:jwtRole=["role"],jwtVerifyOptions:jwtVerifyOptions,pgDefaultRole:pgDefaultRole,pgSettings:pgSettings,explain:explain,queryDocumentAst:queryDocumentAst,operationName:operationName,pgForceTransaction:pgForceTransaction,singleStatement:singleStatement}=options;let operation;if(!pgForceTransaction&&queryDocumentAst)for(let i=0,l=queryDocumentAst.definitions.length;i<l;i++){const definition=queryDocumentAst.definitions[i];if(definition.kind===graphql_1.Kind.OPERATION_DEFINITION){if(!operationName&&operation)throw new Error("Multiple operations present in GraphQL query, you must specify an `operationName` so we know which one to execute.");(!operationName||definition.name&&definition.name.value===operationName)&&(operation=definition)}}const operationType=null!=operation?operation.operation:null,{role:pgRole,localSettings:localSettings,jwtClaims:jwtClaims}=await async function({jwtToken:jwtToken,jwtSecret:jwtSecret,jwtPublicKey:jwtPublicKey,jwtAudiences:jwtAudiences,jwtRole:jwtRole,jwtVerifyOptions:jwtVerifyOptions,pgDefaultRole:pgDefaultRole,pgSettings:pgSettings}){let role=pgDefaultRole,jwtClaims={};if(jwtToken)try{const jwtVerificationSecret=jwtPublicKey||jwtSecret;if(!Buffer.isBuffer(jwtVerificationSecret)&&"string"!=typeof jwtVerificationSecret&&"function"!=typeof jwtVerificationSecret)throw console.error(`ERROR: '${jwtPublicKey?"jwtPublicKey":"jwtSecret"}' was not set to a string or buffer - rejecting JWT-authenticated request.`),new Error("Not allowed to provide a JWT token.");if(null!=jwtAudiences&&jwtVerifyOptions&&"audience"in jwtVerifyOptions)throw new Error("Provide either 'jwtAudiences' or 'jwtVerifyOptions.audience' but not both");const claims=await new Promise((resolve,reject)=>{var o;jwt.verify(jwtToken,jwtVerificationSecret,Object.assign(Object.assign({},jwtVerifyOptions),{audience:jwtAudiences||(jwtVerifyOptions&&"audience"in jwtVerifyOptions?(o=jwtVerifyOptions.audience,!o||Array.isArray(o)&&!o.length?void 0:o):["postgraphile"])}),(err,decoded)=>{err?reject(err):resolve(decoded)})});if("string"==typeof claims)throw new Error("Invalid JWT payload");jwtClaims=claims;const roleClaim=function(inObject,path){let object=inObject,index=0;const length=path.length;for(;object&&index<length;)object=object[path[index++]];return index&&index===length?object:void 0}(jwtClaims,jwtRole);if(void 0!==roleClaim){if("string"!=typeof roleClaim)throw new Error(`JWT \`role\` claim must be a string. Instead found '${typeof jwtClaims.role}'.`);role=roleClaim}}catch(error){throw error.statusCode="name"in error&&"TokenExpiredError"===error.name?401:403,error}const localSettings=[];if(pgSettings&&"object"==typeof pgSettings)for(const key in pgSettings)Object.prototype.hasOwnProperty.call(pgSettings,key)&&isPgSettingValid(pgSettings[key])&&("role"===key?role=String(pgSettings[key]):localSettings.push([key,String(pgSettings[key])]));"string"==typeof role&&localSettings.push(["role",role]);for(const key in jwtClaims)if(Object.prototype.hasOwnProperty.call(jwtClaims,key)){const rawValue=jwtClaims[key],value=null!=rawValue&&"object"==typeof rawValue?JSON.stringify(rawValue):rawValue;isPgSettingValid(value)&&localSettings.push(["jwt.claims."+key,String(value)])}return{localSettings:localSettings,role:role,jwtClaims:jwtToken?jwtClaims:null}}({jwtToken:jwtToken,jwtSecret:jwtSecret,jwtPublicKey:jwtPublicKey,jwtAudiences:jwtAudiences,jwtRole:jwtRole,jwtVerifyOptions:jwtVerifyOptions,pgDefaultRole:pgDefaultRole,pgSettings:pgSettings}),sqlSettings=[];if(localSettings.length>0){const seenKeys=[];for(let i=localSettings.length-1;i>=0;i--){const[key,value]=localSettings[i];seenKeys.includes(key)||(seenKeys.push(key),sqlSettings.unshift(sql.fragment`set_config(${sql.value(key)}, ${sql.value(value)}, true)`))}}const sqlSettingsQuery=sqlSettings.length>0?sql.compile(sql.query`select ${sql.join(sqlSettings,", ")}`):null,withAuthenticatedPgClient=pgForceTransaction||!!sqlSettingsQuery||"query"!==operationType&&"subscription"!==operationType?async cb=>{const pgClient=await pgPool.connect();await pgClient.query("begin");try{return sqlSettingsQuery&&await pgClient.query(sqlSettingsQuery),await cb(pgClient)}finally{try{await pgClient.query("commit")}finally{pgClient.release()}}}:function(pgPool){const cached=simpleWithPgClientCache.get(pgPool);if(cached)return cached;const func=async cb=>{const pgClient=await pgPool.connect();try{return await cb(pgClient)}finally{pgClient.release()}};return simpleWithPgClientCache.set(pgPool,func),func}(pgPool);if(singleStatement){const fakePgClient={query(textOrQueryOptions,values,cb){if(!textOrQueryOptions)throw new Error("Incompatible call to singleStatement - no statement passed?");if("object"==typeof textOrQueryOptions){if(values||cb)throw new Error("Incompatible call to singleStatement - expected no callback")}else{if("string"!=typeof textOrQueryOptions)throw new Error("Incompatible call to singleStatement - bad query");if(values&&!Array.isArray(values))throw new Error("Incompatible call to singleStatement - bad values");if(cb)throw new Error("Incompatible call to singleStatement - expected to return promise")}return withAuthenticatedPgClient(pgClient=>pgClient.query(textOrQueryOptions,values))}};return callback({[pgClientFromContext_1.$$pgClient]:fakePgClient,pgRole:pgRole,jwtClaims:jwtClaims})}return withAuthenticatedPgClient(async pgClient=>{let results=null;explain&&pgClient.startExplain();try{return await callback(Object.assign({[pgClientFromContext_1.$$pgClient]:pgClient,pgRole:pgRole,jwtClaims:jwtClaims},explain?{getExplainResults:()=>(results=results||pgClient.stopExplain(),results)}:null))}finally{explain&&(results=results||pgClient.stopExplain())}})};exports.default=async(options,callback)=>pluginHook_1.pluginHookFromOptions(options)("withPostGraphileContext",withDefaultPostGraphileContext,{options:options})(options,callback);const $$pgClientOrigQuery=Symbol();function isPgSettingValid(pgSetting){if(null==pgSetting)return!1;const typeOfPgSetting=typeof pgSetting;if("string"===typeOfPgSetting||"number"===typeOfPgSetting||"boolean"===typeOfPgSetting)return!0;throw new Error(`Error converting pgSetting: ${typeof pgSetting} needs to be of type string, number or boolean.`)}exports.debugPgClient=function(pgClient,allowExplain=!1){if(!pgClient[$$pgClientOrigQuery]){pgClient[$$pgClientOrigQuery]=pgClient.query,pgClient.startExplain=()=>{pgClient._explainResults=[]},pgClient.stopExplain=async()=>{const results=pgClient._explainResults;return pgClient._explainResults=null,results?(await Promise.all(results.map(async r=>{const{result:resultPromise}=r,rest=tslib_1.__rest(r,["result"]),result=await resultPromise,firstKey=result&&result[0]&&Object.keys(result[0])[0];if(!firstKey)return null;const plan=result.map(r=>r[firstKey]).join("\n");return Object.assign(Object.assign({},rest),{plan:plan})}))).filter(entry=>!!entry):Promise.resolve([])},debugPgNotice.enabled&&pgClient.on("notice",msg=>{debugPgErrorObject(debugPgNotice,msg)});const logError=error=>{error.name&&error.severity?debugPgErrorObject(debugPgError,error):debugPgError("%O",error)};(debugPg.enabled||debugPgNotice.enabled||allowExplain)&&(pgClient.query=function(...args){const[a,b,c]=args;if(("string"!=typeof a||c||b&&!Array.isArray(b))&&("object"!=typeof a||b||c))return pgClient[$$pgClientOrigQuery].apply(this,args);{if(debugPg.enabled&&debugPg("%s",postgraphile_core_1.formatSQLForDebugging(a&&a.text?a.text:a)),pgClient._explainResults){const query=a&&a.text?a.text:a,values=a&&a.text?a.values:b;if(query.match(/^\s*(select|insert|update|delete|with)\s/i)&&!query.includes(";")){const explain="explain "+query;pgClient._explainResults.push({query:query,result:pgClient[$$pgClientOrigQuery].call(this,explain,values).then(data=>data.rows)})}}const promiseResult=pgClient[$$pgClientOrigQuery].apply(this,args);return debugPgError.enabled&&promiseResult.catch(logError),promiseResult}})}return pgClient}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(64),gql_1=__webpack_require__(232);exports.embed=gql_1.embed,exports.gql=gql_1.gql;const makeAddInflectorsPlugin_1=__webpack_require__(234);exports.makeAddInflectorsPlugin=makeAddInflectorsPlugin_1.default;const makeExtendSchemaPlugin_1=__webpack_require__(235);exports.makeExtendSchemaPlugin=makeExtendSchemaPlugin_1.default;const makePluginByCombiningPlugins_1=__webpack_require__(236);exports.makePluginByCombiningPlugins=makePluginByCombiningPlugins_1.default;const makeWrapResolversPlugin_1=__webpack_require__(237);exports.makeWrapResolversPlugin=makeWrapResolversPlugin_1.default;const makeChangeNullabilityPlugin_1=__webpack_require__(238);exports.makeChangeNullabilityPlugin=makeChangeNullabilityPlugin_1.default;const makeProcessSchemaPlugin_1=__webpack_require__(239);exports.makeProcessSchemaPlugin=makeProcessSchemaPlugin_1.default;const makeAddPgTableConditionPlugin_1=__webpack_require__(240);exports.makeAddPgTableConditionPlugin=makeAddPgTableConditionPlugin_1.default;const makeAddPgTableOrderByPlugin_1=__webpack_require__(241);exports.makeAddPgTableOrderByPlugin=makeAddPgTableOrderByPlugin_1.default,exports.orderByAscDesc=makeAddPgTableOrderByPlugin_1.orderByAscDesc,tslib_1.__exportStar(__webpack_require__(242),exports)},function(module,exports,__webpack_require__){"use strict";function requireColumn(build,context,method,col,alias){const{pgSql:sql}=build;context[method](()=>({pgQuery:queryBuilder=>{queryBuilder.select(sql.query`${queryBuilder.getTableAlias()}.${sql.identifier(col)}`,alias)}}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeFieldHelpers=function(build,fieldContext,context,resolveInfo){const{parseResolveInfo:parseResolveInfo,pgQueryFromResolveData:pgQueryFromResolveData,pgSql:sql}=build,{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment,scope:scope}=fieldContext,{pgFieldIntrospection:pgFieldIntrospection,isPgFieldConnection:isPgFieldConnection}=scope,isConnection=!!isPgFieldConnection,table=pgFieldIntrospection&&"class"===pgFieldIntrospection.kind?pgFieldIntrospection:null,primaryKeyConstraint=table&&table.primaryKeyConstraint,primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes;return{build:build,fieldContext:fieldContext,selectGraphQLResultFromTable:async(tableFragment,builderCallback)=>{const{pgClient:pgClient}=context,parsedResolveInfoFragment=parseResolveInfo(resolveInfo),PayloadType=resolveInfo.returnType,resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,PayloadType),tableAlias=sql.identifier(Symbol()),query=pgQueryFromResolveData(tableFragment,tableAlias,resolveData,{withPaginationAsFields:isConnection},sqlBuilder=>{!isConnection&&primaryKeys&&build.options.subscriptions&&table&&sqlBuilder.selectIdentifiers(table),"function"==typeof builderCallback&&builderCallback(tableAlias,sqlBuilder)},context,resolveInfo.rootValue),{text:text,values:values}=sql.compile(query),{rows:rows}=await pgClient.query(text,values);if(isConnection)return build.pgAddStartEndCursor(rows[0]);{const liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return build.options.subscriptions&&!isConnection&&primaryKeys&&liveRecord&&rows.forEach(row=>row&&liveRecord("pg",table,row.__identifiers)),rows}}}},exports.requireColumn=requireColumn,exports.requireChildColumn=function(build,context,col,alias){return requireColumn(build,context,"addArgDataGenerator",col,alias)},exports.requireSiblingColumn=function(build,context,col,alias){return requireColumn(build,context,"addDataGenerator",col,alias)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.preventEmptyResult=preventEmptyResult,exports.default=void 0;var sql=_interopRequireWildcard(__webpack_require__(52)),_package=__webpack_require__(133),_pgField=_interopRequireDefault(__webpack_require__(246)),_queryFromResolveDataFactory=_interopRequireDefault(__webpack_require__(134)),_addStartEndCursor=_interopRequireDefault(__webpack_require__(254)),_omit=_interopRequireWildcard(__webpack_require__(141)),_makeProcField=_interopRequireDefault(__webpack_require__(255)),_parseIdentifier=_interopRequireDefault(__webpack_require__(143)),_viaTemporaryTable=_interopRequireDefault(__webpack_require__(263)),_chalk=_interopRequireDefault(__webpack_require__(39)),_pickBy=_interopRequireDefault(__webpack_require__(264)),_PgLiveProvider=_interopRequireDefault(__webpack_require__(344)),_pgPrepareAndRun=_interopRequireDefault(__webpack_require__(383));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}const defaultPgColumnFilter=(_attr,_build,_context)=>!0,identity=_=>_;function preventEmptyResult(obj){return Object.keys(obj).reduce((memo,key)=>{const fn=obj[key];return memo[key]=function(...args){const result=fn.apply(this,args);if("string"!=typeof result||0===result.length){const stringifiedArgs=__webpack_require__(17).inspect(args);throw new Error(`Inflector for '${key}' returned '${String(result)}'; expected non-empty string\nSee: https://github.com/graphile/graphile-build/blob/master/packages/graphile-build-pg/src/plugins/PgBasicsPlugin.js\nArguments passed to ${key}:\n${stringifiedArgs}`)}return result},memo},{})}function describePgEntity(entity,includeAlias=!0){const getAlias=includeAlias?()=>{const tags=(0,_pickBy.default)(entity.tags,(value,key)=>"name"===key||key.endsWith("Name"));return Object.keys(tags).length?` (with smart comments: ${_chalk.default.bold(Object.keys(tags).map(t=>`@${t} ${tags[t]}`).join(" | "))})`:""}:()=>"";try{if("constraint"===entity.kind)return`constraint ${_chalk.default.bold(`"${entity.name}"`)} on ${describePgEntity(entity.class,!1)}${getAlias()}`;if("class"===entity.kind){return`${{c:"composite type",f:"foreign table",p:"partitioned table",r:"table",v:"view",m:"materialized view"}[entity.classKind]||"table-like"} ${_chalk.default.bold(`"${entity.namespaceName}"."${entity.name}"`)}${getAlias()}`}if("procedure"===entity.kind)return`function ${_chalk.default.bold(`"${entity.namespaceName}"."${entity.name}"(...args...)`)}${getAlias()}`;if("attribute"===entity.kind)return`column ${_chalk.default.bold(`"${entity.name}"`)} on ${describePgEntity(entity.class,!1)}${getAlias()}`}catch(e){console.error("Error occurred while attempting to debug entity:",entity),console.error(e)}return`entity of kind '${entity.kind}' with ${"string"==typeof entity.id?`oid '${entity.id}'`:""}`}function sqlCommentByAddingTags(entity,tagsToAdd){const escape=str=>str.replace(/['\\\b\f\n\r\t]/g,chr=>({"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"}[chr]||"\\"+chr)),tags={...tagsToAdd,...entity.tags,...tagsToAdd},description=entity.description,commentValue=`E'${Object.keys(tags).reduce((memo,tag)=>{const tagValue=tags[tag],valueArray=Array.isArray(tagValue)?tagValue:[tagValue],highlightOrNot=tag in tagsToAdd?_chalk.default.bold.green:identity;return valueArray.forEach(value=>{memo.push(highlightOrNot(`@${escape(escape(tag))}${!0===value?"":" "+escape(escape(value))}`))}),memo},[]).join("\\n")}${description?"\\n"+escape(description):""}'`;let sqlThing;if("class"===entity.kind){const identifier=`"${entity.namespaceName}"."${entity.name}"`;sqlThing="r"===entity.classKind?"TABLE "+identifier:"v"===entity.classKind?"VIEW "+identifier:"m"===entity.classKind?"MATERIALIZED VIEW "+identifier:"c"===entity.classKind?"TYPE "+identifier:"PLEASE_SEND_A_PULL_REQUEST_TO_FIX_THIS "+identifier}else sqlThing="attribute"===entity.kind?`COLUMN "${entity.class.namespaceName}"."${entity.class.name}"."${entity.name}"`:"procedure"===entity.kind?`FUNCTION "${entity.namespaceName}"."${entity.name}"(...arg types go here...)`:"constraint"===entity.kind?`CONSTRAINT "${entity.name}" ON "${entity.class.namespaceName}"."${entity.class.name}"`:"UNKNOWN_ENTITY_PLEASE_SEND_A_PULL_REQUEST";return`COMMENT ON ${sqlThing} IS ${commentValue};`}exports.default=function(builder,{pgStrictFunctions:pgStrictFunctions=!1,pgColumnFilter:pgColumnFilter=defaultPgColumnFilter,pgIgnoreRBAC:pgIgnoreRBAC=!1,pgIgnoreIndexes:pgIgnoreIndexes=!0,pgHideIndexWarnings:pgHideIndexWarnings=!1,pgLegacyJsonUuid:pgLegacyJsonUuid=!1,pgAugmentIntrospectionResults:pgAugmentIntrospectionResults}){let pgOmit=_omit.default;var omit;pgIgnoreRBAC||(omit=pgOmit,pgOmit=(entity,permission)=>{const isTableLike=entity=>entity&&"class"===entity.kind&&("r"===entity.classKind||"v"===entity.classKind||"m"===entity.classKind);if("procedure"===entity.kind){if(permission===_omit.EXECUTE&&!entity.aclExecutable)return!0}else if("class"===entity.kind&&isTableLike(entity)){const tableEntity=entity;if(!(permission!==_omit.READ&&permission!==_omit.ALL&&permission!==_omit.MANY||tableEntity.aclSelectable||tableEntity.attributes.some(attr=>attr.aclSelectable)))return!0;if(permission===_omit.CREATE&&!tableEntity.aclInsertable&&!tableEntity.attributes.some(attr=>attr.aclInsertable))return!0;if(permission===_omit.UPDATE&&!tableEntity.aclUpdatable&&!tableEntity.attributes.some(attr=>attr.aclUpdatable))return!0;if(permission===_omit.DELETE&&!tableEntity.aclDeletable)return!0}else if("attribute"===entity.kind&&isTableLike(entity.class)){const attributeEntity=entity,klass=attributeEntity.class;if(klass.aclSelectable||klass.attributes.some(attr=>attr.aclSelectable)){if(!(permission!==_omit.READ&&permission!==_omit.FILTER&&permission!==_omit.ORDER||attributeEntity.aclSelectable))return!0;if(permission===_omit.CREATE&&!attributeEntity.aclInsertable)return!0;if(permission===_omit.UPDATE&&!attributeEntity.aclUpdatable)return!0}}return omit(entity,permission)}),pgIgnoreIndexes||(pgOmit=((omit,hideIndexWarnings)=>(entity,permission)=>{if("attribute"===entity.kind&&!entity.isIndexed&&("filter"===permission||"order"===permission))return!0;if("constraint"===entity.kind&&"f"===entity.type&&!entity.isIndexed&&"read"===permission){const klass=entity.class;if(klass){!entity._omitUnindexedReadWarningGiven&&!hideIndexWarnings&&(entity._omitUnindexedReadWarningGiven=!0,console.log("%s",`Disabled 'read' permission for ${describePgEntity(entity)} because it isn't indexed. For more information see https://graphile.org/postgraphile/best-practices/ To fix, perform\n\n  CREATE INDEX ON "${klass.namespaceName}"."${klass.name}"("${entity.keyAttributes.map(a=>a.name).join('", "')}");`))}return!0}return omit(entity,permission)})(pgOmit,pgHideIndexWarnings)),builder.hook("build",build=>(build.versions["graphile-build-pg"]=_package.version,build.liveCoordinator.registerProvider(new _PgLiveProvider.default),build.extend(build,{graphileBuildPgVersion:_package.version,pgSql:sql,pgStrictFunctions:pgStrictFunctions,pgColumnFilter:pgColumnFilter,pgQueryFromResolveData:(0,_queryFromResolveDataFactory.default)(),pgAddStartEndCursor:_addStartEndCursor.default,pgOmit:pgOmit,pgMakeProcField:_makeProcField.default,pgParseIdentifier:_parseIdentifier.default,pgViaTemporaryTable:_viaTemporaryTable.default,describePgEntity:describePgEntity,pgField:_pgField.default,sqlCommentByAddingTags:sqlCommentByAddingTags,pgPrepareAndRun:_pgPrepareAndRun.default,pgAugmentIntrospectionResults:pgAugmentIntrospectionResults})),["PgBasics"]),builder.hook("inflection",(inflection,build)=>{const oldBuiltin=inflection.builtin;return inflection.builtin=function(name){return pgLegacyJsonUuid&&"JSON"===name?"Json":pgLegacyJsonUuid&&"UUID"===name?"Uuid":oldBuiltin.call(this,name)},build.extend(inflection,preventEmptyResult({conditionType(typeName){return this.upperCamelCase(typeName+"-condition")},inputType(typeName){return this.upperCamelCase(typeName+"-input")},rangeBoundType(typeName){return this.upperCamelCase(typeName+"-range-bound")},rangeType(typeName){return this.upperCamelCase(typeName+"-range")},patchType(typeName){return this.upperCamelCase(typeName+"-patch")},baseInputType(typeName){return this.upperCamelCase(typeName+"-base-input")},patchField(itemName){return this.camelCase(itemName+"-patch")},orderByType(typeName){return this.upperCamelCase(this.pluralize(typeName)+"-order-by")},edge(typeName){return this.upperCamelCase(this.pluralize(typeName)+"-edge")},connection(typeName){return this.upperCamelCase(this.pluralize(typeName)+"-connection")},_functionName(proc){return this.coerceToGraphQLName(proc.tags.name||proc.name)},_typeName(type){return this.coerceToGraphQLName(type.tags.name||type.name)},_tableName(table){return this.coerceToGraphQLName(table.tags.name||table.type.tags.name||table.name)},_singularizedTableName(table){return this.singularize(this._tableName(table)).replace(/.(?:(?:[_-]i|I)nput|(?:[_-]p|P)atch)$/,"$&_record")},_columnName(attr,_options){return this.coerceToGraphQLName(attr.tags.name||attr.name)},enumType(type){return this.upperCamelCase(this._typeName(type))},argument(name,index){return this.coerceToGraphQLName(this.camelCase(name||"arg"+index))},orderByEnum(columnName,ascending){return this.constantCase(`${columnName}_${ascending?"asc":"desc"}`)},orderByColumnEnum(attr,ascending){const columnName=this._columnName(attr,{skipRowId:!0});return this.orderByEnum(columnName,ascending)},orderByComputedColumnEnum(pseudoColumnName,proc,table,ascending){const columnName=this.computedColumn(pseudoColumnName,proc,table);return this.orderByEnum(columnName,ascending)},domainType(type){return this.upperCamelCase(this._typeName(type))},enumName(inValue){let value=inValue;return""===value?"_EMPTY_":(value=value.replace(/\*/g,"_ASTERISK_").replace(/^(_?)_+ASTERISK/,"$1ASTERISK").replace(/ASTERISK_(_?)_*$/,"ASTERISK$1"),value={">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","=":"EQUAL","!=":"NOT_EQUAL","<>":"DIFFERENT","<=":"LESS_THAN_OR_EQUAL","<":"LESS_THAN","~~":"LIKE","~~*":"ILIKE","!~~":"NOT_LIKE","!~~*":"NOT_ILIKE","~":"TILDE","~*":"TILDE_ASTERISK","!~":"NOT_TILDE","!~*":"NOT_TILDE_ASTERISK","%":"PERCENT","+":"PLUS","-":"MINUS","/":"SLASH","\\":"BACKSLASH",_:"UNDERSCORE","#":"POUND","":"STERLING",$:"DOLLAR","&":"AMPERSAND","@":"AT","'":"APOSTROPHE",'"':"QUOTE","`":"BACKTICK",":":"COLON",";":"SEMICOLON","!":"EXCLAMATION_POINT","?":"QUESTION_MARK",",":"COMMA",".":"DOT","^":"CARET","|":"BAR","[":"OPEN_BRACKET","]":"CLOSE_BRACKET","(":"OPEN_PARENTHESIS",")":"CLOSE_PARENTHESIS","{":"OPEN_BRACE","}":"CLOSE_BRACE"}[value]||value,value)},tableNode(table){return this.camelCase(this._singularizedTableName(table))},tableFieldName(table){return this.camelCase(this._singularizedTableName(table))},allRows(table){return this.camelCase("all-"+this.pluralize(this._singularizedTableName(table)))},allRowsSimple(table){return this.camelCase(`all-${this.pluralize(this._singularizedTableName(table))}-list`)},functionMutationName(proc){return this.camelCase(this._functionName(proc))},functionMutationResultFieldName(proc,gqlType,plural=!1,outputArgNames=[]){if(proc.tags.resultFieldName)return proc.tags.resultFieldName;let name;return name=1===outputArgNames.length&&""!==outputArgNames[0]?this.camelCase(outputArgNames[0]):"Int"===gqlType.name?"integer":"Float"===gqlType.name?"float":"Boolean"===gqlType.name?"boolean":"String"===gqlType.name?"string":"2249"===proc.returnTypeId?"result":this.camelCase(gqlType.name),plural?this.pluralize(name):name},functionQueryName(proc){return this.camelCase(this._functionName(proc))},functionQueryNameList(proc){return this.camelCase(this._functionName(proc)+"-list")},functionPayloadType(proc){return this.upperCamelCase(this._functionName(proc)+"-payload")},functionInputType(proc){return this.upperCamelCase(this._functionName(proc)+"-input")},functionOutputFieldName(proc,outputArgName,index){return this.argument(outputArgName,index)},tableType(table){return this.upperCamelCase(this._singularizedTableName(table))},column(attr){return this.camelCase(this._columnName(attr))},computedColumn(pseudoColumnName,proc,_table){return proc.tags.fieldName||this.camelCase(pseudoColumnName)},computedColumnList(pseudoColumnName,proc,_table){return proc.tags.fieldName?proc.tags.fieldName+"List":this.camelCase(pseudoColumnName+"-list")},singleRelationByKeys(detailedKeys,table,_foreignTable,constraint){return constraint.tags.fieldName?constraint.tags.fieldName:this.camelCase(`${this._singularizedTableName(table)}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}`)},singleRelationByKeysBackwards(detailedKeys,table,_foreignTable,constraint){return constraint.tags.foreignSingleFieldName?constraint.tags.foreignSingleFieldName:constraint.tags.foreignFieldName?constraint.tags.foreignFieldName:this.singleRelationByKeys(detailedKeys,table,_foreignTable,constraint)},manyRelationByKeys(detailedKeys,table,_foreignTable,constraint){return constraint.tags.foreignFieldName?constraint.tags.foreignFieldName:this.camelCase(`${this.pluralize(this._singularizedTableName(table))}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}`)},manyRelationByKeysSimple(detailedKeys,table,_foreignTable,constraint){return constraint.tags.foreignSimpleFieldName?constraint.tags.foreignSimpleFieldName:constraint.tags.foreignFieldName?constraint.tags.foreignFieldName:this.camelCase(`${this.pluralize(this._singularizedTableName(table))}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}-list`)},rowByUniqueKeys(detailedKeys,table,constraint){return constraint.tags.fieldName?constraint.tags.fieldName:this.camelCase(`${this._singularizedTableName(table)}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}`)},updateByKeys(detailedKeys,table,constraint){return constraint.tags.updateFieldName?constraint.tags.updateFieldName:this.camelCase(`update-${this._singularizedTableName(table)}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}`)},deleteByKeys(detailedKeys,table,constraint){return constraint.tags.deleteFieldName?constraint.tags.deleteFieldName:this.camelCase(`delete-${this._singularizedTableName(table)}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}`)},updateByKeysInputType(detailedKeys,table,constraint){return constraint.tags.updateFieldName?this.upperCamelCase(constraint.tags.updateFieldName+"-input"):this.upperCamelCase(`update-${this._singularizedTableName(table)}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}-input`)},deleteByKeysInputType(detailedKeys,table,constraint){return constraint.tags.deleteFieldName?this.upperCamelCase(constraint.tags.deleteFieldName+"-input"):this.upperCamelCase(`delete-${this._singularizedTableName(table)}-by-${detailedKeys.map(key=>this.column(key)).join("-and-")}-input`)},updateNode(table){return this.camelCase("update-"+this._singularizedTableName(table))},deleteNode(table){return this.camelCase("delete-"+this._singularizedTableName(table))},deletedNodeId(table){return this.camelCase(`deleted-${this.singularize(table.name)}-id`)},updateNodeInputType(table){return this.upperCamelCase(`update-${this._singularizedTableName(table)}-input`)},deleteNodeInputType(table){return this.upperCamelCase(`delete-${this._singularizedTableName(table)}-input`)},edgeField(table){return this.camelCase(this._singularizedTableName(table)+"-edge")},recordFunctionReturnType(proc){return proc.tags.resultTypeName||this.upperCamelCase(this._functionName(proc)+"-record")},recordFunctionConnection(proc){return this.upperCamelCase(this._functionName(proc)+"-connection")},recordFunctionEdge(proc){return this.upperCamelCase(this.singularize(this._functionName(proc))+"-edge")},scalarFunctionConnection(proc){return this.upperCamelCase(this._functionName(proc)+"-connection")},scalarFunctionEdge(proc){return this.upperCamelCase(this.singularize(this._functionName(proc))+"-edge")},createField(table){return this.camelCase("create-"+this._singularizedTableName(table))},createInputType(table){return this.upperCamelCase(`create-${this._singularizedTableName(table)}-input`)},createPayloadType(table){return this.upperCamelCase(`create-${this._singularizedTableName(table)}-payload`)},updatePayloadType(table){return this.upperCamelCase(`update-${this._singularizedTableName(table)}-payload`)},deletePayloadType(table){return this.upperCamelCase(`delete-${this._singularizedTableName(table)}-payload`)}}),"Default inflectors from PgBasicsPlugin. You can override these with `makeAddInflectorsPlugin(..., true)`.")},["PgBasics"])}},function(module,exports,__webpack_require__){module.exports=function(env){function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}function createDebug(namespace){let prevTime;function debug(...args){if(!debug.enabled)return;const self=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match,format)=>{if("%%"===match)return match;index++;const formatter=createDebug.formatters[format];if("function"==typeof formatter){const val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),createDebug.formatArgs.call(self,args);(self.log||createDebug.log).apply(self,args)}return debug.namespace=namespace,debug.enabled=createDebug.enabled(namespace),debug.useColors=createDebug.useColors(),debug.color=selectColor(namespace),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){const index=createDebug.instances.indexOf(this);return-1!==index&&(createDebug.instances.splice(index,1),!0)}function extend(namespace,delimiter){const newDebug=createDebug(this.namespace+(void 0===delimiter?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function(val){if(val instanceof Error)return val.stack||val.message;return val},createDebug.disable=function(){const namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(namespace=>"-"+namespace)].join(",");return createDebug.enable(""),namespaces},createDebug.enable=function(namespaces){let i;createDebug.save(namespaces),createDebug.names=[],createDebug.skips=[];const split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<createDebug.instances.length;i++){const instance=createDebug.instances[i];instance.enabled=createDebug.enabled(instance.namespace)}},createDebug.enabled=function(name){if("*"===name[name.length-1])return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1},createDebug.humanize=__webpack_require__(130),Object.keys(env).forEach(key=>{createDebug[key]=env[key]}),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,msAbs,n,name){var isPlural=msAbs>=1.5*n;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&isFinite(val))return options.long?function(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return plural(ms,msAbs,d,"day");if(msAbs>=h)return plural(ms,msAbs,h,"hour");if(msAbs>=m)return plural(ms,msAbs,m,"minute");if(msAbs>=s)return plural(ms,msAbs,s,"second");return ms+" ms"}(val):function(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return Math.round(ms/d)+"d";if(msAbs>=h)return Math.round(ms/h)+"h";if(msAbs>=m)return Math.round(ms/m)+"m";if(msAbs>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports){module.exports=require("os")},function(module,exports,__webpack_require__){"use strict";module.exports=(flag,argv)=>{argv=argv||process.argv;const prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",pos=argv.indexOf(prefix+flag),terminatorPos=argv.indexOf("--");return-1!==pos&&(-1===terminatorPos||pos<terminatorPos)}},function(module){module.exports=JSON.parse('{"name":"graphile-build-pg","version":"4.7.0","description":"Build a GraphQL schema by reflection over a PostgreSQL schema. Easy to customize since it\'s built with plugins on graphile-build","main":"node8plus/index.js","types":"node8plus/index.d.ts","scripts":{"test":"jest","prepack":"mkdir -p node8plus && babel --root-mode upward --copy-files -s true --out-dir node8plus src && flow-copy-source src node8plus","watch":"mkdir -p node8plus && babel --root-mode upward --copy-files -s true --watch --out-dir node8plus src"},"repository":{"type":"git","url":"git+https://github.com/graphile/graphile-build.git"},"keywords":["graphile","graphql","engine","pg","postgres","postgresql","gql","generate","reflection","build","schema","apollo","relay","plugins","extensible"],"author":"Benjie Gillam <code@benjiegillam.com>","license":"MIT","bugs":{"url":"https://github.com/graphile/graphile-build/issues"},"homepage":"https://github.com/graphile/graphile-build/tree/master/packages/graphile-build-pg","dependencies":{"@graphile/lru":"4.5.0","chalk":"^2.4.2","debug":"^4.1.1","graphile-build":"4.7.0","graphql-iso-date":"^3.6.0","jsonwebtoken":"^8.5.1","lodash":">=4 <5","lru-cache":">=4 <5","pg-sql2":"4.7.0","postgres-interval":"^1.2.0"},"peerDependencies":{"pg":">=6.1.0 <9"},"devDependencies":{"@babel/cli":"^7.0.0","eslint_d":"^8.0.0","flow-copy-source":"^1.2.0","jest":"^24.8.0","jest-serializer-graphql-schema":"4.6.0"},"files":["node8plus","res","index.js"],"engines":{"node":">=8.6"},"gitHead":"b3d7a1ea967f970936a2dcdd61f94a02dea3b7fe"}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _QueryBuilder=_interopRequireDefault(__webpack_require__(247)),sql=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(52)),_isSafeInteger=_interopRequireDefault(__webpack_require__(135)),_assert=_interopRequireDefault(__webpack_require__(67));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const identity=_=>null!=_;exports.default=(queryBuilderOptions={})=>(from,fromAlias,resolveData,inOptions,withBuilder,context={},rootValue)=>{const{pgQuery:pgQuery,pgAggregateQuery:pgAggregateQuery,pgCursorPrefix:reallyRawCursorPrefix,pgDontUseAsterisk:pgDontUseAsterisk,calculateHasNextPage:calculateHasNextPage,calculateHasPreviousPage:calculateHasPreviousPage,usesCursor:explicitlyUsesCursor}=resolveData,preventAsterisk=!!pgDontUseAsterisk&&pgDontUseAsterisk.length>0,options={...inOptions,useAsterisk:inOptions.useAsterisk&&!preventAsterisk},usesCursor=explicitlyUsesCursor&&explicitlyUsesCursor.length>0||calculateHasNextPage&&calculateHasNextPage.length>0||calculateHasPreviousPage&&calculateHasPreviousPage.length>0||!1,rawCursorPrefix=reallyRawCursorPrefix&&reallyRawCursorPrefix.filter(identity),queryBuilder=new _QueryBuilder.default(queryBuilderOptions,context,rootValue);if(queryBuilder.from(from,fromAlias||void 0),withBuilder&&withBuilder(queryBuilder),pgQuery)for(let i=0,l=pgQuery.length;i<l;i++)pgQuery[i](queryBuilder,resolveData);function generateNextPrevPageSql(sqlQueryAlias,canHaveCursorInWhere,queryHasBefore,queryHasFirst,offset=0,invert=!1){const sqlCommonUnbounded=sql.fragment`\
select 1
from ${queryBuilder.getTableExpression()} as ${queryBuilder.getTableAlias()}`,sqlCommon=sql.fragment`\
${sqlCommonUnbounded}
where ${queryBuilder.buildWhereClause(!invert,invert,options)}`,isForwardOrSymmetric=!invert||0===offset;if(isForwardOrSymmetric){if(canHaveCursorInWhere)return(0,_assert.default)(isForwardOrSymmetric),queryHasBefore||queryHasFirst?queryHasBefore&&!queryHasFirst?sql.fragment`\
exists(
  ${sqlCommonUnbounded}
  where ${queryBuilder.buildWhereClause(!1,!1,options)}
  and not (${queryBuilder.buildWhereBoundClause(invert)})
)`:((0,_assert.default)(queryHasFirst),sql.fragment`\
exists(
  ${sqlCommon}
  and (${queryBuilder.getSelectCursor()})::text not in (select __cursor::text from ${sqlQueryAlias})
  ${0===offset?sql.blank:sql.fragment`offset ${sql.value(offset)}`}
)`):((0,_assert.default)(isForwardOrSymmetric),sql.literal(!1));{(0,_assert.default)(!invert||0===offset),(0,_assert.default)(!canHaveCursorInWhere);const{limit:limit}=queryBuilder.getFinalLimitAndOffset();return null==limit?sql.fragment`false`:invert?((0,_assert.default)(0===offset),sql.fragment`false`):((0,_assert.default)(!invert),sql.fragment`\
exists(
  ${sqlCommon}
  offset ${sql.literal(limit+offset)}
)`)}}return(0,_assert.default)(invert),(0,_assert.default)(offset>0),sql.literal(!0)}const getPgCursorPrefix=()=>rawCursorPrefix&&rawCursorPrefix.length>0?rawCursorPrefix:queryBuilder.data.cursorPrefix.map(val=>sql.literal(val));if((options.withPagination||options.withPaginationAsFields||options.withCursor)&&usesCursor&&queryBuilder.selectCursor(()=>{const orderBy=queryBuilder.getOrderByExpressionsAndDirections().map(([expr])=>expr);return queryBuilder.isOrderUnique()&&orderBy.length>0?sql.fragment`json_build_array(${sql.join([...getPgCursorPrefix(),sql.fragment`json_build_array(${sql.join(orderBy,", ")})`],", ")})`:sql.fragment`json_build_array(${sql.join(getPgCursorPrefix(),", ")}, ${options.useAsterisk?sql.fragment`${sql.literal(queryBuilder.getFinalOffset()||0)} + `:sql.fragment``}(row_number() over (partition by 1)))`}),options.withPagination||options.withPaginationAsFields){queryBuilder.setCursorComparator((cursorValue,isAfter)=>{function badCursor(){queryBuilder.whereBound(sql.fragment`false`,isAfter)}const orderByExpressionsAndDirections=queryBuilder.getOrderByExpressionsAndDirections();if(orderByExpressionsAndDirections.length>0){if(!queryBuilder.isOrderUnique())throw new Error("The order supplied is not unique, so before/after cursors cannot be used. Please ensure the supplied order includes all the columns from the primary key or a unique constraint.");const rawPrefixes=cursorValue.slice(0,cursorValue.length-1),rawCursors=cursorValue[cursorValue.length-1];if(rawPrefixes.length!==getPgCursorPrefix().length)return void badCursor();if(!Array.isArray(rawCursors))return void badCursor();let sqlFilter=sql.fragment`false`;const sqlCursors=rawCursors.map(val=>sql.value(val));for(let i=orderByExpressionsAndDirections.length-1;i>=0;i--){const[sqlExpression,ascending]=orderByExpressionsAndDirections[i],comparison=Number(ascending)^Number(!isAfter)?sql.fragment`>`:sql.fragment`<`,sqlOldFilter=sqlFilter;sqlFilter=sql.fragment`\
(\
  (${sqlExpression} ${comparison} ${sqlCursors[i]||sql.null})
OR\
  (\
    ${sqlExpression} = ${sqlCursors[i]||sql.null}\
  AND\
    ${sqlOldFilter}\
  )\
)`}sqlFilter=sql.fragment`(((${sql.join(getPgCursorPrefix(),", ")}) = (${sql.join(rawPrefixes.map(val=>sql.value(val)),", ")})) AND (${sqlFilter}))`,queryBuilder.whereBound(sqlFilter,isAfter)}else{if(!("natural"===cursorValue[0]&&(0,_isSafeInteger.default)(cursorValue[1])&&cursorValue[1]>=0))throw new Error("Cannot use 'before'/'after' without unique 'orderBy'");{const cursorValue1=cursorValue[1];isAfter?queryBuilder.offset(()=>cursorValue1):queryBuilder.limit(()=>{const offset=queryBuilder.getOffset();return Math.max(0,cursorValue1-offset-1)})}}});const query=queryBuilder.build(options),haveFields=queryBuilder.getSelectFieldsCount()>0,sqlQueryAlias=sql.identifier(Symbol()),sqlSummaryAlias=sql.identifier(Symbol()),canHaveCursorInWhere=queryBuilder.getOrderByExpressionsAndDirections().length>0&&queryBuilder.isOrderUnique(),queryHasBefore=queryBuilder.compiledData.whereBound.upper.length>0,queryHasAfter=queryBuilder.compiledData.whereBound.lower.length>0,queryHasZeroLimit=0===queryBuilder.getFinalLimit(),queryHasFirst=(0,_isSafeInteger.default)(queryBuilder.compiledData.first),queryHasLast=(0,_isSafeInteger.default)(queryBuilder.compiledData.last),hasNextPage=queryHasZeroLimit?sql.literal(!1):generateNextPrevPageSql(sqlQueryAlias,canHaveCursorInWhere,queryHasBefore,queryHasFirst,queryBuilder.getFinalOffset()||0),hasPreviousPage=queryHasZeroLimit?sql.literal(!1):generateNextPrevPageSql(sqlQueryAlias,canHaveCursorInWhere,queryHasAfter,queryHasLast,queryBuilder.getFinalOffset()||0,!0),sqlWith=haveFields?sql.fragment`with ${sqlQueryAlias} as (${query}), ${sqlSummaryAlias} as (select json_agg(to_json(${sqlQueryAlias})) as data from ${sqlQueryAlias})`:sql.fragment``,sqlFrom=sql.fragment``,fields=[];if(haveFields&&(fields.push([sql.fragment`coalesce((select ${sqlSummaryAlias}.data from ${sqlSummaryAlias}), '[]'::json)`,"data"]),calculateHasNextPage&&fields.push([hasNextPage,"hasNextPage"]),calculateHasPreviousPage&&fields.push([hasPreviousPage,"hasPreviousPage"])),pgAggregateQuery&&pgAggregateQuery.length){const aggregateQueryBuilder=new _QueryBuilder.default(queryBuilderOptions,context,rootValue);aggregateQueryBuilder.from(queryBuilder.getTableExpression(),queryBuilder.getTableAlias());for(let i=0,l=pgAggregateQuery.length;i<l;i++)pgAggregateQuery[i](aggregateQueryBuilder);const aggregateJsonBuildObject=aggregateQueryBuilder.build({onlyJsonField:!0}),aggregatesSql=sql.fragment`\
(
  select ${aggregateJsonBuildObject}
  from ${queryBuilder.getTableExpression()} as ${queryBuilder.getTableAlias()}
  where ${queryBuilder.buildWhereClause(!1,!1,options)}
)`;fields.push([aggregatesSql,"aggregates"])}return options.withPaginationAsFields?sql.fragment`${sqlWith} select ${sql.join(fields.map(([expr,alias])=>sql.fragment`${expr} as ${sql.identifier(alias)}`),", ")} ${sqlFrom}`:sql.fragment`${sqlWith} select ${queryBuilder.jsonbBuildObject(fields)} ${sqlFrom}`}return queryBuilder.build(options)}},function(module,exports,__webpack_require__){var isInteger=__webpack_require__(248);module.exports=function(value){return isInteger(value)&&value>=-9007199254740991&&value<=9007199254740991}},function(module,exports,__webpack_require__){var toFinite=__webpack_require__(249);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(40),isSymbol=__webpack_require__(77),reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},function(module,exports){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal},function(module,exports){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(54),isObject=__webpack_require__(40);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(entity,permission){const omitSpecRaw=entity.tags.omit;0;const omitSpec=parse(omitSpecRaw,`Error when processing @omit instructions for ${entity.kind} '${entity.name}'`),includeSpec=parse(null,`Error when processing @include instructions for ${entity.kind} '${entity.name}'`);if(omitSpec){if(!0===omitSpec)return!0;if(omitSpec.indexOf("read")>=0){const bad=PERMISSIONS_THAT_REQUIRE_READ.filter(p=>-1===omitSpec.indexOf(p));if(bad.length>0)throw new Error(`Processing @omit for ${entity.kind} '${entity.name}' - '${bad.join(",")}' must be omitted when 'read' is omitted. Add '${bad.join(",")}' to the @omit clause, or use '@omit' to omit all actions.`)}return omitSpec.indexOf(permission)>=0}if(includeSpec){if(!0===includeSpec)throw new Error(`Error when processing instructions for ${entity.kind} '${entity.name}' - @include should specify a list of actions`);if(-1===includeSpec.indexOf("read")){const bad=PERMISSIONS_THAT_REQUIRE_READ.find(p=>includeSpec.indexOf(p)>=0);if(bad)throw new Error(`Error when processing @include for ${entity.kind} '${entity.name}' - we currently don't support '${bad}' when 'read' is forbidden`)}return-1===includeSpec.indexOf(permission)}return!1},exports.BASE=exports.EXECUTE=exports.MANY=exports.ALL=exports.ORDER=exports.FILTER=exports.DELETE=exports.UPDATE=exports.READ=exports.CREATE=void 0;exports.CREATE="create";exports.READ="read";exports.UPDATE="update";exports.DELETE="delete";exports.FILTER="filter";exports.ORDER="order";exports.ALL="all";exports.MANY="many";exports.EXECUTE="execute";exports.BASE="base";const aliases={C:"create",R:"read",U:"update",D:"delete",F:"filter",O:"order",A:"all",M:"many",X:"execute",B:"base"},PERMISSIONS_THAT_REQUIRE_READ=["update","create","delete","all","many"];function parse(arrOrNot,errorPrefix="Error"){if(!arrOrNot)return null;const arr=Array.isArray(arrOrNot)?arrOrNot:[arrOrNot];let all=!1;const arrayNormalized=[].concat(...arr.map(str=>{if(!0===str||"*"===str)return all=!0,[];if(":"===str[0]){const perms=str.substr(1).split("").map(p=>aliases[p]),bad=perms.find(p=>!p);if(bad)throw new Error(`${errorPrefix} - abbreviated parameter '${bad}' not understood`);return perms}return str.split(",")}));return!!all||arrayNormalized}},function(module,exports,__webpack_require__){var cssKeywords=__webpack_require__(259),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!("channels"in convert[model]))throw new Error("missing channels property: "+model);if(!("labels"in convert[model]))throw new Error("missing channel labels property: "+model);if(convert[model].labels.length!==convert[model].channels)throw new Error("channel and label counts mismatch: "+model);var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],"channels",{value:channels}),Object.defineProperty(convert[model],"labels",{value:labels})}convert.rgb.hsl=function(rgb){var h,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),(h=Math.min(60*h,360))<0&&(h+=360),l=(min+max)/2,[h,100*(max===min?0:l<=.5?delta/(max+min):delta/(2-max-min)),100*l]},convert.rgb.hsv=function(rgb){var rdif,gdif,bdif,h,s,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,v=Math.max(r,g,b),diff=v-Math.min(r,g,b),diffc=function(c){return(v-c)/6/diff+.5};return 0===diff?h=s=0:(s=diff/v,rdif=diffc(r),gdif=diffc(g),bdif=diffc(b),r===v?h=bdif-gdif:g===v?h=1/3+rdif-bdif:b===v&&(h=2/3+gdif-rdif),h<0?h+=1:h>1&&(h-=1)),[360*h,100*s,100*v]},convert.rgb.hwb=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2];return[convert.rgb.hsl(rgb)[0],100*(1/255*Math.min(r,Math.min(g,b))),100*(b=1-1/255*Math.max(r,Math.max(g,b)))]},convert.rgb.cmyk=function(rgb){var k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*((1-r-(k=Math.min(1-r,1-g,1-b)))/(1-k)||0),100*((1-g-k)/(1-k)||0),100*((1-b-k)/(1-k)||0),100*k]},convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed)return reversed;var currentClosestKeyword,x,y,currentClosestDistance=1/0;for(var keyword in cssKeywords)if(cssKeywords.hasOwnProperty(keyword)){var value=cssKeywords[keyword],distance=(x=rgb,y=value,Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2));distance<currentClosestDistance&&(currentClosestDistance=distance,currentClosestKeyword=keyword)}return currentClosestKeyword},convert.keyword.rgb=function(keyword){return cssKeywords[keyword]},convert.rgb.xyz=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*(.4124*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.3576*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.1805*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92)),100*(.2126*r+.7152*g+.0722*b),100*(.0193*r+.1192*g+.9505*b)]},convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.hsl.rgb=function(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0===s)return[val=255*l,val,val];t1=2*l-(t2=l<.5?l*(1+s):l+s-l*s),rgb=[0,0,0];for(var i=0;i<3;i++)(t3=h+1/3*-(i-1))<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb},convert.hsl.hsv=function(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,smin=s,lmin=Math.max(l,.01);return s*=(l*=2)<=1?l:2-l,smin*=lmin<=1?lmin:2-lmin,[h,100*(0===l?2*smin/(lmin+smin):2*s/(l+s)),100*((l+s)/2)]},convert.hsv.rgb=function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));switch(v*=255,hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},convert.hsv.hsl=function(hsv){var lmin,sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=Math.max(v,.01);return l=(2-s)*v,sl=s*vmin,[h,100*(sl=(sl/=(lmin=(2-s)*vmin)<=1?lmin:2-lmin)||0),100*(l/=2)]},convert.hwb.rgb=function(hwb){var i,v,f,n,r,g,b,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),f=6*h-(i=Math.floor(6*h)),0!=(1&i)&&(f=1-f),n=wh+f*((v=1-bl)-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]},convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return[255*(1-Math.min(1,c*(1-k)+k)),255*(1-Math.min(1,m*(1-k)+k)),255*(1-Math.min(1,y*(1-k)+k))]},convert.xyz.rgb=function(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return g=-.9689*x+1.8758*y+.0415*z,b=.0557*x+-.204*y+1.057*z,r=(r=3.2406*x+-1.5372*y+-.4986*z)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,[255*(r=Math.min(Math.max(0,r),1)),255*(g=Math.min(Math.max(0,g),1)),255*(b=Math.min(Math.max(0,b),1))]},convert.xyz.lab=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.lab.xyz=function(lab){var x,y,z,l=lab[0];x=lab[1]/500+(y=(l+16)/116),z=y-lab[2]/200;var y2=Math.pow(y,3),x2=Math.pow(x,3),z2=Math.pow(z,3);return y=y2>.008856?y2:(y-16/116)/7.787,x=x2>.008856?x2:(x-16/116)/7.787,z=z2>.008856?z2:(z-16/116)/7.787,[x*=95.047,y*=100,z*=108.883]},convert.lab.lch=function(lab){var h,l=lab[0],a=lab[1],b=lab[2];return(h=360*Math.atan2(b,a)/2/Math.PI)<0&&(h+=360),[l,Math.sqrt(a*a+b*b),h]},convert.lch.lab=function(lch){var hr,l=lch[0],c=lch[1];return hr=lch[2]/360*2*Math.PI,[l,c*Math.cos(hr),c*Math.sin(hr)]},convert.rgb.ansi16=function(args){var r=args[0],g=args[1],b=args[2],value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];if(0===(value=Math.round(value/50)))return 30;var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));return 2===value&&(ansi+=60),ansi},convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])},convert.rgb.ansi256=function(args){var r=args[0],g=args[1],b=args[2];return r===g&&g===b?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)},convert.ansi16.rgb=function(args){var color=args%10;if(0===color||7===color)return args>50&&(color+=3.5),[color=color/10.5*255,color,color];var mult=.5*(1+~~(args>50));return[(1&color)*mult*255,(color>>1&1)*mult*255,(color>>2&1)*mult*255]},convert.ansi256.rgb=function(args){if(args>=232){var c=10*(args-232)+8;return[c,c,c]}var rem;return args-=16,[Math.floor(args/36)/5*255,Math.floor((rem=args%36)/6)/5*255,rem%6/5*255]},convert.rgb.hex=function(args){var string=(((255&Math.round(args[0]))<<16)+((255&Math.round(args[1]))<<8)+(255&Math.round(args[2]))).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match)return[0,0,0];var colorString=match[0];3===match[0].length&&(colorString=colorString.split("").map((function(char){return char+char})).join(""));var integer=parseInt(colorString,16);return[integer>>16&255,integer>>8&255,255&integer]},convert.rgb.hcg=function(rgb){var hue,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),chroma=max-min;return hue=chroma<=0?0:max===r?(g-b)/chroma%6:max===g?2+(b-r)/chroma:4+(r-g)/chroma+4,hue/=6,[360*(hue%=1),100*chroma,100*(chroma<1?min/(1-chroma):0)]},convert.hsl.hcg=function(hsl){var s=hsl[1]/100,l=hsl[2]/100,c=1,f=0;return(c=l<.5?2*s*l:2*s*(1-l))<1&&(f=(l-.5*c)/(1-c)),[hsl[0],100*c,100*f]},convert.hsv.hcg=function(hsv){var s=hsv[1]/100,v=hsv[2]/100,c=s*v,f=0;return c<1&&(f=(v-c)/(1-c)),[hsv[0],100*c,100*f]},convert.hcg.rgb=function(hcg){var h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c)return[255*g,255*g,255*g];var mg,pure=[0,0,0],hi=h%1*6,v=hi%1,w=1-v;switch(Math.floor(hi)){case 0:pure[0]=1,pure[1]=v,pure[2]=0;break;case 1:pure[0]=w,pure[1]=1,pure[2]=0;break;case 2:pure[0]=0,pure[1]=1,pure[2]=v;break;case 3:pure[0]=0,pure[1]=w,pure[2]=1;break;case 4:pure[0]=v,pure[1]=0,pure[2]=1;break;default:pure[0]=1,pure[1]=0,pure[2]=w}return mg=(1-c)*g,[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]},convert.hcg.hsv=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c),f=0;return v>0&&(f=c/v),[hcg[0],100*f,100*v]},convert.hcg.hsl=function(hcg){var c=hcg[1]/100,l=hcg[2]/100*(1-c)+.5*c,s=0;return l>0&&l<.5?s=c/(2*l):l>=.5&&l<1&&(s=c/(2*(1-l))),[hcg[0],100*s,100*l]},convert.hcg.hwb=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c);return[hcg[0],100*(v-c),100*(1-v)]},convert.hwb.hcg=function(hwb){var w=hwb[1]/100,v=1-hwb[2]/100,c=v-w,g=0;return c<1&&(g=(v-c)/(1-c)),[hwb[0],100*c,100*g]},convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]},convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]},convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]},convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]},convert.gray.hwb=function(gray){return[0,100,gray[0]]},convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]},convert.gray.lab=function(gray){return[gray[0],0,0]},convert.gray.hex=function(gray){var val=255&Math.round(gray[0]/100*255),string=((val<<16)+(val<<8)+val).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.rgb.gray=function(rgb){return[(rgb[0]+rgb[1]+rgb[2])/3/255*100]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(typeIdentifier){const match=typeIdentifier.match(/^(?:([a-zA-Z0-9_]+)|"([^"]*)")\.(?:([a-zA-Z0-9_]+)|"([^"]*)")$/);if(!match)throw new Error(`Type identifier '${typeIdentifier}' is of the incorrect form.`);return{namespaceName:match[1]||match[2],entityName:match[3]||match[4]}}},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(265),baseMatchesProperty=__webpack_require__(320),identity=__webpack_require__(329),isArray=__webpack_require__(34),property=__webpack_require__(330);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(81),stackClear=__webpack_require__(272),stackDelete=__webpack_require__(273),stackGet=__webpack_require__(274),stackHas=__webpack_require__(275),stackSet=__webpack_require__(276);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(293),isObjectLike=__webpack_require__(55);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(294),arraySome=__webpack_require__(297),cacheHas=__webpack_require__(298);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(105),isArray=__webpack_require__(34);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(305),stubArray=__webpack_require__(151),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(306),isArguments=__webpack_require__(107),isArray=__webpack_require__(34),isBuffer=__webpack_require__(153),isIndex=__webpack_require__(79),isTypedArray=__webpack_require__(154),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(38),stubFalse=__webpack_require__(308),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(80)(module))},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(309),baseUnary=__webpack_require__(310),nodeUtil=__webpack_require__(311),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(40);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},function(module,exports,__webpack_require__){module.exports=function(){var pluralRules=[],singularRules=[],uncountables={},irregularPlurals={},irregularSingles={};function sanitizeRule(rule){return"string"==typeof rule?new RegExp("^"+rule+"$","i"):rule}function restoreCase(word,token){return word===token?token:word===word.toUpperCase()?token.toUpperCase():word[0]===word[0].toUpperCase()?token.charAt(0).toUpperCase()+token.substr(1).toLowerCase():token.toLowerCase()}function interpolate(str,args){return str.replace(/\$(\d{1,2})/g,(function(match,index){return args[index]||""}))}function replace(word,rule){return word.replace(rule[0],(function(match,index){var result=interpolate(rule[1],arguments);return restoreCase(""===match?word[index-1]:match,result)}))}function sanitizeWord(token,word,rules){if(!token.length||uncountables.hasOwnProperty(token))return word;for(var len=rules.length;len--;){var rule=rules[len];if(rule[0].test(word))return replace(word,rule)}return word}function replaceWord(replaceMap,keepMap,rules){return function(word){var token=word.toLowerCase();return keepMap.hasOwnProperty(token)?restoreCase(word,token):replaceMap.hasOwnProperty(token)?restoreCase(word,replaceMap[token]):sanitizeWord(token,word,rules)}}function checkWord(replaceMap,keepMap,rules,bool){return function(word){var token=word.toLowerCase();return!!keepMap.hasOwnProperty(token)||!replaceMap.hasOwnProperty(token)&&sanitizeWord(token,token,rules)===token}}function pluralize(word,count,inclusive){return(inclusive?count+" ":"")+(1===count?pluralize.singular(word):pluralize.plural(word))}return pluralize.plural=replaceWord(irregularSingles,irregularPlurals,pluralRules),pluralize.isPlural=checkWord(irregularSingles,irregularPlurals,pluralRules),pluralize.singular=replaceWord(irregularPlurals,irregularSingles,singularRules),pluralize.isSingular=checkWord(irregularPlurals,irregularSingles,singularRules),pluralize.addPluralRule=function(rule,replacement){pluralRules.push([sanitizeRule(rule),replacement])},pluralize.addSingularRule=function(rule,replacement){singularRules.push([sanitizeRule(rule),replacement])},pluralize.addUncountableRule=function(word){"string"!=typeof word?(pluralize.addPluralRule(word,"$0"),pluralize.addSingularRule(word,"$0")):uncountables[word.toLowerCase()]=!0},pluralize.addIrregularRule=function(single,plural){plural=plural.toLowerCase(),single=single.toLowerCase(),irregularSingles[single]=plural,irregularPlurals[plural]=single},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach((function(rule){return pluralize.addIrregularRule(rule[0],rule[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(rule){return pluralize.addPluralRule(rule[0],rule[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(rule){return pluralize.addSingularRule(rule[0],rule[1])})),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(pluralize.addUncountableRule),pluralize}()},function(module,exports,__webpack_require__){var upperFirst=__webpack_require__(351)("toUpperCase");module.exports=upperFirst},function(module,exports){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function(string){return reHasUnicode.test(string)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=async function(nodeId,build,{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment},data,context,resolveInfo){const{$$isQuery:$$isQuery,$$nodeType:$$nodeType,parseResolveInfo:parseResolveInfo,nodeFetcherByTypeName:nodeFetcherByTypeName,getTypeAndIdentifiersFromNodeId:getTypeAndIdentifiersFromNodeId,graphql:{getNamedType:getNamedType}}=build;if("query"===nodeId)return $$isQuery;try{const{Type:Type,identifiers:identifiers}=getTypeAndIdentifiersFromNodeId(nodeId);if(!Type)throw new Error("Type not found");const resolver=nodeFetcherByTypeName[getNamedType(Type).name],parsedResolveInfoFragment=parseResolveInfo(resolveInfo,{},Type),resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,getNamedType(Type)),node=await resolver(data,identifiers,context,parsedResolveInfoFragment,resolveInfo.returnType,resolveData,resolveInfo);return Object.defineProperty(node,$$nodeType,{enumerable:!1,configurable:!1,value:Type}),node}catch(e){return null}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeAsyncIteratorFromMonitor=makeAsyncIteratorFromMonitor,exports.LiveCoordinator=exports.LiveMonitor=exports.LiveProvider=exports.LiveSource=void 0;var obj,_callbackToAsyncIterator=(obj=__webpack_require__(368))&&obj.__esModule?obj:{default:obj},_lodash=__webpack_require__(369);const MONITOR_THROTTLE_DURATION=Math.max(26,parseInt(process.env.LIVE_THROTTLE||"",10)||500);exports.LiveSource=class{subscribeCollection(_callback,_collectionIdentifier,_predicate){return null}subscribeRecord(_callback,_collectionIdentifier,_recordIdentifier){return null}};exports.LiveProvider=class{constructor(namespace){this.namespace=namespace,this.sources=[]}registerSource(source){this.sources.push(source)}collectionIdentifierIsValid(_collectionIdentifier){return!1}recordIdentifierIsValid(_collectionIdentifier,_recordIdentifier){return!1}};class LiveMonitor{constructor(providers,extraRootValue){if(this.extraRootValue=extraRootValue,this.released=!1,this.providers=providers,this.subscriptionReleasersByCounter={},this.changeCallback=null,this.changeCounter=0,this.liveConditionsByCounter={},this.handleChange=function(){this._reallyHandleChange&&this._reallyHandleChange()},this._reallyHandleChange=function(){if(this.changeCallback){const cb=this.changeCallback,counter=this.changeCounter++;this.subscriptionReleasersByCounter[String(counter)]=[],this.liveConditionsByCounter[String(counter)]=[];cb({...this.extraRootValue,counter:counter,liveCollection:this.liveCollection.bind(this,counter),liveRecord:this.liveRecord.bind(this,counter),liveConditions:this.liveConditionsByCounter[String(counter)],release:()=>{this.resetBefore(counter)}})}else console.warn("Change occurred, but no-one was listening")},this.onChange=function(callback){if(this.released)throw new Error("Monitors cannot be reused.");if(this.changeCallback)throw new Error("Already monitoring for changes");return this.changeCallback=callback,this.handleChange&&setImmediate(this.handleChange),()=>{this.changeCallback===callback&&(this.changeCallback=null),this.release()}},this.handleChange=(0,_lodash.throttle)(this.handleChange.bind(this),25,{leading:!1,trailing:!0}),!this._reallyHandleChange)throw new Error("This is just to make flow happy");this._reallyHandleChange=(0,_lodash.throttle)(this._reallyHandleChange.bind(this),MONITOR_THROTTLE_DURATION-25,{leading:!0,trailing:!0}),this.onChange=this.onChange.bind(this)}resetBefore(currentCounter){{const oldCounters=Object.keys(this.subscriptionReleasersByCounter).filter(n=>parseInt(n,10)<currentCounter);for(const oldCounter of oldCounters){for(const releaser of this.subscriptionReleasersByCounter[oldCounter])releaser();delete this.subscriptionReleasersByCounter[oldCounter]}}{const oldCounters=Object.keys(this.liveConditionsByCounter).filter(n=>parseInt(n,10)<currentCounter);for(const oldCounter of oldCounters)delete this.liveConditionsByCounter[oldCounter]}}release(){this.handleChange&&this.handleChange.cancel(),this.handleChange=null,this._reallyHandleChange&&this._reallyHandleChange.cancel(),this._reallyHandleChange=null,this.resetBefore(1/0),this.providers={},this.released=!0}liveCollection(counter,namespace,collectionIdentifier,predicate=(()=>!0)){const handleChange=this.handleChange;if(this.released||!handleChange)return;const provider=this.providers[namespace];if(provider&&0!==provider.sources.length){if(!provider.collectionIdentifierIsValid(collectionIdentifier))throw new Error(`Invalid collection identifier passed to LiveMonitor[${namespace}]: ${collectionIdentifier}`);for(const source of provider.sources){const releaser=source.subscribeCollection(handleChange,collectionIdentifier,predicate);releaser&&this.subscriptionReleasersByCounter[String(counter)].push(releaser)}}}liveRecord(counter,namespace,collectionIdentifier,recordIdentifier){const handleChange=this.handleChange;if(this.released||!handleChange)return;const provider=this.providers[namespace];if(provider&&0!==provider.sources.length){if(!provider.collectionIdentifierIsValid(collectionIdentifier))throw new Error(`Invalid collection identifier passed to LiveMonitor[${namespace}]: ${collectionIdentifier}`);if(!provider.recordIdentifierIsValid(collectionIdentifier,recordIdentifier))throw new Error(`Invalid record identifier passed to LiveMonitor[${namespace}]: ${collectionIdentifier}`);for(const source of provider.sources){const releaser=source.subscribeRecord(handleChange,collectionIdentifier,recordIdentifier);releaser&&this.subscriptionReleasersByCounter[String(counter)].push(releaser)}}}}exports.LiveMonitor=LiveMonitor;function makeAsyncIteratorFromMonitor(monitor){return(0,_callbackToAsyncIterator.default)(monitor.onChange,{onClose:release=>{release&&release()}})}exports.LiveCoordinator=class{constructor(){this.providers={},this.subscribe=this.subscribe.bind(this)}registerProvider(provider){const{namespace:namespace}=provider;if(this.providers[namespace])throw new Error(`Namespace ${namespace} already registered with Live`);this.providers[namespace]=provider}registerSource(namespace,source){this.providers[namespace]?this.providers[namespace].registerSource(source):console.warn(`LiveProvider '${namespace}' is not registered, skipping live source.`)}getMonitor(extraRootValue){return new LiveMonitor(this.providers,extraRootValue)}subscribe(_parent,_args,_context,_info){const iterator=makeAsyncIteratorFromMonitor(this.getMonitor({liveAbort:e=>{iterator&&iterator.throw(e)}}));return iterator}}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _source__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45);__webpack_require__.d(__webpack_exports__,"Source",(function(){return _source__WEBPACK_IMPORTED_MODULE_0__.a}));var _location__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48);__webpack_require__.d(__webpack_exports__,"getLocation",(function(){return _location__WEBPACK_IMPORTED_MODULE_1__.a}));var _printLocation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(60);__webpack_require__.d(__webpack_exports__,"printLocation",(function(){return _printLocation__WEBPACK_IMPORTED_MODULE_2__.a})),__webpack_require__.d(__webpack_exports__,"printSourceLocation",(function(){return _printLocation__WEBPACK_IMPORTED_MODULE_2__.b}));var _kinds__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1);__webpack_require__.d(__webpack_exports__,"Kind",(function(){return _kinds__WEBPACK_IMPORTED_MODULE_3__.a}));var _tokenKind__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4);__webpack_require__.d(__webpack_exports__,"TokenKind",(function(){return _tokenKind__WEBPACK_IMPORTED_MODULE_4__.a}));var _lexer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49);__webpack_require__.d(__webpack_exports__,"createLexer",(function(){return _lexer__WEBPACK_IMPORTED_MODULE_5__.a}));var _parser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33);__webpack_require__.d(__webpack_exports__,"parse",(function(){return _parser__WEBPACK_IMPORTED_MODULE_6__.a})),__webpack_require__.d(__webpack_exports__,"parseValue",(function(){return _parser__WEBPACK_IMPORTED_MODULE_6__.c})),__webpack_require__.d(__webpack_exports__,"parseType",(function(){return _parser__WEBPACK_IMPORTED_MODULE_6__.b}));var _printer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8);__webpack_require__.d(__webpack_exports__,"print",(function(){return _printer__WEBPACK_IMPORTED_MODULE_7__.print}));var _visitor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"visit",(function(){return _visitor__WEBPACK_IMPORTED_MODULE_8__.c})),__webpack_require__.d(__webpack_exports__,"visitInParallel",(function(){return _visitor__WEBPACK_IMPORTED_MODULE_8__.d})),__webpack_require__.d(__webpack_exports__,"visitWithTypeInfo",(function(){return _visitor__WEBPACK_IMPORTED_MODULE_8__.e})),__webpack_require__.d(__webpack_exports__,"getVisitFn",(function(){return _visitor__WEBPACK_IMPORTED_MODULE_8__.b})),__webpack_require__.d(__webpack_exports__,"BREAK",(function(){return _visitor__WEBPACK_IMPORTED_MODULE_8__.a}));var _predicates__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11);__webpack_require__.d(__webpack_exports__,"isDefinitionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.a})),__webpack_require__.d(__webpack_exports__,"isExecutableDefinitionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.b})),__webpack_require__.d(__webpack_exports__,"isSelectionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.c})),__webpack_require__.d(__webpack_exports__,"isValueNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.i})),__webpack_require__.d(__webpack_exports__,"isTypeNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.f})),__webpack_require__.d(__webpack_exports__,"isTypeSystemDefinitionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.g})),__webpack_require__.d(__webpack_exports__,"isTypeDefinitionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.d})),__webpack_require__.d(__webpack_exports__,"isTypeSystemExtensionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.h})),__webpack_require__.d(__webpack_exports__,"isTypeExtensionNode",(function(){return _predicates__WEBPACK_IMPORTED_MODULE_9__.e}));var _directiveLocation__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"DirectiveLocation",(function(){return _directiveLocation__WEBPACK_IMPORTED_MODULE_10__.a}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quacksLikePgPool=quacksLikePgPool,exports.default=exports.getPgClientAndReleaserFromConfig=void 0;var _pg=_interopRequireDefault(__webpack_require__(57));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const debug=(0,_interopRequireDefault(__webpack_require__(19)).default)("graphile-build-pg");function constructorName(obj){return obj&&"function"==typeof obj.constructor&&obj.constructor.name}function quacksLikePgPool(pgConfig){return!(!pgConfig||"object"!=typeof pgConfig)&&(("Pool"===constructorName(pgConfig)||"BoundPool"===constructorName(pgConfig))&&(!!pgConfig.Client&&(!!pgConfig.options&&("function"==typeof pgConfig.connect&&("function"==typeof pgConfig.end&&"function"==typeof pgConfig.query)))))}const getPgClientAndReleaserFromConfig=async(pgConfig=process.env.DATABASE_URL)=>{let pgClient,releasePgClient=()=>{};if(pgConfig instanceof _pg.default.Client||function(pgConfig){return!(!pgConfig||"object"!=typeof pgConfig)&&("Client"===constructorName(pgConfig)&&("function"==typeof pgConfig.connect&&("function"==typeof pgConfig.end&&("function"==typeof pgConfig.escapeLiteral&&"function"==typeof pgConfig.escapeIdentifier))))}(pgConfig)){if(pgClient=pgConfig,!pgClient.release)throw new Error("We only support PG clients from a PG pool (because otherwise the `await` call can hang indefinitely if an error occurs and there's no error handler)")}else if(pgConfig instanceof _pg.default.Pool||quacksLikePgPool(pgConfig)){const pgPool=pgConfig;pgClient=await pgPool.connect(),releasePgClient=()=>pgClient.release()}else{if(void 0!==pgConfig&&"string"!=typeof pgConfig)throw new Error("You must provide either a pg.Pool or pg.Client instance or a PostgreSQL connection string.");pgClient=new _pg.default.Client(pgConfig),pgClient.on("error",e=>{debug("pgClient error occurred: %s",e)}),releasePgClient=()=>new Promise((resolve,reject)=>pgClient.end(err=>err?reject(err):resolve())),await new Promise((resolve,reject)=>pgClient.connect(err=>err?reject(err):resolve()))}return{pgClient:pgClient,releasePgClient:releasePgClient}};exports.getPgClientAndReleaserFromConfig=getPgClientAndReleaserFromConfig;var _default=async(pgConfig,fn)=>{if(!fn)throw new Error("Nothing to do!");const{pgClient:pgClient,releasePgClient:releasePgClient}=await getPgClientAndReleaserFromConfig(pgConfig),errorHandler=e=>{console.error("withPgClient client error:",e.message)};pgClient.on("error",errorHandler);try{return await fn(pgClient)}finally{pgClient.removeListener("error",errorHandler);try{await releasePgClient()}catch(e){}}};exports.default=_default},function(module,exports,__webpack_require__){"use strict";exports.parse=function(source,transform){return new ArrayParser(source,transform).parse()};class ArrayParser{constructor(source,transform){this.source=source,this.transform=transform||identity,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var character=this.source[this.position++];return"\\"===character?{value:this.source[this.position++],escaped:!0}:{value:character,escaped:!1}}record(character){this.recorded.push(character)}newEntry(includeEmpty){var entry;(this.recorded.length>0||includeEmpty)&&("NULL"!==(entry=this.recorded.join(""))||includeEmpty||(entry=null),null!==entry&&(entry=this.transform(entry)),this.entries.push(entry),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof();){if("="===this.nextCharacter().value)break}}parse(nested){var character,parser,quote;for(this.consumeDimensions();!this.isEof();)if("{"!==(character=this.nextCharacter()).value||quote){if("}"!==character.value||quote)'"'!==character.value||character.escaped?","!==character.value||quote?this.record(character.value):this.newEntry():(quote&&this.newEntry(!0),quote=!quote);else if(this.dimension--,!this.dimension&&(this.newEntry(),nested))return this.entries}else this.dimension++,this.dimension>1&&(parser=new ArrayParser(this.source.substr(this.position-1),this.transform),this.entries.push(parser.parse(!0)),this.position+=parser.position-2);if(0!==this.dimension)throw new Error("array dimension not balanced");return this.entries}}function identity(value){return value}},function(module,exports,__webpack_require__){var array=__webpack_require__(166);module.exports={create:function(source,transform){return{parse:function(){return array.parse(source,transform)}}}}},function(module,exports,__webpack_require__){"use strict";var extend=__webpack_require__(388);function PostgresInterval(raw){if(!(this instanceof PostgresInterval))return new PostgresInterval(raw);extend(this,function(interval){if(!interval)return{};var matches=INTERVAL.exec(interval),isNegative="-"===matches[8];return Object.keys(positions).reduce((function(parsed,property){var fraction,microseconds,value=matches[positions[property]];return value&&(value="milliseconds"===property?(microseconds=(fraction=value)+"000000".slice(fraction.length),parseInt(microseconds,10)/1e3):parseInt(value,10))?(isNegative&&~negatives.indexOf(property)&&(value*=-1),parsed[property]=value,parsed):parsed}),{})}(raw))}module.exports=PostgresInterval;var properties=["seconds","minutes","hours","days","months","years"];PostgresInterval.prototype.toPostgres=function(){var filtered=properties.filter(this.hasOwnProperty,this);return this.milliseconds&&filtered.indexOf("seconds")<0&&filtered.push("seconds"),0===filtered.length?"0":filtered.map((function(property){var value=this[property]||0;return"seconds"===property&&this.milliseconds&&(value=(value+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),value+" "+property}),this).join(" ")};var propertiesISOEquivalent={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},dateProperties=["years","months","days"],timeProperties=["hours","minutes","seconds"];PostgresInterval.prototype.toISOString=PostgresInterval.prototype.toISO=function(){return"P"+dateProperties.map(buildProperty,this).join("")+"T"+timeProperties.map(buildProperty,this).join("");function buildProperty(property){var value=this[property]||0;return"seconds"===property&&this.milliseconds&&(value=(value+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),value+propertiesISOEquivalent[property]}};var INTERVAL=new RegExp(["([+-]?\\d+)\\s+years?","([+-]?\\d+)\\s+mons?","([+-]?\\d+)\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map((function(regexString){return"("+regexString+")?"})).join("\\s*")),positions={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},negatives=["hours","minutes","seconds","milliseconds"]},function(module,exports,__webpack_require__){"use strict";const crypto=__webpack_require__(28);function xorBuffers(a,b){Buffer.isBuffer(a)||(a=Buffer.from(a)),Buffer.isBuffer(b)||(b=Buffer.from(b));var res=[];if(a.length>b.length)for(var i=0;i<b.length;i++)res.push(a[i]^b[i]);else for(var j=0;j<a.length;j++)res.push(a[j]^b[j]);return Buffer.from(res)}function createHMAC(key,msg){return crypto.createHmac("sha256",key).update(msg).digest()}module.exports={startSession:function(mechanisms){if(-1===mechanisms.indexOf("SCRAM-SHA-256"))throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");const clientNonce=crypto.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:clientNonce,response:"n,,n=*,r="+clientNonce,message:"SASLInitialResponse"}},continueSession:function(session,password,serverData){if("SASLInitialResponse"!==session.message)throw new Error("SASL: Last message was not SASLInitialResponse");const sv=function(data){var nonce,salt,iteration;if(String(data).split(",").forEach((function(part){switch(part[0]){case"r":nonce=part.substr(2);break;case"s":salt=part.substr(2);break;case"i":iteration=parseInt(part.substr(2),10)}})),!nonce)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!salt)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!iteration)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:nonce,salt:salt,iteration:iteration}}(serverData);if(!sv.nonce.startsWith(session.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var saltedPassword=function(password,saltBytes,iterations){for(var ui1=createHMAC(password,Buffer.concat([saltBytes,Buffer.from([0,0,0,1])])),ui=ui1,i=0;i<iterations-1;i++)ui1=createHMAC(password,ui1),ui=xorBuffers(ui,ui1);return ui}(password,Buffer.from(sv.salt,"base64"),sv.iteration),clientKey=createHMAC(saltedPassword,"Client Key"),storedKey=crypto.createHash("sha256").update(clientKey).digest(),clientFirstMessageBare="n=*,r="+session.clientNonce,serverFirstMessage="r="+sv.nonce+",s="+sv.salt+",i="+sv.iteration,clientFinalMessageWithoutProof="c=biws,r="+sv.nonce,authMessage=clientFirstMessageBare+","+serverFirstMessage+","+clientFinalMessageWithoutProof,clientProof=xorBuffers(clientKey,createHMAC(storedKey,authMessage)).toString("base64"),serverKey=createHMAC(saltedPassword,"Server Key"),serverSignatureBytes=createHMAC(serverKey,authMessage);session.message="SASLResponse",session.serverSignature=serverSignatureBytes.toString("base64"),session.response=clientFinalMessageWithoutProof+",p="+clientProof},finalizeSession:function(session,serverData){if("SASLResponse"!==session.message)throw new Error("SASL: Last message was not SASLResponse");var serverSignature;if(String(serverData).split(",").forEach((function(part){switch(part[0]){case"v":serverSignature=part.substr(2)}})),serverSignature!==session.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(63);var fs=__webpack_require__(43),helper=__webpack_require__(393);module.exports=function(connInfo,cb){var file=helper.getFileName();fs.stat(file,(function(err,stat){if(err||!helper.usePgPass(stat,file))return cb(void 0);var st=fs.createReadStream(file);helper.getPassword(connInfo,st,cb)}))},module.exports.warnTo=helper.warnTo},function(module,exports){module.exports=require("string_decoder")},function(module,exports,__webpack_require__){"use strict";var types=__webpack_require__(87);function TypeOverrides(userTypes){this._types=userTypes||types,this.text={},this.binary={}}TypeOverrides.prototype.getOverrides=function(format){switch(format){case"text":return this.text;case"binary":return this.binary;default:return{}}},TypeOverrides.prototype.setTypeParser=function(oid,format,parseFn){"function"==typeof format&&(parseFn=format,format="text"),this.getOverrides(format)[oid]=parseFn},TypeOverrides.prototype.getTypeParser=function(oid,format){return format=format||"text",this.getOverrides(format)[oid]||this._types.getTypeParser(oid,format)},module.exports=TypeOverrides},function(module,exports,__webpack_require__){"use strict";var dns=__webpack_require__(396),defaults=__webpack_require__(70),parse=__webpack_require__(397).parse,val=function(key,config,envVar){return void 0===envVar?envVar=process.env["PG"+key.toUpperCase()]:!1===envVar||(envVar=process.env[envVar]),config[key]||envVar||defaults[key]},ConnectionParameters=function(config){(config="string"==typeof config?parse(config):config||{}).connectionString&&(config=Object.assign({},config,parse(config.connectionString))),this.user=val("user",config),this.database=val("database",config),void 0===this.database&&(this.database=this.user),this.port=parseInt(val("port",config),10),this.host=val("host",config),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:val("password",config)}),this.binary=val("binary",config),this.ssl=void 0===config.ssl?function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return defaults.ssl}():config.ssl,"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=val("client_encoding",config),this.replication=val("replication",config),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=val("application_name",config,"PGAPPNAME"),this.fallback_application_name=val("fallback_application_name",config,!1),this.statement_timeout=val("statement_timeout",config,!1),this.idle_in_transaction_session_timeout=val("idle_in_transaction_session_timeout",config,!1),this.query_timeout=val("query_timeout",config,!1),void 0===config.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(config.connectionTimeoutMillis/1e3),!1===config.keepAlive?this.keepalives=0:!0===config.keepAlive&&(this.keepalives=1),"number"==typeof config.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(config.keepAliveInitialDelayMillis/1e3))},quoteParamValue=function(value){return"'"+(""+value).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},add=function(params,config,paramName){var value=config[paramName];null!=value&&params.push(paramName+"="+quoteParamValue(value))};ConnectionParameters.prototype.getLibpqConnectionString=function(cb){var params=[];add(params,this,"user"),add(params,this,"password"),add(params,this,"port"),add(params,this,"application_name"),add(params,this,"fallback_application_name"),add(params,this,"connect_timeout");var ssl="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(add(params,ssl,"sslmode"),add(params,ssl,"sslca"),add(params,ssl,"sslkey"),add(params,ssl,"sslcert"),add(params,ssl,"sslrootcert"),this.database&&params.push("dbname="+quoteParamValue(this.database)),this.replication&&params.push("replication="+quoteParamValue(this.replication)),this.host&&params.push("host="+quoteParamValue(this.host)),this.isDomainSocket)return cb(null,params.join(" "));this.client_encoding&&params.push("client_encoding="+quoteParamValue(this.client_encoding)),dns.lookup(this.host,(function(err,address){return err?cb(err,null):(params.push("hostaddr="+quoteParamValue(address)),cb(null,params.join(" ")))}))},module.exports=ConnectionParameters},function(module,exports,__webpack_require__){"use strict";const{EventEmitter:EventEmitter}=__webpack_require__(29),Result=__webpack_require__(398),utils=__webpack_require__(111);module.exports=class extends EventEmitter{constructor(config,values,callback){super(),config=utils.normalizeQueryConfig(config,values,callback),this.text=config.text,this.values=config.values,this.rows=config.rows,this.types=config.types,this.name=config.name,this.binary=config.binary,this.portal=config.portal||"",this.callback=config.callback,this._rowMode=config.rowMode,process.domain&&config.callback&&(this.callback=process.domain.bind(config.callback)),this._result=new Result(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||(!!this.rows||!!this.text&&(!!this.values&&this.values.length>0))}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Result(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(msg){this._checkForMultirow(),this._result.addFields(msg.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(msg){let row;if(!this._canceledDueToError){try{row=this._result.parseRow(msg.fields)}catch(err){return void(this._canceledDueToError=err)}this.emit("row",row,this._result),this._accumulateRows&&this._result.addRow(row)}}handleCommandComplete(msg,con){this._checkForMultirow(),this._result.addCommandComplete(msg),this.isPreparedStatement&&con.sync()}handleEmptyQuery(con){this.isPreparedStatement&&con.sync()}handleReadyForQuery(con){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,con);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(err,connection){if(this.isPreparedStatement&&connection.sync(),this._canceledDueToError&&(err=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(err);this.emit("error",err)}submit(connection){if("string"!=typeof this.text&&"string"!=typeof this.name)return new Error("A query must have either text or a name. Supplying neither is unsupported.");const previous=connection.parsedStatements[this.name];return this.text&&previous&&this.text!==previous?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(connection):connection.query(this.text),null)}hasBeenParsed(connection){return this.name&&connection.parsedStatements[this.name]}handlePortalSuspended(connection){this._getRows(connection,this.rows)}_getRows(connection,rows){connection.execute({portal:this.portal,rows:rows},!0),connection.flush()}prepare(connection){if(this.isPreparedStatement=!0,this.hasBeenParsed(connection)||connection.parse({text:this.text,name:this.name,types:this.types},!0),this.values)try{this.values=this.values.map(utils.prepareValue)}catch(err){return void this.handleError(err,connection)}connection.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary},!0),connection.describe({type:"P",name:this.portal||""},!0),this._getRows(connection,this.rows)}handleCopyInResponse(connection){connection.sendCopyFail("No source stream defined")}handleCopyData(msg,connection){}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseTags=void 0;exports.parseTags=str=>str.split(/\r?\n/).reduce((prev,curr)=>{if(""!==prev.text)return{...prev,text:`${prev.text}\n${curr}`};const match=curr.match(/^@[a-zA-Z][a-zA-Z0-9_]*($|\s)/);if(!match)return{...prev,text:curr};const key=match[0].substr(1).trim(),value=match[0]===curr||curr.replace(match[0],"");return{...prev,tags:{...prev.tags,[key]:Object.prototype.hasOwnProperty.call(prev.tags,key)?Array.isArray(prev.tags[key])?[...prev.tags[key],value]:[prev.tags[key],value]:value}}},{tags:{},text:""})},function(module,exports,__webpack_require__){var jws=__webpack_require__(115);module.exports=function(jwt,options){options=options||{};var decoded=jws.decode(jwt,options);if(!decoded)return null;var payload=decoded.payload;if("string"==typeof payload)try{var obj=JSON.parse(payload);null!==obj&&"object"==typeof obj&&(payload=obj)}catch(e){}return!0===options.complete?{header:decoded.header,payload:payload,signature:decoded.signature}:payload}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(72).Buffer,Stream=__webpack_require__(32);function DataStream(data){if(this.buffer=null,this.writable=!0,this.readable=!0,!data)return this.buffer=Buffer.alloc(0),this;if("function"==typeof data.pipe)return this.buffer=Buffer.alloc(0),data.pipe(this),this;if(data.length||"object"==typeof data)return this.buffer=data,this.writable=!1,process.nextTick(function(){this.emit("end",data),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof data+")")}__webpack_require__(17).inherits(DataStream,Stream),DataStream.prototype.write=function(data){this.buffer=Buffer.concat([this.buffer,Buffer.from(data)]),this.emit("data",data)},DataStream.prototype.end=function(data){data&&this.write(data),this.emit("end",data),this.emit("close"),this.writable=!1,this.readable=!1},module.exports=DataStream},function(module,exports,__webpack_require__){var bufferEqual=__webpack_require__(425),Buffer=__webpack_require__(72).Buffer,crypto=__webpack_require__(28),formatEcdsa=__webpack_require__(426),util=__webpack_require__(17),MSG_INVALID_SECRET="secret must be a string or buffer",MSG_INVALID_VERIFIER_KEY="key must be a string or a buffer",supportsKeyObjects="function"==typeof crypto.createPublicKey;function checkIsPublicKey(key){if(!Buffer.isBuffer(key)&&"string"!=typeof key){if(!supportsKeyObjects)throw typeError(MSG_INVALID_VERIFIER_KEY);if("object"!=typeof key)throw typeError(MSG_INVALID_VERIFIER_KEY);if("string"!=typeof key.type)throw typeError(MSG_INVALID_VERIFIER_KEY);if("string"!=typeof key.asymmetricKeyType)throw typeError(MSG_INVALID_VERIFIER_KEY);if("function"!=typeof key.export)throw typeError(MSG_INVALID_VERIFIER_KEY)}}function checkIsPrivateKey(key){if(!Buffer.isBuffer(key)&&"string"!=typeof key&&"object"!=typeof key)throw typeError("key must be a string, a buffer or an object")}function fromBase64(base64){return base64.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBase64(base64url){var padding=4-(base64url=base64url.toString()).length%4;if(4!==padding)for(var i=0;i<padding;++i)base64url+="=";return base64url.replace(/\-/g,"+").replace(/_/g,"/")}function typeError(template){var args=[].slice.call(arguments,1),errMsg=util.format.bind(util,template).apply(null,args);return new TypeError(errMsg)}function normalizeInput(thing){var obj;return obj=thing,Buffer.isBuffer(obj)||"string"==typeof obj||(thing=JSON.stringify(thing)),thing}function createHmacSigner(bits){return function(thing,secret){!function(key){if(!Buffer.isBuffer(key)){if("string"==typeof key)return key;if(!supportsKeyObjects)throw typeError(MSG_INVALID_SECRET);if("object"!=typeof key)throw typeError(MSG_INVALID_SECRET);if("secret"!==key.type)throw typeError(MSG_INVALID_SECRET);if("function"!=typeof key.export)throw typeError(MSG_INVALID_SECRET)}}(secret),thing=normalizeInput(thing);var hmac=crypto.createHmac("sha"+bits,secret);return fromBase64((hmac.update(thing),hmac.digest("base64")))}}function createHmacVerifier(bits){return function(thing,signature,secret){var computedSig=createHmacSigner(bits)(thing,secret);return bufferEqual(Buffer.from(signature),Buffer.from(computedSig))}}function createKeySigner(bits){return function(thing,privateKey){checkIsPrivateKey(privateKey),thing=normalizeInput(thing);var signer=crypto.createSign("RSA-SHA"+bits);return fromBase64((signer.update(thing),signer.sign(privateKey,"base64")))}}function createKeyVerifier(bits){return function(thing,signature,publicKey){checkIsPublicKey(publicKey),thing=normalizeInput(thing),signature=toBase64(signature);var verifier=crypto.createVerify("RSA-SHA"+bits);return verifier.update(thing),verifier.verify(publicKey,signature,"base64")}}function createPSSKeySigner(bits){return function(thing,privateKey){checkIsPrivateKey(privateKey),thing=normalizeInput(thing);var signer=crypto.createSign("RSA-SHA"+bits);return fromBase64((signer.update(thing),signer.sign({key:privateKey,padding:crypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:crypto.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function createPSSKeyVerifier(bits){return function(thing,signature,publicKey){checkIsPublicKey(publicKey),thing=normalizeInput(thing),signature=toBase64(signature);var verifier=crypto.createVerify("RSA-SHA"+bits);return verifier.update(thing),verifier.verify({key:publicKey,padding:crypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:crypto.constants.RSA_PSS_SALTLEN_DIGEST},signature,"base64")}}function createECDSASigner(bits){var inner=createKeySigner(bits);return function(){var signature=inner.apply(null,arguments);return signature=formatEcdsa.derToJose(signature,"ES"+bits)}}function createECDSAVerifer(bits){var inner=createKeyVerifier(bits);return function(thing,signature,publicKey){return signature=formatEcdsa.joseToDer(signature,"ES"+bits).toString("base64"),inner(thing,signature,publicKey)}}function createNoneSigner(){return function(){return""}}function createNoneVerifier(){return function(thing,signature){return""===signature}}supportsKeyObjects&&(MSG_INVALID_VERIFIER_KEY+=" or a KeyObject",MSG_INVALID_SECRET+="or a KeyObject"),module.exports=function(algorithm){var signerFactories={hs:createHmacSigner,rs:createKeySigner,ps:createPSSKeySigner,es:createECDSASigner,none:createNoneSigner},verifierFactories={hs:createHmacVerifier,rs:createKeyVerifier,ps:createPSSKeyVerifier,es:createECDSAVerifer,none:createNoneVerifier},match=algorithm.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!match)throw typeError('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',algorithm);var algo=(match[1]||match[3]).toLowerCase(),bits=match[2];return{sign:signerFactories[algo](bits),verify:verifierFactories[algo](bits)}}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(41).Buffer;module.exports=function(obj){return"string"==typeof obj?obj:"number"==typeof obj||Buffer.isBuffer(obj)?obj.toString():JSON.stringify(obj)}},function(module,exports,__webpack_require__){var JsonWebTokenError=__webpack_require__(88),NotBeforeError=function(message,date){JsonWebTokenError.call(this,message),this.name="NotBeforeError",this.date=date};(NotBeforeError.prototype=Object.create(JsonWebTokenError.prototype)).constructor=NotBeforeError,module.exports=NotBeforeError},function(module,exports,__webpack_require__){var JsonWebTokenError=__webpack_require__(88),TokenExpiredError=function(message,expiredAt){JsonWebTokenError.call(this,message),this.name="TokenExpiredError",this.expiredAt=expiredAt};(TokenExpiredError.prototype=Object.create(JsonWebTokenError.prototype)).constructor=TokenExpiredError,module.exports=TokenExpiredError},function(module,exports,__webpack_require__){var ms=__webpack_require__(130);module.exports=function(time,iat){var timestamp=iat||Math.floor(Date.now()/1e3);if("string"==typeof time){var milliseconds=ms(time);if(void 0===milliseconds)return;return Math.floor(timestamp+milliseconds/1e3)}return"number"==typeof time?timestamp+time:void 0}},function(module,exports,__webpack_require__){var semver=__webpack_require__(430);module.exports=semver.satisfies(process.version,"^6.12.0 || >=8.0.0")},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(54),isArray=__webpack_require__(34),isObjectLike=__webpack_require__(55);module.exports=function(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==baseGetTag(value)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var postgraphile_1=__webpack_require__(469);exports.postgraphile=postgraphile_1.default;var withPostGraphileContext_1=__webpack_require__(117);exports.withPostGraphileContext=withPostGraphileContext_1.default;var postgraphile_core_1=__webpack_require__(44);exports.createPostGraphileSchema=postgraphile_core_1.createPostGraphileSchema,exports.watchPostGraphileSchema=postgraphile_core_1.watchPostGraphileSchema;var subscriptions_1=__webpack_require__(203);exports.enhanceHttpServerWithSubscriptions=subscriptions_1.enhanceHttpServerWithSubscriptions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const graphql_1=__webpack_require__(20),extendedFormatError_1=__webpack_require__(470),koaMiddleware_1=__webpack_require__(471),pluginHook_1=__webpack_require__(73),withPostGraphileContext_1=(__webpack_require__(472),__webpack_require__(117)),lru_1=__webpack_require__(53),chalk_1=__webpack_require__(39),Debugger=__webpack_require__(19),httpError=__webpack_require__(188),parseUrl=__webpack_require__(90),finalHandler=__webpack_require__(192),bodyParser=__webpack_require__(196),crypto=__webpack_require__(28),noop=()=>{},{createHash:createHash}=crypto,graphiql_html_1=(__webpack_require__(517),__webpack_require__(518)),subscriptions_1=__webpack_require__(203),JS_ESCAPE_LOOKUP={"<":"\\u003c",">":"\\u003e","/":"\\u002f","\u2028":"\\u2028","\u2029":"\\u2029"};let lastString,lastHash;function isEmpty(value){for(const _key in value)return!1;return!0}exports.isEmpty=isEmpty;const debugGraphql=Debugger("postgraphile:graphql"),debugRequest=Debugger("postgraphile:request");function withPostGraphileContextFromReqResGenerator(options){const{pgSettings:pgSettingsGenerator,allowExplain:allowExplainGenerator,jwtSecret:jwtSecret,additionalGraphQLContextFromRequest:additionalGraphQLContextFromRequest}=options;return async(req,res,moreOptions,fn)=>{const jwtToken=jwtSecret?function(request){const{authorization:authorization}=request.headers;if(Array.isArray(authorization))throw createBadAuthorizationHeaderError();if(null==authorization)return null;const match=authorizationBearerRex.exec(authorization);if(!match)throw createBadAuthorizationHeaderError();return match[1]}(req):null,additionalContext="function"==typeof additionalGraphQLContextFromRequest?await additionalGraphQLContextFromRequest(req,res):null,pgSettings="function"==typeof pgSettingsGenerator?await pgSettingsGenerator(req):pgSettingsGenerator,allowExplain="function"==typeof allowExplainGenerator?await allowExplainGenerator(req):allowExplainGenerator;return withPostGraphileContext_1.default({...options,jwtToken:jwtToken,pgSettings:pgSettings,explain:allowExplain&&"on"===req.headers["x-postgraphile-explain"],...moreOptions},context=>{const graphqlContext=additionalContext?{...additionalContext,...context}:context;return fn(graphqlContext)})}}function createBadAuthorizationHeaderError(){return httpError(400,"Authorization header is not of the correct bearer scheme format.")}exports.default=function(options){const MEGABYTE=1048576,{getGqlSchema:getGqlSchema,pgPool:pgPool,pgSettings:pgSettings,pgDefaultRole:pgDefaultRole,queryCacheMaxSize:queryCacheMaxSize=50*MEGABYTE,extendedErrors:extendedErrors,showErrorStack:showErrorStack,watchPg:watchPg,disableQueryLog:disableQueryLog,enableQueryBatching:enableQueryBatching}=options,subscriptions=!!options.subscriptions,live=!!options.live,enhanceGraphiql=!1!==options.enhanceGraphiql&&(!!options.enhanceGraphiql||subscriptions||live),enableCors=!!options.enableCors||!1,graphiql=!0===options.graphiql;if(options.absoluteRoutes)throw new Error("Sorry - the `absoluteRoutes` setting has been replaced with `externalUrlBase` which solves the issue in a cleaner way. Please update your settings. Thank you for testing a PostGraphile pre-release ");let externalUrlBase=options.externalUrlBase;if(externalUrlBase&&externalUrlBase.endsWith("/"))throw new Error("externalUrlBase must not end with a slash (`/`)");const pluginHook=pluginHook_1.pluginHookFromOptions(options),origGraphiqlHtml=pluginHook("postgraphile:graphiql:html",graphiql_html_1.default,{options:options});if(pgDefaultRole&&"function"==typeof pgSettings)throw new Error("pgDefaultRole cannot be combined with pgSettings(req) - please remove pgDefaultRole and instead always return a `role` key from pgSettings(req).");if(pgDefaultRole&&pgSettings&&"object"==typeof pgSettings&&Object.keys(pgSettings).map(s=>s.toLowerCase()).includes("role"))throw new Error("pgDefaultRole cannot be combined with pgSettings.role - please use one or the other.");if(graphiql)throw new Error("Cannot enable GraphiQL when POSTGRAPHILE_OMIT_ASSETS is set");const graphqlRoute=options.graphqlRoute||"/graphql",graphiqlRoute=graphiql?options.graphiqlRoute||"/graphiql":null,streamRoute=graphqlRoute.replace(/\/*$/,"")+"/stream";if(graphqlRoute===graphiqlRoute)throw new Error(`Cannot use the same route, '${graphqlRoute}', for both GraphQL and GraphiQL. Please use different routes.`);const formatError=error=>{const formattedError=extendedErrors&&extendedErrors.length?extendedFormatError_1.extendedFormatError(error,extendedErrors):graphql_1.formatError(error);return showErrorStack&&(formattedError.stack=null!=error.stack&&"json"===showErrorStack?error.stack.split("\n"):error.stack),formattedError},handleErrors=options.handleErrors||(errors=>errors.map(formatError)),bodyParserMiddlewaresComposed=[function(req,_res,next){req._koaCtx&&req._koaCtx.request&&req._koaCtx.request.body&&(req._body=!0,req.body=req._koaCtx.request.body),next()},bodyParser.json({limit:options.bodySizeLimit}),bodyParser.urlencoded({extended:!1,limit:options.bodySizeLimit}),bodyParser.text({type:"application/graphql",limit:options.bodySizeLimit})].reduce((parent,fn)=>(req,res,next)=>{parent(req,res,error=>{if(error)return next(error);fn(req,res,next)})},(_req,_res,next)=>next());let graphiqlHtml;const withPostGraphileContextFromReqRes=withPostGraphileContextFromReqResGenerator(options),staticValidationRules=pluginHook("postgraphile:validationRules:static",graphql_1.specifiedRules,{options:options}),queryCache=new lru_1.default({maxLength:Math.ceil(queryCacheMaxSize/1e5)});let lastGqlSchema;const parseQuery=(gqlSchema,queryString)=>{gqlSchema!==lastGqlSchema&&(queryCache.reset(),lastGqlSchema=gqlSchema);const canCache=queryCacheMaxSize>0&&queryString.length<1e5,hash=canCache?(queryString=>(queryString!==lastString&&(lastString=queryString,lastHash=createHash("sha1").update(queryString).digest("base64")),lastHash))(queryString):null,result=canCache?queryCache.get(hash):null;if(result)return result;{const source=new graphql_1.Source(queryString,"GraphQL Http Request");let queryDocumentAst;try{queryDocumentAst=graphql_1.parse(source)}catch(error){throw error.statusCode=400,error}debugRequest.enabled&&debugRequest("GraphQL query is parsed.");const cacheResult={queryDocumentAst:queryDocumentAst,validationErrors:graphql_1.validate(gqlSchema,queryDocumentAst,staticValidationRules),length:queryString.length};return canCache&&queryCache.set(hash,cacheResult),cacheResult}};let firstRequestHandler=(req,pathname)=>{if(firstRequestHandler=null,null==externalUrlBase){const{pathname:originalPathname=""}=parseUrl.original(req)||{};originalPathname!==pathname&&originalPathname.endsWith(pathname)&&(externalUrlBase=originalPathname.substr(0,originalPathname.length-pathname.length)),externalUrlBase=externalUrlBase||""}var obj;if(graphiqlHtml=origGraphiqlHtml?origGraphiqlHtml.replace(/<\/head>/,`  <script>window.POSTGRAPHILE_CONFIG=${obj={graphqlUrl:`${externalUrlBase}${graphqlRoute}`,streamUrl:watchPg?`${externalUrlBase}${streamRoute}`:null,enhanceGraphiql:enhanceGraphiql,subscriptions:subscriptions,allowExplain:"function"==typeof options.allowExplain?"__SHOULD_ALLOW_EXPLAIN__":!!options.allowExplain},JSON.stringify(obj).replace(/[<>/\u2028\u2029]/g,chr=>JS_ESCAPE_LOOKUP[chr])};<\/script>\n  </head>`):null,subscriptions){const server=req&&req.connection&&req.connection.server;server?subscriptions_1.enhanceHttpServerWithSubscriptions(server,middleware):console.warn("Failed to find server to add websocket listener to, you'll need to call `enhanceHttpServerWithSubscriptions` manually")}},theOneAndOnlyGraphQLSchema=null;watchPg||getGqlSchema().then(schema=>{theOneAndOnlyGraphQLSchema=schema}).catch(noop);const requestHandler=async(incomingReq,res,next)=>{const req=pluginHook("postgraphile:http:handler",incomingReq,{options:options,res:res,next:next});if(null==req)return;enableCors&&function(res){res.setHeader("Access-Control-Allow-Origin","*"),res.setHeader("Access-Control-Allow-Methods","HEAD, GET, POST"),res.setHeader("Access-Control-Allow-Headers",["Origin","X-Requested-With","Accept","Authorization","X-Apollo-Tracing","Content-Type","Content-Length","X-PostGraphile-Explain"].join(", ")),res.setHeader("Access-Control-Expose-Headers",["X-GraphQL-Event-Stream"].join(", "))}(res);const{pathname:pathname=""}=parseUrl(req)||{};firstRequestHandler&&firstRequestHandler(req,pathname);const isGraphqlRoute=pathname===graphqlRoute;if(!isGraphqlRoute)return next();if(res.statusCode=200,watchPg&&res.setHeader("X-GraphQL-Event-Stream",`${externalUrlBase}${streamRoute}`),"OPTIONS"===req.method)return res.statusCode=200,void res.end();let paramsList,results=[];const queryTimeStart=!disableQueryLog&&process.hrtime();let pgRole;debugRequest.enabled&&debugRequest("GraphQL query request has begun.");let returnArray=!1;try{const gqlSchema=theOneAndOnlyGraphQLSchema||await getGqlSchema();if(await((req,res)=>new Promise((resolve,reject)=>{bodyParserMiddlewaresComposed(req,res,error=>{error?reject(error):resolve()})}))(req,res),"POST"!==req.method)throw res.setHeader("Allow","POST, OPTIONS"),httpError(405,"Only `POST` requests are allowed.");const body=req.body;if(paramsList="string"==typeof body?{query:body}:body,null==paramsList)throw httpError(400,"Must provide an object parameters, not nullish value.");if("object"!=typeof paramsList)throw httpError(400,`Expected parameter object, not value of type '${typeof paramsList}'.`);if(Array.isArray(paramsList)){if(!enableQueryBatching)throw httpError(501,"Batching queries as an array is currently unsupported. Please provide a single query object.");returnArray=!0}else paramsList=[paramsList];paramsList=pluginHook("postgraphile:httpParamsList",paramsList,{options:options,req:req,res:res,returnArray:returnArray,httpError:httpError}),results=await Promise.all(paramsList.map(async params=>{let result,queryDocumentAst=null;const meta=Object.create(null);try{if(!params)throw httpError(400,"Invalid query structure.");const{query:query,operationName:operationName}=params;let validationErrors,{variables:variables}=params;if(!query)throw httpError(400,"Must provide a query string.");if("string"==typeof variables)if(""===variables)variables=null;else try{variables=JSON.parse(variables)}catch(error){throw error.statusCode=400,error}if(null!=variables&&"object"!=typeof variables)throw httpError(400,`Variables must be an object, not '${typeof variables}'.`);if(null!=operationName&&"string"!=typeof operationName)throw httpError(400,`Operation name must be a string, not '${typeof operationName}'.`);if(({queryDocumentAst:queryDocumentAst,validationErrors:validationErrors}=parseQuery(gqlSchema,query)),0===validationErrors.length){const moreValidationRules=pluginHook("postgraphile:validationRules",[],{options:options,req:req,res:res,variables:variables,operationName:operationName,meta:meta});moreValidationRules.length&&(validationErrors=graphql_1.validate(gqlSchema,queryDocumentAst,moreValidationRules))}if(validationErrors.length>0)result={errors:validationErrors,statusCode:400};else{if(!queryDocumentAst)throw new Error("Could not process query");debugRequest.enabled&&debugRequest("GraphQL query is validated."),debugGraphql.enabled&&debugGraphql("%s",graphql_1.print(queryDocumentAst).replace(/\s+/g," ").trim()),result=await withPostGraphileContextFromReqRes(req,res,{singleStatement:!1,queryDocumentAst:queryDocumentAst,variables:variables,operationName:operationName},graphqlContext=>{pgRole=graphqlContext.pgRole;const graphqlResult=graphql_1.execute(gqlSchema,queryDocumentAst,null,graphqlContext,variables,operationName);return"function"==typeof graphqlContext.getExplainResults?Promise.resolve(graphqlResult).then(async obj=>({...obj,explain:await graphqlContext.getExplainResults()})):graphqlResult})}}catch(error){result={errors:[error],statusCode:error.status||error.statusCode||500},500===result.statusCode&&console.error(error.stack)}finally{if(result&&result.errors&&(result.errors=handleErrors(result.errors,req,res)),isEmpty(meta)||(result.meta=meta),result=pluginHook("postgraphile:http:result",result,{options:options,returnArray:returnArray,queryDocumentAst:queryDocumentAst,req:req,pgRole:pgRole}),!disableQueryLog&&queryDocumentAst){const definitelyQueryDocumentAst=queryDocumentAst,resultStatusCode=result.statusCode,timeDiff=queryTimeStart&&process.hrtime(queryTimeStart);setImmediate(()=>{const prettyQuery=graphql_1.print(definitelyQueryDocumentAst).replace(/\s+/g," ").trim(),errorCount=(result.errors||[]).length,ms=1e3*timeDiff[0]+1e-6*timeDiff[1];let message;message=401===resultStatusCode?chalk_1.default.red("401 authentication error"):403===resultStatusCode?chalk_1.default.red("403 forbidden error"):chalk_1.default[0===errorCount?"green":"red"](errorCount+" error(s)"),console.log(`${message} ${null!=pgRole?`as ${chalk_1.default.magenta(pgRole)} `:""}in ${chalk_1.default.grey(ms.toFixed(2)+"ms")} :: ${prettyQuery}`)})}debugRequest.enabled&&debugRequest("GraphQL query has been executed.")}return result}))}catch(error){200===res.statusCode&&(res.statusCode=error.status||error.statusCode||500),returnArray=!1,results=[{errors:[error]}],500===res.statusCode&&console.error(error.stack)}finally{returnArray||(200===res.statusCode&&results[0].statusCode&&(res.statusCode=results[0].statusCode),results[0].statusCode=void 0),res.setHeader("Content-Type","application/json; charset=utf-8");const{statusCode:statusCode,result:result}=pluginHook("postgraphile:http:end",{statusCode:res.statusCode,result:returnArray?results:results[0]},{options:options,returnArray:returnArray,req:req,res:res});statusCode&&(res.statusCode=statusCode),res.end(JSON.stringify(result)),debugRequest.enabled&&debugRequest("GraphQL "+(returnArray?"queries":"query")+" request finished.")}},middleware=(a,b,c)=>{if(koaMiddleware_1.isKoaApp(a,b)){const ctx=a,next=b;return koaMiddleware_1.middleware(ctx,next,requestHandler)}{const req=a,res=b,next=c||finalHandler(req,res);requestHandler(req,res,next).catch(next)}};middleware.getGraphQLSchema=getGqlSchema,middleware.formatError=formatError,middleware.pgPool=pgPool,middleware.withPostGraphileContextFromReqRes=withPostGraphileContextFromReqRes,middleware.handleErrors=handleErrors,middleware.options=options;const hookedMiddleware=pluginHook("postgraphile:middleware",middleware,{options:options});if(!hookedMiddleware.getGraphQLSchema)throw new Error("Hook for 'postgraphile:middleware' has not copied over the helpers; e.g. missing `Object.assign(newMiddleware, oldMiddleware)`");return hookedMiddleware};const authorizationBearerRex=/^\s*bearer\s+([a-z0-9\-._~+/]+=*)\s*$/i},function(module){module.exports=JSON.parse('{"name":"postgraphile","version":"4.7.0","description":"A GraphQL schema created by reflection over a PostgreSQL schema  (previously known as PostGraphQL)","author":"Benjie Gillam <benjie@graphile.org> (https://twitter.com/benjie)","license":"MIT","homepage":"https://www.graphile.org/postgraphile/","keywords":["graphql","engine","pg","postgres","postgresql","postgraphql","schema","reflection","introspection","server","relay","connection","graphile","graphile engine","graphql engine","graphile-build"],"bugs":{"url":"https://github.com/graphile/postgraphile/issues"},"repository":"github:graphile/postgraphile","main":"index.js","types":"build/index.d.ts","bin":{"postgraphile":"cli.js"},"scripts":{"build":"./scripts/build","dev":"./scripts/dev","lint":"eslint --ext .ts,.js .","lint:fix":"yarn run lint --fix","make-assets":"./scripts/make-assets","prettier":"prettier \'src/**/*.[tj]s\' \'postgraphiql/src/**/*.[tj]s\'","prettier:fix":"yarn prettier --write","prettier:check":"yarn prettier --list-different","test":"./scripts/test","prepack":"./scripts/build","changelog":"(cat scripts/CHANGELOG_HEADER.md; npx conventional-changelog -p angular --release-count 0) > CHANGELOG.md","version":"yarn run changelog && git add CHANGELOG.md"},"dependencies":{"@graphile/lru":"4.5.0","@types/json5":"^0.0.30","@types/jsonwebtoken":"^8.3.2","@types/koa":"^2.0.44","@types/pg":"^7.4.10","@types/ws":"^6.0.1","body-parser":"^1.15.2","chalk":"^2.4.2","commander":"^2.19.0","debug":"^4.1.1","finalhandler":"^1.0.6","graphile-utils":"^4.7.0","graphql":"^0.6.0 || ^0.7.0 || ^0.8.0-b || ^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0 || ^14.0.2","http-errors":"^1.5.1","iterall":"^1.0.2","json5":"^2.1.1","jsonwebtoken":"^8.0.0","parseurl":"^1.3.2","pg":">=6.1.0 <9","pg-connection-string":"^2.0.0","pg-sql2":"4.7.0","postgraphile-core":"4.7.0","subscriptions-transport-ws":"^0.9.15","tslib":"^1.5.0","ws":"^6.1.3"},"devDependencies":{"@babel/core":"7.4.3","@babel/plugin-proposal-class-properties":"7.4.0","@babel/plugin-transform-runtime":"7.4.3","@babel/preset-env":"7.4.3","@babel/preset-react":"7.0.0","@babel/runtime":"7.4.3","@types/chalk":"^2.2.0","@types/commander":"^2.12.2","@types/debug":"^4.1.4","@types/finalhandler":"^1.1.0","@types/http-errors":"^1.6.1","@types/jest":"^24.0.11","@types/lru-cache":">=4 <5","@types/node":"^10.9.4","@types/parseurl":"^1.3.1","@typescript-eslint/eslint-plugin":"^2.3.0","@typescript-eslint/parser":"^2.3.0","babel-loader":"8.0.5","connect":"^3.5.0","conventional-changelog-cli":"^2.0.27","css-loader":"2.1.1","eslint":"^6.4.0","eslint-config-prettier":"^6.3.0","eslint-plugin-jest":"^22.17.0","eslint-plugin-prettier":"^3.1.1","express":"^4.14.0","fastify":"^2.2.0","html-webpack-inline-source-plugin":"^0.0.10","html-webpack-plugin":"^3.2.0","jest":"^24.7.1","koa":"^2.5.1","koa-compress":"^3.0.0","koa-mount":"^4.0.0","nodemon":"^1.11.0","pg-minify":"~1.0.0","prettier":"^1.18.2","source-map-support":"^0.5.12","style-loader":"^0.23.0","superagent":"^4.1.0","ts-node":"^8.1.0","typescript":"^3.4.3","webpack":"^4.17.2"},"jest":{"transform":{".*":"<rootDir>/resources/jest-preprocessor.js"},"moduleFileExtensions":["ts","js","json"],"setupFiles":["<rootDir>/resources/jest-setup.js"],"browser":false,"testEnvironment":"node","roots":["<rootDir>/src"],"testRegex":"/__tests__/[^.]+-test.(t|j)s$"},"files":["sponsors.json","build","build-turbo","isTurbo.js","index.js","cli.js","plugins.js","plugins.d.ts"],"engines":{"node":">=8.6"}}')},function(module,exports,__webpack_require__){"use strict";
/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var deprecate=__webpack_require__(89)("http-errors"),setPrototypeOf=__webpack_require__(190),statuses=__webpack_require__(118),inherits=__webpack_require__(477),toIdentifier=__webpack_require__(191);function codeClass(status){return Number(String(status).charAt(0)+"00")}function nameFunc(func,name){var desc=Object.getOwnPropertyDescriptor(func,"name");desc&&desc.configurable&&(desc.value=name,Object.defineProperty(func,"name",desc))}module.exports=function createError(){for(var err,msg,status=500,props={},i=0;i<arguments.length;i++){var arg=arguments[i];if(arg instanceof Error)status=(err=arg).status||err.statusCode||status;else switch(typeof arg){case"string":msg=arg;break;case"number":status=arg,0!==i&&deprecate("non-first-argument status code; replace with createError("+arg+", ...)");break;case"object":props=arg}}"number"==typeof status&&(status<400||status>=600)&&deprecate("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof status||!statuses[status]&&(status<400||status>=600))&&(status=500);var HttpError=createError[status]||createError[codeClass(status)];err||(err=HttpError?new HttpError(msg):new Error(msg||statuses[status]),Error.captureStackTrace(err,createError));HttpError&&err instanceof HttpError&&err.status===status||(err.expose=status<500,err.status=err.statusCode=status);for(var key in props)"status"!==key&&"statusCode"!==key&&(err[key]=props[key]);return err},module.exports.HttpError=function(){function HttpError(){throw new TypeError("cannot construct abstract class")}return inherits(HttpError,Error),HttpError}(),function(exports,codes,HttpError){codes.forEach((function(code){var CodeError,name=toIdentifier(statuses[code]);switch(codeClass(code)){case 400:CodeError=function(HttpError,name,code){var className=name.match(/Error$/)?name:name+"Error";function ClientError(message){var msg=null!=message?message:statuses[code],err=new Error(msg);return Error.captureStackTrace(err,ClientError),setPrototypeOf(err,ClientError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ClientError,HttpError),nameFunc(ClientError,className),ClientError.prototype.status=code,ClientError.prototype.statusCode=code,ClientError.prototype.expose=!0,ClientError}(HttpError,name,code);break;case 500:CodeError=function(HttpError,name,code){var className=name.match(/Error$/)?name:name+"Error";function ServerError(message){var msg=null!=message?message:statuses[code],err=new Error(msg);return Error.captureStackTrace(err,ServerError),setPrototypeOf(err,ServerError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ServerError,HttpError),nameFunc(ServerError,className),ServerError.prototype.status=code,ServerError.prototype.statusCode=code,ServerError.prototype.expose=!1,ServerError}(HttpError,name,code)}CodeError&&(exports[code]=CodeError,exports[name]=CodeError)})),exports["I'mateapot"]=deprecate.function(exports.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(module.exports,statuses.codes,module.exports.HttpError)},function(module,exports,__webpack_require__){"use strict";
/*!
 * depd
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var EventEmitter=__webpack_require__(29).EventEmitter;function lazyProperty(obj,prop,getter){Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,get:function(){var val=getter();return Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val}),val}})}function toString(obj){return obj.toString()}lazyProperty(module.exports,"callSiteToString",(function(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=function(obj,stack){return stack},Error.stackTraceLimit=2,Error.captureStackTrace(obj);var stack=obj.stack.slice();return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack[0].toString?toString:__webpack_require__(474)})),lazyProperty(module.exports,"eventListenerCount",(function(){return EventEmitter.listenerCount||__webpack_require__(475)}))},function(module,exports,__webpack_require__){"use strict";module.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(obj,proto){return obj.__proto__=proto,obj}:function(obj,proto){for(var prop in proto)obj.hasOwnProperty(prop)||(obj[prop]=proto[prop]);return obj})},function(module,exports){
/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */
module.exports=function(str){return str.split(" ").map((function(token){return token.slice(0,1).toUpperCase()+token.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},function(module,exports,__webpack_require__){"use strict";
/*!
 * finalhandler
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var debug=__webpack_require__(479)("finalhandler"),encodeUrl=__webpack_require__(483),escapeHtml=__webpack_require__(484),onFinished=__webpack_require__(194),parseUrl=__webpack_require__(90),statuses=__webpack_require__(118),unpipe=__webpack_require__(195),DOUBLE_SPACE_REGEXP=/\x20{2}/g,NEWLINE_REGEXP=/\n/g,defer="function"==typeof setImmediate?setImmediate:function(fn){process.nextTick(fn.bind.apply(fn,arguments))},isFinished=onFinished.isFinished;function headersSent(res){return"boolean"!=typeof res.headersSent?Boolean(res._header):res.headersSent}module.exports=function(req,res,options){var opts=options||{},env=opts.env||"production",onerror=opts.onerror;return function(err){var headers,msg,status;if(err||!headersSent(res)){if(err?(void 0===(status=function(err){if("number"==typeof err.status&&err.status>=400&&err.status<600)return err.status;if("number"==typeof err.statusCode&&err.statusCode>=400&&err.statusCode<600)return err.statusCode;return}(err))?status=function(res){var status=res.statusCode;("number"!=typeof status||status<400||status>599)&&(status=500);return status}(res):headers=function(err){if(!err.headers||"object"!=typeof err.headers)return;for(var headers=Object.create(null),keys=Object.keys(err.headers),i=0;i<keys.length;i++){var key=keys[i];headers[key]=err.headers[key]}return headers}(err),msg=function(err,status,env){var msg;"production"!==env&&((msg=err.stack)||"function"!=typeof err.toString||(msg=err.toString()));return msg||statuses[status]}(err,status,env)):(status=404,msg="Cannot "+req.method+" "+encodeUrl(function(req){try{return parseUrl.original(req).pathname}catch(e){return"resource"}}(req))),debug("default %s",status),err&&onerror&&defer(onerror,err,req,res),headersSent(res))return debug("cannot %d after headers sent",status),void req.socket.destroy();!function(req,res,status,headers,message){function write(){var body=function(message){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Error</title>\n</head>\n<body>\n<pre>'+escapeHtml(message).replace(NEWLINE_REGEXP,"<br>").replace(DOUBLE_SPACE_REGEXP," &nbsp;")+"</pre>\n</body>\n</html>\n"}(message);res.statusCode=status,res.statusMessage=statuses[status],function(res,headers){if(!headers)return;for(var keys=Object.keys(headers),i=0;i<keys.length;i++){var key=keys[i];res.setHeader(key,headers[key])}}(res,headers),res.setHeader("Content-Security-Policy","default-src 'none'"),res.setHeader("X-Content-Type-Options","nosniff"),res.setHeader("Content-Type","text/html; charset=utf-8"),res.setHeader("Content-Length",Buffer.byteLength(body,"utf8")),"HEAD"!==req.method?res.end(body,"utf8"):res.end()}if(isFinished(req))return void write();unpipe(req),onFinished(req,write),req.resume()}(req,res,status,headers,msg)}else debug("cannot 404 after headers sent")}}},function(module,exports,__webpack_require__){var prevTime;function createDebug(namespace){function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=function(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}(namespace),"function"==typeof exports.init&&exports.init(debug),debug}(exports=module.exports=createDebug.debug=createDebug.default=createDebug).coerce=function(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function(){exports.enable("")},exports.enable=function(namespaces){exports.save(namespaces),exports.names=[],exports.skips=[];for(var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length,i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))},exports.enabled=function(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=__webpack_require__(481),exports.names=[],exports.skips=[],exports.formatters={}},function(module,exports,__webpack_require__){"use strict";
/*!
 * on-finished
 * Copyright(c) 2013 Jonathan Ong
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(msg,listener){if(!1!==isFinished(msg))return defer(listener,null,msg),msg;return function(msg,listener){var attached=msg.__onFinished;attached&&attached.queue||(attached=msg.__onFinished=function(msg){function listener(err){if(msg.__onFinished===listener&&(msg.__onFinished=null),listener.queue){var queue=listener.queue;listener.queue=null;for(var i=0;i<queue.length;i++)queue[i](err,msg)}}return listener.queue=[],listener}(msg),function(msg,callback){var eeMsg,eeSocket,finished=!1;function onFinish(error){eeMsg.cancel(),eeSocket.cancel(),finished=!0,callback(error)}function onSocket(socket){msg.removeListener("socket",onSocket),finished||eeMsg===eeSocket&&(eeSocket=first([[socket,"error","close"]],onFinish))}if(eeMsg=eeSocket=first([[msg,"end","finish"]],onFinish),msg.socket)return void onSocket(msg.socket);msg.on("socket",onSocket),void 0===msg.socket&&function(res,callback){var assignSocket=res.assignSocket;if("function"!=typeof assignSocket)return;res.assignSocket=function(socket){assignSocket.call(this,socket),callback(socket)}}(msg,onSocket)}(msg,attached));attached.queue.push(listener)}(msg,listener),msg},module.exports.isFinished=isFinished;var first=__webpack_require__(485),defer="function"==typeof setImmediate?setImmediate:function(fn){process.nextTick(fn.bind.apply(fn,arguments))};function isFinished(msg){var socket=msg.socket;return"boolean"==typeof msg.finished?Boolean(msg.finished||socket&&!socket.writable):"boolean"==typeof msg.complete?Boolean(msg.upgrade||!socket||!socket.readable||msg.complete&&!msg.readable):void 0}},function(module,exports,__webpack_require__){"use strict";
/*!
 * unpipe
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(stream){if(!stream)throw new TypeError("argument stream is required");if("function"==typeof stream.unpipe)return void stream.unpipe();if(!function(stream){for(var listeners=stream.listeners("data"),i=0;i<listeners.length;i++)if("ondata"===listeners[i].name)return!0;return!1}(stream))return;for(var listener,listeners=stream.listeners("close"),i=0;i<listeners.length;i++)"cleanup"!==(listener=listeners[i]).name&&"onclose"!==listener.name||listener.call(stream)}},function(module,exports,__webpack_require__){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var deprecate=__webpack_require__(89)("body-parser"),parsers=Object.create(null);function createParserGetter(name){return function(){return function(parserName){var parser=parsers[parserName];if(void 0!==parser)return parser;switch(parserName){case"json":parser=__webpack_require__(486);break;case"raw":parser=__webpack_require__(510);break;case"text":parser=__webpack_require__(511);break;case"urlencoded":parser=__webpack_require__(512)}return parsers[parserName]=parser}(name)}}exports=module.exports=deprecate.function((function(options){var opts={};if(options)for(var prop in options)"type"!==prop&&(opts[prop]=options[prop]);var _urlencoded=exports.urlencoded(opts),_json=exports.json(opts);return function(req,res,next){_json(req,res,(function(err){if(err)return next(err);_urlencoded(req,res,next)}))}}),"bodyParser: use individual json/urlencoded middlewares"),Object.defineProperty(exports,"json",{configurable:!0,enumerable:!0,get:createParserGetter("json")}),Object.defineProperty(exports,"raw",{configurable:!0,enumerable:!0,get:createParserGetter("raw")}),Object.defineProperty(exports,"text",{configurable:!0,enumerable:!0,get:createParserGetter("text")}),Object.defineProperty(exports,"urlencoded",{configurable:!0,enumerable:!0,get:createParserGetter("urlencoded")})},function(module,exports,__webpack_require__){var prevTime;function createDebug(namespace){function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=function(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}(namespace),"function"==typeof exports.init&&exports.init(debug),debug}(exports=module.exports=createDebug.debug=createDebug.default=createDebug).coerce=function(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function(){exports.enable("")},exports.enable=function(namespaces){exports.save(namespaces),exports.names=[],exports.skips=[];for(var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length,i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))},exports.enabled=function(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=__webpack_require__(490),exports.names=[],exports.skips=[],exports.formatters={}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(58).Buffer,bomHandling=__webpack_require__(493),iconv=module.exports;iconv.encodings=null,iconv.defaultCharUnicode="",iconv.defaultCharSingleByte="?",iconv.encode=function(str,encoding,options){str=""+(str||"");var encoder=iconv.getEncoder(encoding,options),res=encoder.write(str),trail=encoder.end();return trail&&trail.length>0?Buffer.concat([res,trail]):res},iconv.decode=function(buf,encoding,options){"string"==typeof buf&&(iconv.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),iconv.skipDecodeWarning=!0),buf=Buffer.from(""+(buf||""),"binary"));var decoder=iconv.getDecoder(encoding,options),res=decoder.write(buf),trail=decoder.end();return trail?res+trail:res},iconv.encodingExists=function(enc){try{return iconv.getCodec(enc),!0}catch(e){return!1}},iconv.toEncoding=iconv.encode,iconv.fromEncoding=iconv.decode,iconv._codecDataCache={},iconv.getCodec=function(encoding){iconv.encodings||(iconv.encodings=__webpack_require__(494));for(var enc=iconv._canonicalizeEncoding(encoding),codecOptions={};;){var codec=iconv._codecDataCache[enc];if(codec)return codec;var codecDef=iconv.encodings[enc];switch(typeof codecDef){case"string":enc=codecDef;break;case"object":for(var key in codecDef)codecOptions[key]=codecDef[key];codecOptions.encodingName||(codecOptions.encodingName=enc),enc=codecDef.type;break;case"function":return codecOptions.encodingName||(codecOptions.encodingName=enc),codec=new codecDef(codecOptions,iconv),iconv._codecDataCache[codecOptions.encodingName]=codec,codec;default:throw new Error("Encoding not recognized: '"+encoding+"' (searched as: '"+enc+"')")}}},iconv._canonicalizeEncoding=function(encoding){return(""+encoding).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},iconv.getEncoder=function(encoding,options){var codec=iconv.getCodec(encoding),encoder=new codec.encoder(options,codec);return codec.bomAware&&options&&options.addBOM&&(encoder=new bomHandling.PrependBOM(encoder,options)),encoder},iconv.getDecoder=function(encoding,options){var codec=iconv.getCodec(encoding),decoder=new codec.decoder(options,codec);return!codec.bomAware||options&&!1===options.stripBOM||(decoder=new bomHandling.StripBOM(decoder,options)),decoder};var nodeVer="undefined"!=typeof process&&process.versions&&process.versions.node;if(nodeVer){var nodeVerArr=nodeVer.split(".").map(Number);(nodeVerArr[0]>0||nodeVerArr[1]>=10)&&__webpack_require__(508)(iconv),__webpack_require__(509)(iconv)}},function(module){module.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},function(module){module.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function(target,source){return Object.keys(source).reduce((function(acc,key){return acc[key]=source[key],acc}),target)},combine:function(a,b){return[].concat(a,b)},compact:function(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function(str,defaultEncoder,charset){if(0===str.length)return str;var string="string"==typeof str?str:String(str);if("iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,(function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"}));for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function(obj){return!(!obj||"object"!=typeof obj)&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach((function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item})),target):Object.keys(source).reduce((function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc}),mergeTarget)}}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return value}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const http_1=__webpack_require__(50),graphql_1=__webpack_require__(20),WebSocket=__webpack_require__(519),subscriptions_transport_ws_1=__webpack_require__(522),parseUrl=__webpack_require__(90),pluginHook_1=__webpack_require__(73),createPostGraphileHttpRequestHandler_1=__webpack_require__(186),liveSubscribe_1=__webpack_require__(537);exports.enhanceHttpServerWithSubscriptions=async function(websocketServer,postgraphileMiddleware,subscriptionServerOptions){if(websocketServer.__postgraphileSubscriptionsEnabled)return;websocketServer.__postgraphileSubscriptionsEnabled=!0;const{options:options,getGraphQLSchema:getGraphQLSchema,withPostGraphileContextFromReqRes:withPostGraphileContextFromReqRes,handleErrors:handleErrors}=postgraphileMiddleware,pluginHook=pluginHook_1.pluginHookFromOptions(options),externalUrlBase=options.externalUrlBase||"",graphqlRoute=options.graphqlRoute||"/graphql",schema=await getGraphQLSchema(),keepalivePromisesByContextKey={},contextKey=(ws,opId)=>ws.postgraphileId+"|"+opId,releaseContextForSocketAndOpId=(ws,opId)=>{const promise=keepalivePromisesByContextKey[contextKey(ws,opId)];promise&&(promise.resolve(),keepalivePromisesByContextKey[contextKey(ws,opId)]=null)},addContextForSocketAndOpId=(context,ws,opId)=>{releaseContextForSocketAndOpId(ws,opId);const promise=function(){let resolve,reject;const promise=new Promise((_resolve,_reject)=>{resolve=_resolve,reject=_reject});return Object.assign(promise,{resolve:resolve,reject:reject})}();return promise.context=context,keepalivePromisesByContextKey[contextKey(ws,opId)]=promise,promise},reqResFromSocket=async socket=>{const req=socket.__postgraphileReq;if(!req)throw new Error("req could not be extracted");let dummyRes=socket.__postgraphileRes;if(req.res)throw new Error("Please get in touch with Benjie; we weren't expecting req.res to be present but we want to reserve it for future usage.");return dummyRes||(dummyRes=new http_1.ServerResponse(req),dummyRes.writeHead=(statusCode,_statusMessage,headers)=>{statusCode&&statusCode>200?(console.error(`Something used 'writeHead' to write a '${statusCode}' error for websockets - check the middleware you're passing!`),socket.close()):headers&&(console.error("Passing headers to 'writeHead' is not supported with websockets currently - check the middleware you're passing"),socket.close())},await(async(middlewares=[],req,res)=>{for(const middleware of middlewares)await new Promise((resolve,reject)=>{middleware(req,res,err=>err?reject(err):resolve())})})(options.websocketMiddlewares,req,dummyRes),socket.__postgraphileRes=dummyRes),{req:req,res:dummyRes}},wss=new WebSocket.Server({noServer:!0});let socketId=0;websocketServer.on("upgrade",(req,socket,head)=>{const{pathname:pathname=""}=parseUrl(req)||{};pathname===externalUrlBase+graphqlRoute&&wss.handleUpgrade(req,socket,head,ws=>{wss.emit("connection",ws,req)})});const staticValidationRules=pluginHook("postgraphile:validationRules:static",graphql_1.specifiedRules,{options:options});subscriptions_transport_ws_1.SubscriptionServer.create({schema:schema,validationRules:staticValidationRules,execute:()=>{throw new Error("Only subscriptions are allowed over websocket transport")},subscribe:options.live?liveSubscribe_1.default:graphql_1.subscribe,onConnect(connectionParams,_socket,connectionContext){const{socket:socket,request:request}=connectionContext;if(socket.postgraphileId=++socketId,!request)throw new Error("No request!");const normalizedConnectionParams=(obj=connectionParams,Object.keys(obj).reduce((memo,key)=>(memo[key.toLowerCase()]=obj[key],memo),{}));var obj;request.connectionParams=connectionParams,request.normalizedConnectionParams=normalizedConnectionParams,socket.__postgraphileReq=request,!request.headers.authorization&&normalizedConnectionParams.authorization&&(request.headers.authorization=String(normalizedConnectionParams.authorization)),socket.postgraphileHeaders={...normalizedConnectionParams,...request.headers}},async onOperation(message,params,socket){const opId=message.id,context=await((socket,opId)=>new Promise((resolve,reject)=>{reqResFromSocket(socket).then(({req:req,res:res})=>withPostGraphileContextFromReqRes(req,res,{singleStatement:!0},context=>{const promise=addContextForSocketAndOpId(context,socket,opId);return resolve(promise.context),promise})).then(null,reject)}))(socket,opId);params.schema=await getGraphQLSchema(),Object.assign(params.context,context);const{req:req,res:res}=await reqResFromSocket(socket),meta={};params.formatResponse=response=>(response.errors&&(response.errors=handleErrors(response.errors,req,res)),createPostGraphileHttpRequestHandler_1.isEmpty(meta)||(response.meta=meta),response);const hookedParams=pluginHook?pluginHook("postgraphile:ws:onOperation",params,{message:message,params:params,socket:socket,options:options}):params,finalParams={...hookedParams,query:"string"!=typeof hookedParams.query?hookedParams.query:graphql_1.parse(hookedParams.query)},moreValidationRules=pluginHook("postgraphile:validationRules",[],{options:options,req:req,res:res,variables:params.variables,operationName:params.operationName,meta:meta});if(moreValidationRules.length){const validationErrors=graphql_1.validate(params.schema,finalParams.query,moreValidationRules);if(validationErrors.length){const error=new Error("Query validation failed: \n"+validationErrors.map(e=>e.message).join("\n"));return error.errors=validationErrors,Promise.reject(error)}}return finalParams},onOperationComplete(socket,opId){releaseContextForSocketAndOpId(socket,opId)},keepAlive:15e3,...subscriptionServerOptions},wss)}},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(29),crypto=__webpack_require__(28),https=__webpack_require__(205),http=__webpack_require__(50),net=__webpack_require__(71),tls=__webpack_require__(113),url=__webpack_require__(51),PerMessageDeflate=__webpack_require__(94),EventTarget=__webpack_require__(520),extension=__webpack_require__(207),Receiver=__webpack_require__(208),Sender=__webpack_require__(210),{BINARY_TYPES:BINARY_TYPES,EMPTY_BUFFER:EMPTY_BUFFER,GUID:GUID,kStatusCode:kStatusCode,kWebSocket:kWebSocket,NOOP:NOOP}=__webpack_require__(59),readyStates=["CONNECTING","OPEN","CLOSING","CLOSED"],protocolVersions=[8,13];class WebSocket extends EventEmitter{constructor(address,protocols,options){super(),this.readyState=WebSocket.CONNECTING,this.protocol="",this._binaryType=BINARY_TYPES[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==address?(this._isServer=!1,this._redirects=0,Array.isArray(protocols)?protocols=protocols.join(", "):"object"==typeof protocols&&null!==protocols&&(options=protocols,protocols=void 0),function initAsClient(websocket,address,protocols,options){const opts=Object.assign({protocolVersion:protocolVersions[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},options,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0});if(!protocolVersions.includes(opts.protocolVersion))throw new RangeError(`Unsupported protocol version: ${opts.protocolVersion} (supported versions: ${protocolVersions.join(", ")})`);var parsedUrl;"object"==typeof address&&void 0!==address.href?(parsedUrl=address,websocket.url=address.href):(parsedUrl=url.URL?new url.URL(address):url.parse(address),websocket.url=address);const isUnixSocket="ws+unix:"===parsedUrl.protocol;if(!(parsedUrl.host||isUnixSocket&&parsedUrl.pathname))throw new Error("Invalid URL: "+websocket.url);const isSecure="wss:"===parsedUrl.protocol||"https:"===parsedUrl.protocol,defaultPort=isSecure?443:80,key=crypto.randomBytes(16).toString("base64"),get=isSecure?https.get:http.get,path=parsedUrl.search?`${parsedUrl.pathname||"/"}${parsedUrl.search}`:parsedUrl.pathname||"/";var perMessageDeflate;opts.createConnection=isSecure?tlsConnect:netConnect,opts.defaultPort=opts.defaultPort||defaultPort,opts.port=parsedUrl.port||defaultPort,opts.host=parsedUrl.hostname.startsWith("[")?parsedUrl.hostname.slice(1,-1):parsedUrl.hostname,opts.headers=Object.assign({"Sec-WebSocket-Version":opts.protocolVersion,"Sec-WebSocket-Key":key,Connection:"Upgrade",Upgrade:"websocket"},opts.headers),opts.path=path,opts.timeout=opts.handshakeTimeout,opts.perMessageDeflate&&(perMessageDeflate=new PerMessageDeflate(!0!==opts.perMessageDeflate?opts.perMessageDeflate:{},!1,opts.maxPayload),opts.headers["Sec-WebSocket-Extensions"]=extension.format({[PerMessageDeflate.extensionName]:perMessageDeflate.offer()}));protocols&&(opts.headers["Sec-WebSocket-Protocol"]=protocols);opts.origin&&(opts.protocolVersion<13?opts.headers["Sec-WebSocket-Origin"]=opts.origin:opts.headers.Origin=opts.origin);parsedUrl.auth?opts.auth=parsedUrl.auth:(parsedUrl.username||parsedUrl.password)&&(opts.auth=`${parsedUrl.username}:${parsedUrl.password}`);if(isUnixSocket){const parts=path.split(":");opts.socketPath=parts[0],opts.path=parts[1]}var req=websocket._req=get(opts);opts.timeout&&req.on("timeout",()=>{abortHandshake(websocket,req,"Opening handshake has timed out")});req.on("error",err=>{websocket._req.aborted||(req=websocket._req=null,websocket.readyState=WebSocket.CLOSING,websocket.emit("error",err),websocket.emitClose())}),req.on("response",res=>{const location=res.headers.location,statusCode=res.statusCode;if(location&&opts.followRedirects&&statusCode>=300&&statusCode<400){if(++websocket._redirects>opts.maxRedirects)return void abortHandshake(websocket,req,"Maximum redirects exceeded");req.abort();const addr=url.URL?new url.URL(location,address):url.resolve(address,location);initAsClient(websocket,addr,protocols,options)}else websocket.emit("unexpected-response",req,res)||abortHandshake(websocket,req,"Unexpected server response: "+res.statusCode)}),req.on("upgrade",(res,socket,head)=>{if(websocket.emit("upgrade",res),websocket.readyState!==WebSocket.CONNECTING)return;req=websocket._req=null;const digest=crypto.createHash("sha1").update(key+GUID).digest("base64");if(res.headers["sec-websocket-accept"]!==digest)return void abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Accept header");const serverProt=res.headers["sec-websocket-protocol"],protList=(protocols||"").split(/, */);var protError;if(!protocols&&serverProt?protError="Server sent a subprotocol but none was requested":protocols&&!serverProt?protError="Server sent no subprotocol":serverProt&&!protList.includes(serverProt)&&(protError="Server sent an invalid subprotocol"),protError)abortHandshake(websocket,socket,protError);else{if(serverProt&&(websocket.protocol=serverProt),perMessageDeflate)try{const extensions=extension.parse(res.headers["sec-websocket-extensions"]);extensions[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]),websocket._extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return void abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Extensions header")}websocket.setSocket(socket,head,opts.maxPayload)}})}(this,address,protocols,options)):this._isServer=!0}get CONNECTING(){return WebSocket.CONNECTING}get CLOSING(){return WebSocket.CLOSING}get CLOSED(){return WebSocket.CLOSED}get OPEN(){return WebSocket.OPEN}get binaryType(){return this._binaryType}set binaryType(type){BINARY_TYPES.includes(type)&&(this._binaryType=type,this._receiver&&(this._receiver._binaryType=type))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(socket,head,maxPayload){const receiver=new Receiver(this._binaryType,this._extensions,maxPayload);this._sender=new Sender(socket,this._extensions),this._receiver=receiver,this._socket=socket,receiver[kWebSocket]=this,socket[kWebSocket]=this,receiver.on("conclude",receiverOnConclude),receiver.on("drain",receiverOnDrain),receiver.on("error",receiverOnError),receiver.on("message",receiverOnMessage),receiver.on("ping",receiverOnPing),receiver.on("pong",receiverOnPong),socket.setTimeout(0),socket.setNoDelay(),head.length>0&&socket.unshift(head),socket.on("close",socketOnClose),socket.on("data",socketOnData),socket.on("end",socketOnEnd),socket.on("error",socketOnError),this.readyState=WebSocket.OPEN,this.emit("open")}emitClose(){this.readyState=WebSocket.CLOSED,this._socket?(this._extensions[PerMessageDeflate.extensionName]&&this._extensions[PerMessageDeflate.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(code,data){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING){const msg="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,msg)}this.readyState!==WebSocket.CLOSING?(this.readyState=WebSocket.CLOSING,this._sender.close(code,data,!this._isServer,err=>{err||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(data,mask,cb){if("function"==typeof data?(cb=data,data=mask=void 0):"function"==typeof mask&&(cb=mask,mask=void 0),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} (${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.ping(data||EMPTY_BUFFER,mask,cb)}pong(data,mask,cb){if("function"==typeof data?(cb=data,data=mask=void 0):"function"==typeof mask&&(cb=mask,mask=void 0),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} (${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.pong(data||EMPTY_BUFFER,mask,cb)}send(data,options,cb){if("function"==typeof options&&(cb=options,options={}),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} (${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString());const opts=Object.assign({binary:"string"!=typeof data,mask:!this._isServer,compress:!0,fin:!0},options);this._extensions[PerMessageDeflate.extensionName]||(opts.compress=!1),this._sender.send(data||EMPTY_BUFFER,opts,cb)}terminate(){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING){const msg="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,msg)}this._socket&&(this.readyState=WebSocket.CLOSING,this._socket.destroy())}}}function netConnect(options){return options.protocolVersion&&(options.path=options.socketPath),net.connect(options)}function tlsConnect(options){return options.path=void 0,options.servername=options.servername||options.host,tls.connect(options)}function abortHandshake(websocket,stream,message){websocket.readyState=WebSocket.CLOSING;const err=new Error(message);Error.captureStackTrace(err,abortHandshake),stream.setHeader?(stream.abort(),stream.once("abort",websocket.emitClose.bind(websocket)),websocket.emit("error",err)):(stream.destroy(err),stream.once("error",websocket.emit.bind(websocket,"error")),stream.once("close",websocket.emitClose.bind(websocket)))}function receiverOnConclude(code,reason){const websocket=this[kWebSocket];websocket._socket.removeListener("data",socketOnData),websocket._socket.resume(),websocket._closeFrameReceived=!0,websocket._closeMessage=reason,websocket._closeCode=code,1005===code?websocket.close():websocket.close(code,reason)}function receiverOnDrain(){this[kWebSocket]._socket.resume()}function receiverOnError(err){const websocket=this[kWebSocket];websocket._socket.removeListener("data",socketOnData),websocket.readyState=WebSocket.CLOSING,websocket._closeCode=err[kStatusCode],websocket.emit("error",err),websocket._socket.destroy()}function receiverOnFinish(){this[kWebSocket].emitClose()}function receiverOnMessage(data){this[kWebSocket].emit("message",data)}function receiverOnPing(data){const websocket=this[kWebSocket];websocket.pong(data,!websocket._isServer,NOOP),websocket.emit("ping",data)}function receiverOnPong(data){this[kWebSocket].emit("pong",data)}function socketOnClose(){const websocket=this[kWebSocket];this.removeListener("close",socketOnClose),this.removeListener("end",socketOnEnd),websocket.readyState=WebSocket.CLOSING,websocket._socket.read(),websocket._receiver.end(),this.removeListener("data",socketOnData),this[kWebSocket]=void 0,clearTimeout(websocket._closeTimer),websocket._receiver._writableState.finished||websocket._receiver._writableState.errorEmitted?websocket.emitClose():(websocket._receiver.on("error",receiverOnFinish),websocket._receiver.on("finish",receiverOnFinish))}function socketOnData(chunk){this[kWebSocket]._receiver.write(chunk)||this.pause()}function socketOnEnd(){const websocket=this[kWebSocket];websocket.readyState=WebSocket.CLOSING,websocket._receiver.end(),this.end()}function socketOnError(){const websocket=this[kWebSocket];this.removeListener("error",socketOnError),this.on("error",NOOP),websocket.readyState=WebSocket.CLOSING,this.destroy()}readyStates.forEach((readyState,i)=>{WebSocket[readyState]=i}),["open","error","close","message"].forEach(method=>{Object.defineProperty(WebSocket.prototype,"on"+method,{get(){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)if(listeners[i]._listener)return listeners[i]._listener},set(listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]._listener&&this.removeListener(method,listeners[i]);this.addEventListener(method,listener)}})}),WebSocket.prototype.addEventListener=EventTarget.addEventListener,WebSocket.prototype.removeEventListener=EventTarget.removeEventListener,module.exports=WebSocket},function(module,exports){module.exports=require("https")},function(module,exports,__webpack_require__){"use strict";function Queue(options){if(!(this instanceof Queue))return new Queue(options);options=options||{},this.concurrency=options.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=done.bind(this)}function done(){this.pending--,this._run()}["push","unshift","splice"].forEach((function(method){Queue.prototype[method]=function(){var methodResult=Array.prototype[method].apply(this.jobs,arguments);return this._run(),methodResult}})),Object.defineProperty(Queue.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),Queue.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var job=this.jobs.shift();this.pending++,job(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var cb=this.cbs.pop();process.nextTick(cb)}}},Queue.prototype.onDone=function(cb){"function"==typeof cb&&(this.cbs.push(cb),this._run())},module.exports=Queue},function(module,exports,__webpack_require__){"use strict";const tokenChars=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function push(dest,name,elem){Object.prototype.hasOwnProperty.call(dest,name)?dest[name].push(elem):dest[name]=[elem]}module.exports={format:function(extensions){return Object.keys(extensions).map(extension=>{var configurations=extensions[extension];return Array.isArray(configurations)||(configurations=[configurations]),configurations.map(params=>[extension].concat(Object.keys(params).map(k=>{var values=params[k];return Array.isArray(values)||(values=[values]),values.map(v=>!0===v?k:`${k}=${v}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(header){const offers={};if(void 0===header||""===header)return offers;for(var extensionName,paramName,params={},mustUnescape=!1,isEscaping=!1,inQuotes=!1,start=-1,end=-1,i=0;i<header.length;i++){const code=header.charCodeAt(i);if(void 0===extensionName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else{if(59!==code&&44!==code)throw new SyntaxError("Unexpected character at index "+i);{if(-1===start)throw new SyntaxError("Unexpected character at index "+i);-1===end&&(end=i);const name=header.slice(start,end);44===code?(push(offers,name,params),params={}):extensionName=name,start=end=-1}}else if(void 0===paramName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else if(59===code||44===code){if(-1===start)throw new SyntaxError("Unexpected character at index "+i);-1===end&&(end=i),push(params,header.slice(start,end),!0),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),start=end=-1}else{if(61!==code||-1===start||-1!==end)throw new SyntaxError("Unexpected character at index "+i);paramName=header.slice(start,i),start=end=-1}else if(isEscaping){if(1!==tokenChars[code])throw new SyntaxError("Unexpected character at index "+i);-1===start?start=i:mustUnescape||(mustUnescape=!0),isEscaping=!1}else if(inQuotes)if(1===tokenChars[code])-1===start&&(start=i);else if(34===code&&-1!==start)inQuotes=!1,end=i;else{if(92!==code)throw new SyntaxError("Unexpected character at index "+i);isEscaping=!0}else if(34===code&&61===header.charCodeAt(i-1))inQuotes=!0;else if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(-1===start||32!==code&&9!==code){if(59!==code&&44!==code)throw new SyntaxError("Unexpected character at index "+i);if(-1===start)throw new SyntaxError("Unexpected character at index "+i);-1===end&&(end=i);var value=header.slice(start,end);mustUnescape&&(value=value.replace(/\\/g,""),mustUnescape=!1),push(params,paramName,value),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),paramName=void 0,start=end=-1}else-1===end&&(end=i)}if(-1===start||inQuotes)throw new SyntaxError("Unexpected end of input");-1===end&&(end=i);const token=header.slice(start,end);return void 0===extensionName?push(offers,token,{}):(void 0===paramName?push(params,token,!0):push(params,paramName,mustUnescape?token.replace(/\\/g,""):token),push(offers,extensionName,params)),offers}}},function(module,exports,__webpack_require__){"use strict";const{Writable:Writable}=__webpack_require__(32),PerMessageDeflate=__webpack_require__(94),{BINARY_TYPES:BINARY_TYPES,EMPTY_BUFFER:EMPTY_BUFFER,kStatusCode:kStatusCode,kWebSocket:kWebSocket}=__webpack_require__(59),{concat:concat,toArrayBuffer:toArrayBuffer,unmask:unmask}=__webpack_require__(122),{isValidStatusCode:isValidStatusCode,isValidUTF8:isValidUTF8}=__webpack_require__(209);function error(ErrorCtor,message,prefix,statusCode){const err=new ErrorCtor(prefix?"Invalid WebSocket frame: "+message:message);return Error.captureStackTrace(err,error),err[kStatusCode]=statusCode,err}module.exports=class extends Writable{constructor(binaryType,extensions,maxPayload){super(),this._binaryType=binaryType||BINARY_TYPES[0],this[kWebSocket]=void 0,this._extensions=extensions||{},this._maxPayload=0|maxPayload,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(chunk,encoding,cb){if(8===this._opcode&&0==this._state)return cb();this._bufferedBytes+=chunk.length,this._buffers.push(chunk),this.startLoop(cb)}consume(n){if(this._bufferedBytes-=n,n===this._buffers[0].length)return this._buffers.shift();if(n<this._buffers[0].length){const buf=this._buffers[0];return this._buffers[0]=buf.slice(n),buf.slice(0,n)}const dst=Buffer.allocUnsafe(n);do{const buf=this._buffers[0];n>=buf.length?this._buffers.shift().copy(dst,dst.length-n):(buf.copy(dst,dst.length-n,0,n),this._buffers[0]=buf.slice(n)),n-=buf.length}while(n>0);return dst}startLoop(cb){var err;this._loop=!0;do{switch(this._state){case 0:err=this.getInfo();break;case 1:err=this.getPayloadLength16();break;case 2:err=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:err=this.getData(cb);break;default:return void(this._loop=!1)}}while(this._loop);cb(err)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const buf=this.consume(2);if(0!=(48&buf[0]))return this._loop=!1,error(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const compressed=64==(64&buf[0]);if(compressed&&!this._extensions[PerMessageDeflate.extensionName])return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&buf[0]),this._opcode=15&buf[0],this._payloadLength=127&buf[1],0===this._opcode){if(compressed)return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,error(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,error(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=compressed}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,error(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,error(RangeError,"FIN must be set",!0,1002);if(compressed)return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,error(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&buf[1]),126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const buf=this.consume(8),num=buf.readUInt32BE(0);return num>Math.pow(2,21)-1?(this._loop=!1,error(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=num*Math.pow(2,32)+buf.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,error(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(cb){var data=EMPTY_BUFFER;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);data=this.consume(this._payloadLength),this._masked&&unmask(data,this._mask)}return this._opcode>7?this.controlMessage(data):this._compressed?(this._state=5,void this.decompress(data,cb)):(data.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(data)),this.dataMessage())}decompress(data,cb){this._extensions[PerMessageDeflate.extensionName].decompress(data,this._fin,(err,buf)=>{if(err)return cb(err);if(buf.length){if(this._messageLength+=buf.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return cb(error(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(buf)}const er=this.dataMessage();if(er)return cb(er);this.startLoop(cb)})}dataMessage(){if(this._fin){const messageLength=this._messageLength,fragments=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var data;data="nodebuffer"===this._binaryType?concat(fragments,messageLength):"arraybuffer"===this._binaryType?toArrayBuffer(concat(fragments,messageLength)):fragments,this.emit("message",data)}else{const buf=concat(fragments,messageLength);if(!isValidUTF8(buf))return this._loop=!1,error(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",buf.toString())}}this._state=0}controlMessage(data){if(8===this._opcode)if(this._loop=!1,0===data.length)this.emit("conclude",1005,""),this.end();else{if(1===data.length)return error(RangeError,"invalid payload length 1",!0,1002);{const code=data.readUInt16BE(0);if(!isValidStatusCode(code))return error(RangeError,"invalid status code "+code,!0,1002);const buf=data.slice(2);if(!isValidUTF8(buf))return error(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",code,buf.toString()),this.end()}}else 9===this._opcode?this.emit("ping",data):this.emit("pong",data);this._state=0}}},function(module,exports,__webpack_require__){"use strict";try{const isValidUTF8=__webpack_require__(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());exports.isValidUTF8="object"==typeof isValidUTF8?isValidUTF8.Validation.isValidUTF8:isValidUTF8}catch(e){exports.isValidUTF8=()=>!0}exports.isValidStatusCode=code=>code>=1e3&&code<=1013&&1004!==code&&1005!==code&&1006!==code||code>=3e3&&code<=4999},function(module,exports,__webpack_require__){"use strict";const{randomBytes:randomBytes}=__webpack_require__(28),PerMessageDeflate=__webpack_require__(94),{EMPTY_BUFFER:EMPTY_BUFFER}=__webpack_require__(59),{isValidStatusCode:isValidStatusCode}=__webpack_require__(209),{mask:applyMask,toBuffer:toBuffer}=__webpack_require__(122);class Sender{constructor(socket,extensions){this._extensions=extensions||{},this._socket=socket,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(data,options){const merge=options.mask&&options.readOnly;var offset=options.mask?6:2,payloadLength=data.length;data.length>=65536?(offset+=8,payloadLength=127):data.length>125&&(offset+=2,payloadLength=126);const target=Buffer.allocUnsafe(merge?data.length+offset:offset);if(target[0]=options.fin?128|options.opcode:options.opcode,options.rsv1&&(target[0]|=64),target[1]=payloadLength,126===payloadLength?target.writeUInt16BE(data.length,2):127===payloadLength&&(target.writeUInt32BE(0,2),target.writeUInt32BE(data.length,6)),!options.mask)return[target,data];const mask=randomBytes(4);return target[1]|=128,target[offset-4]=mask[0],target[offset-3]=mask[1],target[offset-2]=mask[2],target[offset-1]=mask[3],merge?(applyMask(data,mask,target,offset,data.length),[target]):(applyMask(data,mask,data,0,data.length),[target,data])}close(code,data,mask,cb){var buf;if(void 0===code)buf=EMPTY_BUFFER;else{if("number"!=typeof code||!isValidStatusCode(code))throw new TypeError("First argument must be a valid error code number");void 0===data||""===data?(buf=Buffer.allocUnsafe(2)).writeUInt16BE(code,0):((buf=Buffer.allocUnsafe(2+Buffer.byteLength(data))).writeUInt16BE(code,0),buf.write(data,2))}this._deflating?this.enqueue([this.doClose,buf,mask,cb]):this.doClose(buf,mask,cb)}doClose(data,mask,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:8,mask:mask,readOnly:!1}),cb)}ping(data,mask,cb){const buf=toBuffer(data);this._deflating?this.enqueue([this.doPing,buf,mask,toBuffer.readOnly,cb]):this.doPing(buf,mask,toBuffer.readOnly,cb)}doPing(data,mask,readOnly,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:9,mask:mask,readOnly:readOnly}),cb)}pong(data,mask,cb){const buf=toBuffer(data);this._deflating?this.enqueue([this.doPong,buf,mask,toBuffer.readOnly,cb]):this.doPong(buf,mask,toBuffer.readOnly,cb)}doPong(data,mask,readOnly,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:10,mask:mask,readOnly:readOnly}),cb)}send(data,options,cb){const buf=toBuffer(data),perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];var opcode=options.binary?2:1,rsv1=options.compress;if(this._firstFragment?(this._firstFragment=!1,rsv1&&perMessageDeflate&&(rsv1=buf.length>=perMessageDeflate._threshold),this._compress=rsv1):(rsv1=!1,opcode=0),options.fin&&(this._firstFragment=!0),perMessageDeflate){const opts={fin:options.fin,rsv1:rsv1,opcode:opcode,mask:options.mask,readOnly:toBuffer.readOnly};this._deflating?this.enqueue([this.dispatch,buf,this._compress,opts,cb]):this.dispatch(buf,this._compress,opts,cb)}else this.sendFrame(Sender.frame(buf,{fin:options.fin,rsv1:!1,opcode:opcode,mask:options.mask,readOnly:toBuffer.readOnly}),cb)}dispatch(data,compress,options,cb){if(!compress)return void this.sendFrame(Sender.frame(data,options),cb);const perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];this._deflating=!0,perMessageDeflate.compress(data,options.fin,(_,buf)=>{this._deflating=!1,options.readOnly=!1,this.sendFrame(Sender.frame(buf,options),cb),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const params=this._queue.shift();this._bufferedBytes-=params[1].length,params[0].apply(this,params.slice(1))}}enqueue(params){this._bufferedBytes+=params[1].length,this._queue.push(params)}sendFrame(list,cb){2===list.length?(this._socket.cork(),this._socket.write(list[0]),this._socket.write(list[1],cb),this._socket.uncork()):this._socket.write(list[0],cb)}}module.exports=Sender},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return null!==value&&"object"==typeof value}},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(29),crypto=__webpack_require__(28),https=__webpack_require__(205),http=__webpack_require__(50),net=__webpack_require__(71),tls=__webpack_require__(113),url=__webpack_require__(51),PerMessageDeflate=__webpack_require__(96),EventTarget=__webpack_require__(532),extension=__webpack_require__(213),constants=__webpack_require__(75),Receiver=__webpack_require__(214),Sender=__webpack_require__(216),readyStates=["CONNECTING","OPEN","CLOSING","CLOSED"],kWebSocket=constants.kWebSocket,protocolVersions=[8,13];class WebSocket extends EventEmitter{constructor(address,protocols,options){super(),this.readyState=WebSocket.CONNECTING,this.protocol="",this._binaryType=constants.BINARY_TYPES[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._isServer=!0,this._receiver=null,this._sender=null,this._socket=null,null!==address&&(Array.isArray(protocols)?protocols=protocols.join(", "):"object"==typeof protocols&&null!==protocols&&(options=protocols,protocols=void 0),initAsClient.call(this,address,protocols,options))}get CONNECTING(){return WebSocket.CONNECTING}get CLOSING(){return WebSocket.CLOSING}get CLOSED(){return WebSocket.CLOSED}get OPEN(){return WebSocket.OPEN}get binaryType(){return this._binaryType}set binaryType(type){constants.BINARY_TYPES.indexOf(type)<0||(this._binaryType=type,this._receiver&&(this._receiver._binaryType=type))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(socket,head,maxPayload){const receiver=new Receiver(this._binaryType,this._extensions,maxPayload);this._sender=new Sender(socket,this._extensions),this._receiver=receiver,this._socket=socket,receiver[kWebSocket]=this,socket[kWebSocket]=this,receiver.on("conclude",receiverOnConclude),receiver.on("drain",receiverOnDrain),receiver.on("error",receiverOnError),receiver.on("message",receiverOnMessage),receiver.on("ping",receiverOnPing),receiver.on("pong",receiverOnPong),socket.setTimeout(0),socket.setNoDelay(),head.length>0&&socket.unshift(head),socket.on("close",socketOnClose),socket.on("data",socketOnData),socket.on("end",socketOnEnd),socket.on("error",socketOnError),this.readyState=WebSocket.OPEN,this.emit("open")}emitClose(){this.readyState=WebSocket.CLOSED,this._socket?(this._extensions[PerMessageDeflate.extensionName]&&this._extensions[PerMessageDeflate.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(code,data){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING){const msg="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,msg)}this.readyState!==WebSocket.CLOSING?(this.readyState=WebSocket.CLOSING,this._sender.close(code,data,!this._isServer,err=>{err||(this._closeFrameSent=!0,this._socket.writable&&(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(data,mask,cb){if("function"==typeof data?(cb=data,data=mask=void 0):"function"==typeof mask&&(cb=mask,mask=void 0),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} (${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.ping(data||constants.EMPTY_BUFFER,mask,cb)}pong(data,mask,cb){if("function"==typeof data?(cb=data,data=mask=void 0):"function"==typeof mask&&(cb=mask,mask=void 0),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} (${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.pong(data||constants.EMPTY_BUFFER,mask,cb)}send(data,options,cb){if("function"==typeof options&&(cb=options,options={}),this.readyState!==WebSocket.OPEN){const err=new Error(`WebSocket is not open: readyState ${this.readyState} (${readyStates[this.readyState]})`);if(cb)return cb(err);throw err}"number"==typeof data&&(data=data.toString());const opts=Object.assign({binary:"string"!=typeof data,mask:!this._isServer,compress:!0,fin:!0},options);this._extensions[PerMessageDeflate.extensionName]||(opts.compress=!1),this._sender.send(data||constants.EMPTY_BUFFER,opts,cb)}terminate(){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING){const msg="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,msg)}this._socket&&(this.readyState=WebSocket.CLOSING,this._socket.destroy())}}}function initAsClient(address,protocols,options){if(options=Object.assign({protocolVersion:protocolVersions[1],perMessageDeflate:!0},options,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0}),-1===protocolVersions.indexOf(options.protocolVersion))throw new RangeError(`Unsupported protocol version: ${options.protocolVersion} (supported versions: ${protocolVersions.join(", ")})`);var parsedUrl;this._isServer=!1,"object"==typeof address&&void 0!==address.href?(parsedUrl=address,this.url=address.href):(parsedUrl=url.parse(address),this.url=address);const isUnixSocket="ws+unix:"===parsedUrl.protocol;if(!(parsedUrl.host||isUnixSocket&&parsedUrl.pathname))throw new Error("Invalid URL: "+this.url);const isSecure="wss:"===parsedUrl.protocol||"https:"===parsedUrl.protocol,key=crypto.randomBytes(16).toString("base64"),httpObj=isSecure?https:http,path=parsedUrl.search?`${parsedUrl.pathname||"/"}${parsedUrl.search}`:parsedUrl.pathname||"/";var perMessageDeflate;if(options.createConnection=isSecure?tlsConnect:netConnect,options.port=parsedUrl.port||(isSecure?443:80),options.host=parsedUrl.hostname.startsWith("[")?parsedUrl.hostname.slice(1,-1):parsedUrl.hostname,options.headers=Object.assign({"Sec-WebSocket-Version":options.protocolVersion,"Sec-WebSocket-Key":key,Connection:"Upgrade",Upgrade:"websocket"},options.headers),options.path=path,options.perMessageDeflate&&(perMessageDeflate=new PerMessageDeflate(!0!==options.perMessageDeflate?options.perMessageDeflate:{},!1),options.headers["Sec-WebSocket-Extensions"]=extension.format({[PerMessageDeflate.extensionName]:perMessageDeflate.offer()})),protocols&&(options.headers["Sec-WebSocket-Protocol"]=protocols),options.origin&&(options.protocolVersion<13?options.headers["Sec-WebSocket-Origin"]=options.origin:options.headers.Origin=options.origin),parsedUrl.auth?options.auth=parsedUrl.auth:(parsedUrl.username||parsedUrl.password)&&(options.auth=`${parsedUrl.username}:${parsedUrl.password}`),isUnixSocket){const parts=path.split(":");null==options.agent&&process.versions.modules<57?options._socketPath=parts[0]:options.socketPath=parts[0],options.path=parts[1]}var req=this._req=httpObj.get(options);options.handshakeTimeout&&req.setTimeout(options.handshakeTimeout,()=>abortHandshake(this,req,"Opening handshake has timed out")),req.on("error",err=>{this._req.aborted||(req=this._req=null,this.readyState=WebSocket.CLOSING,this.emit("error",err),this.emitClose())}),req.on("response",res=>{this.emit("unexpected-response",req,res)||abortHandshake(this,req,"Unexpected server response: "+res.statusCode)}),req.on("upgrade",(res,socket,head)=>{if(this.emit("upgrade",res),this.readyState!==WebSocket.CONNECTING)return;req=this._req=null;const digest=crypto.createHash("sha1").update(key+constants.GUID,"binary").digest("base64");if(res.headers["sec-websocket-accept"]!==digest)return void abortHandshake(this,socket,"Invalid Sec-WebSocket-Accept header");const serverProt=res.headers["sec-websocket-protocol"],protList=(protocols||"").split(/, */);var protError;if(!protocols&&serverProt?protError="Server sent a subprotocol but none was requested":protocols&&!serverProt?protError="Server sent no subprotocol":serverProt&&-1===protList.indexOf(serverProt)&&(protError="Server sent an invalid subprotocol"),protError)abortHandshake(this,socket,protError);else{if(serverProt&&(this.protocol=serverProt),perMessageDeflate)try{const extensions=extension.parse(res.headers["sec-websocket-extensions"]);extensions[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]),this._extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return void abortHandshake(this,socket,"Invalid Sec-WebSocket-Extensions header")}this.setSocket(socket,head,0)}})}function netConnect(options){return options.path=options.socketPath||options._socketPath||void 0,net.connect(options)}function tlsConnect(options){return options.path=options.socketPath||options._socketPath||void 0,options.servername=options.servername||options.host,tls.connect(options)}function abortHandshake(websocket,stream,message){websocket.readyState=WebSocket.CLOSING;const err=new Error(message);Error.captureStackTrace(err,abortHandshake),stream.setHeader?(stream.abort(),stream.once("abort",websocket.emitClose.bind(websocket)),websocket.emit("error",err)):(stream.destroy(err),stream.once("error",websocket.emit.bind(websocket,"error")),stream.once("close",websocket.emitClose.bind(websocket)))}function receiverOnConclude(code,reason){const websocket=this[kWebSocket];websocket._socket.removeListener("data",socketOnData),websocket._socket.resume(),websocket._closeFrameReceived=!0,websocket._closeMessage=reason,websocket._closeCode=code,1005===code?websocket.close():websocket.close(code,reason)}function receiverOnDrain(){this[kWebSocket]._socket.resume()}function receiverOnError(err){const websocket=this[kWebSocket];websocket._socket.removeListener("data",socketOnData),websocket.readyState=WebSocket.CLOSING,websocket._closeCode=err[constants.kStatusCode],websocket.emit("error",err),websocket._socket.destroy()}function receiverOnFinish(){this[kWebSocket].emitClose()}function receiverOnMessage(data){this[kWebSocket].emit("message",data)}function receiverOnPing(data){const websocket=this[kWebSocket];websocket.pong(data,!websocket._isServer,constants.NOOP),websocket.emit("ping",data)}function receiverOnPong(data){this[kWebSocket].emit("pong",data)}function socketOnClose(){const websocket=this[kWebSocket];this.removeListener("close",socketOnClose),this.removeListener("end",socketOnEnd),websocket.readyState=WebSocket.CLOSING,websocket._socket.read(),websocket._receiver.end(),this.removeListener("data",socketOnData),this[kWebSocket]=void 0,clearTimeout(websocket._closeTimer),websocket._receiver._writableState.finished||websocket._receiver._writableState.errorEmitted?websocket.emitClose():(websocket._receiver.on("error",receiverOnFinish),websocket._receiver.on("finish",receiverOnFinish))}function socketOnData(chunk){this[kWebSocket]._receiver.write(chunk)||this.pause()}function socketOnEnd(){const websocket=this[kWebSocket];websocket.readyState=WebSocket.CLOSING,websocket._receiver.end(),this.end()}function socketOnError(){const websocket=this[kWebSocket];this.removeListener("error",socketOnError),this.on("error",constants.NOOP),websocket&&(websocket.readyState=WebSocket.CLOSING,this.destroy())}readyStates.forEach((readyState,i)=>{WebSocket[readyStates[i]]=i}),["open","error","close","message"].forEach(method=>{Object.defineProperty(WebSocket.prototype,"on"+method,{get(){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)if(listeners[i]._listener)return listeners[i]._listener},set(listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]._listener&&this.removeListener(method,listeners[i]);this.addEventListener(method,listener)}})}),WebSocket.prototype.addEventListener=EventTarget.addEventListener,WebSocket.prototype.removeEventListener=EventTarget.removeEventListener,module.exports=WebSocket},function(module,exports,__webpack_require__){"use strict";const tokenChars=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function push(dest,name,elem){Object.prototype.hasOwnProperty.call(dest,name)?dest[name].push(elem):dest[name]=[elem]}module.exports={format:function(extensions){return Object.keys(extensions).map(extension=>{var configurations=extensions[extension];return Array.isArray(configurations)||(configurations=[configurations]),configurations.map(params=>[extension].concat(Object.keys(params).map(k=>{var values=params[k];return Array.isArray(values)||(values=[values]),values.map(v=>!0===v?k:`${k}=${v}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(header){const offers={};if(void 0===header||""===header)return offers;for(var extensionName,paramName,params={},mustUnescape=!1,isEscaping=!1,inQuotes=!1,start=-1,end=-1,i=0;i<header.length;i++){const code=header.charCodeAt(i);if(void 0===extensionName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else{if(59!==code&&44!==code)throw new SyntaxError("Unexpected character at index "+i);{if(-1===start)throw new SyntaxError("Unexpected character at index "+i);-1===end&&(end=i);const name=header.slice(start,end);44===code?(push(offers,name,params),params={}):extensionName=name,start=end=-1}}else if(void 0===paramName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else if(59===code||44===code){if(-1===start)throw new SyntaxError("Unexpected character at index "+i);-1===end&&(end=i),push(params,header.slice(start,end),!0),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),start=end=-1}else{if(61!==code||-1===start||-1!==end)throw new SyntaxError("Unexpected character at index "+i);paramName=header.slice(start,i),start=end=-1}else if(isEscaping){if(1!==tokenChars[code])throw new SyntaxError("Unexpected character at index "+i);-1===start?start=i:mustUnescape||(mustUnescape=!0),isEscaping=!1}else if(inQuotes)if(1===tokenChars[code])-1===start&&(start=i);else if(34===code&&-1!==start)inQuotes=!1,end=i;else{if(92!==code)throw new SyntaxError("Unexpected character at index "+i);isEscaping=!0}else if(34===code&&61===header.charCodeAt(i-1))inQuotes=!0;else if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(-1===start||32!==code&&9!==code){if(59!==code&&44!==code)throw new SyntaxError("Unexpected character at index "+i);if(-1===start)throw new SyntaxError("Unexpected character at index "+i);-1===end&&(end=i);var value=header.slice(start,end);mustUnescape&&(value=value.replace(/\\/g,""),mustUnescape=!1),push(params,paramName,value),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),paramName=void 0,start=end=-1}else-1===end&&(end=i)}if(-1===start||inQuotes)throw new SyntaxError("Unexpected end of input");-1===end&&(end=i);const token=header.slice(start,end);return void 0===extensionName?push(offers,token,{}):(void 0===paramName?push(params,token,!0):push(params,paramName,mustUnescape?token.replace(/\\/g,""):token),push(offers,extensionName,params)),offers}}},function(module,exports,__webpack_require__){"use strict";const stream=__webpack_require__(32),PerMessageDeflate=__webpack_require__(96),bufferUtil=__webpack_require__(124),validation=__webpack_require__(215),constants=__webpack_require__(75);class Receiver extends stream.Writable{constructor(binaryType,extensions,maxPayload){super(),this._binaryType=binaryType||constants.BINARY_TYPES[0],this[constants.kWebSocket]=void 0,this._extensions=extensions||{},this._maxPayload=0|maxPayload,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(chunk,encoding,cb){if(8===this._opcode)return cb();this._bufferedBytes+=chunk.length,this._buffers.push(chunk),this.startLoop(cb)}consume(n){if(this._bufferedBytes-=n,n===this._buffers[0].length)return this._buffers.shift();if(n<this._buffers[0].length){const buf=this._buffers[0];return this._buffers[0]=buf.slice(n),buf.slice(0,n)}const dst=Buffer.allocUnsafe(n);do{const buf=this._buffers[0];n>=buf.length?this._buffers.shift().copy(dst,dst.length-n):(buf.copy(dst,dst.length-n,0,n),this._buffers[0]=buf.slice(n)),n-=buf.length}while(n>0);return dst}startLoop(cb){var err;this._loop=!0;do{switch(this._state){case 0:err=this.getInfo();break;case 1:err=this.getPayloadLength16();break;case 2:err=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:err=this.getData(cb);break;default:return void(this._loop=!1)}}while(this._loop);cb(err)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const buf=this.consume(2);if(0!=(48&buf[0]))return this._loop=!1,error(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const compressed=64==(64&buf[0]);if(compressed&&!this._extensions[PerMessageDeflate.extensionName])return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&buf[0]),this._opcode=15&buf[0],this._payloadLength=127&buf[1],0===this._opcode){if(compressed)return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,error(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,error(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=compressed}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,error(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,error(RangeError,"FIN must be set",!0,1002);if(compressed)return this._loop=!1,error(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,error(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&buf[1]),126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const buf=this.consume(8),num=buf.readUInt32BE(0);return num>Math.pow(2,21)-1?(this._loop=!1,error(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=num*Math.pow(2,32)+buf.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,error(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(cb){var data=constants.EMPTY_BUFFER;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);data=this.consume(this._payloadLength),this._masked&&bufferUtil.unmask(data,this._mask)}return this._opcode>7?this.controlMessage(data):this._compressed?(this._state=5,void this.decompress(data,cb)):(data.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(data)),this.dataMessage())}decompress(data,cb){this._extensions[PerMessageDeflate.extensionName].decompress(data,this._fin,(err,buf)=>{if(err)return cb(err);if(buf.length){if(this._messageLength+=buf.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return cb(error(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(buf)}const er=this.dataMessage();if(er)return cb(er);this.startLoop(cb)})}dataMessage(){if(this._fin){const messageLength=this._messageLength,fragments=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var data;data="nodebuffer"===this._binaryType?toBuffer(fragments,messageLength):"arraybuffer"===this._binaryType?function(buf){if(0===buf.byteOffset&&buf.byteLength===buf.buffer.byteLength)return buf.buffer;return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}(toBuffer(fragments,messageLength)):fragments,this.emit("message",data)}else{const buf=toBuffer(fragments,messageLength);if(!validation.isValidUTF8(buf))return this._loop=!1,error(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",buf.toString())}}this._state=0}controlMessage(data){if(8!==this._opcode)9===this._opcode?this.emit("ping",data):this.emit("pong",data),this._state=0;else if(this._loop=!1,0===data.length)this.emit("conclude",1005,""),this.end();else{if(1===data.length)return error(RangeError,"invalid payload length 1",!0,1002);{const code=data.readUInt16BE(0);if(!validation.isValidStatusCode(code))return error(RangeError,"invalid status code "+code,!0,1002);const buf=data.slice(2);if(!validation.isValidUTF8(buf))return error(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",code,buf.toString()),this.end()}}}}function error(ErrorCtor,message,prefix,statusCode){const err=new ErrorCtor(prefix?"Invalid WebSocket frame: "+message:message);return Error.captureStackTrace(err,error),err[constants.kStatusCode]=statusCode,err}function toBuffer(fragments,messageLength){return 1===fragments.length?fragments[0]:fragments.length>1?bufferUtil.concat(fragments,messageLength):constants.EMPTY_BUFFER}module.exports=Receiver},function(module,exports,__webpack_require__){"use strict";try{const isValidUTF8=__webpack_require__(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());exports.isValidUTF8="object"==typeof isValidUTF8?isValidUTF8.Validation.isValidUTF8:isValidUTF8}catch(e){exports.isValidUTF8=()=>!0}exports.isValidStatusCode=code=>code>=1e3&&code<=1013&&1004!==code&&1005!==code&&1006!==code||code>=3e3&&code<=4999},function(module,exports,__webpack_require__){"use strict";const crypto=__webpack_require__(28),PerMessageDeflate=__webpack_require__(96),bufferUtil=__webpack_require__(124),validation=__webpack_require__(215),constants=__webpack_require__(75);class Sender{constructor(socket,extensions){this._extensions=extensions||{},this._socket=socket,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(data,options){const merge=data.length<1024||options.mask&&options.readOnly;var offset=options.mask?6:2,payloadLength=data.length;data.length>=65536?(offset+=8,payloadLength=127):data.length>125&&(offset+=2,payloadLength=126);const target=Buffer.allocUnsafe(merge?data.length+offset:offset);if(target[0]=options.fin?128|options.opcode:options.opcode,options.rsv1&&(target[0]|=64),126===payloadLength?target.writeUInt16BE(data.length,2):127===payloadLength&&(target.writeUInt32BE(0,2),target.writeUInt32BE(data.length,6)),!options.mask)return target[1]=payloadLength,merge?(data.copy(target,offset),[target]):[target,data];const mask=crypto.randomBytes(4);return target[1]=128|payloadLength,target[offset-4]=mask[0],target[offset-3]=mask[1],target[offset-2]=mask[2],target[offset-1]=mask[3],merge?(bufferUtil.mask(data,mask,target,offset,data.length),[target]):(bufferUtil.mask(data,mask,data,0,data.length),[target,data])}close(code,data,mask,cb){var buf;if(void 0===code)buf=constants.EMPTY_BUFFER;else{if("number"!=typeof code||!validation.isValidStatusCode(code))throw new TypeError("First argument must be a valid error code number");void 0===data||""===data?(buf=Buffer.allocUnsafe(2)).writeUInt16BE(code,0):((buf=Buffer.allocUnsafe(2+Buffer.byteLength(data))).writeUInt16BE(code,0),buf.write(data,2))}this._deflating?this.enqueue([this.doClose,buf,mask,cb]):this.doClose(buf,mask,cb)}doClose(data,mask,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:8,mask:mask,readOnly:!1}),cb)}ping(data,mask,cb){var readOnly=!0;Buffer.isBuffer(data)||(data instanceof ArrayBuffer?data=Buffer.from(data):ArrayBuffer.isView(data)?data=viewToBuffer(data):(data=Buffer.from(data),readOnly=!1)),this._deflating?this.enqueue([this.doPing,data,mask,readOnly,cb]):this.doPing(data,mask,readOnly,cb)}doPing(data,mask,readOnly,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:9,mask:mask,readOnly:readOnly}),cb)}pong(data,mask,cb){var readOnly=!0;Buffer.isBuffer(data)||(data instanceof ArrayBuffer?data=Buffer.from(data):ArrayBuffer.isView(data)?data=viewToBuffer(data):(data=Buffer.from(data),readOnly=!1)),this._deflating?this.enqueue([this.doPong,data,mask,readOnly,cb]):this.doPong(data,mask,readOnly,cb)}doPong(data,mask,readOnly,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:10,mask:mask,readOnly:readOnly}),cb)}send(data,options,cb){var opcode=options.binary?2:1,rsv1=options.compress,readOnly=!0;Buffer.isBuffer(data)||(data instanceof ArrayBuffer?data=Buffer.from(data):ArrayBuffer.isView(data)?data=viewToBuffer(data):(data=Buffer.from(data),readOnly=!1));const perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];if(this._firstFragment?(this._firstFragment=!1,rsv1&&perMessageDeflate&&(rsv1=data.length>=perMessageDeflate._threshold),this._compress=rsv1):(rsv1=!1,opcode=0),options.fin&&(this._firstFragment=!0),perMessageDeflate){const opts={fin:options.fin,rsv1:rsv1,opcode:opcode,mask:options.mask,readOnly:readOnly};this._deflating?this.enqueue([this.dispatch,data,this._compress,opts,cb]):this.dispatch(data,this._compress,opts,cb)}else this.sendFrame(Sender.frame(data,{fin:options.fin,rsv1:!1,opcode:opcode,mask:options.mask,readOnly:readOnly}),cb)}dispatch(data,compress,options,cb){if(!compress)return void this.sendFrame(Sender.frame(data,options),cb);const perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];this._deflating=!0,perMessageDeflate.compress(data,options.fin,(_,buf)=>{options.readOnly=!1,this.sendFrame(Sender.frame(buf,options),cb),this._deflating=!1,this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const params=this._queue.shift();this._bufferedBytes-=params[1].length,params[0].apply(this,params.slice(1))}}enqueue(params){this._bufferedBytes+=params[1].length,this._queue.push(params)}sendFrame(list,cb){2===list.length?(this._socket.write(list[0]),this._socket.write(list[1],cb)):this._socket.write(list[0],cb)}}function viewToBuffer(view){const buf=Buffer.from(view.buffer);return view.byteLength!==view.buffer.byteLength?buf.slice(view.byteOffset,view.byteOffset+view.byteLength):buf}module.exports=Sender},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var postgraphile_1=__webpack_require__(541);exports.postgraphile=postgraphile_1.default;var withPostGraphileContext_1=__webpack_require__(125);exports.withPostGraphileContext=withPostGraphileContext_1.default;var postgraphile_core_1=__webpack_require__(44);exports.createPostGraphileSchema=postgraphile_core_1.createPostGraphileSchema,exports.watchPostGraphileSchema=postgraphile_core_1.watchPostGraphileSchema;var subscriptions_1=__webpack_require__(218);exports.enhanceHttpServerWithSubscriptions=subscriptions_1.enhanceHttpServerWithSubscriptions},function(module,__webpack_exports__,__webpack_require__){"use strict";async function enhanceHttpServerWithSubscriptions(){}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"enhanceHttpServerWithSubscriptions",(function(){return enhanceHttpServerWithSubscriptions}))},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return valueFromASTUntyped}));var _jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_jsutils_invariant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_jsutils_keyValMap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24),_language_kinds__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1);function valueFromASTUntyped(valueNode,variables){switch(valueNode.kind){case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.NULL:return null;case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.INT:return parseInt(valueNode.value,10);case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.FLOAT:return parseFloat(valueNode.value);case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.STRING:case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.ENUM:case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.BOOLEAN:return valueNode.value;case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.LIST:return valueNode.values.map((function(node){return valueFromASTUntyped(node,variables)}));case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.OBJECT:return Object(_jsutils_keyValMap__WEBPACK_IMPORTED_MODULE_2__.a)(valueNode.fields,(function(field){return field.name.value}),(function(field){return valueFromASTUntyped(field.value,variables)}));case _language_kinds__WEBPACK_IMPORTED_MODULE_4__.a.VARIABLE:var variableName=valueNode.name.value;return variables&&!Object(_jsutils_isInvalid__WEBPACK_IMPORTED_MODULE_3__.a)(variables[variableName])?variables[variableName]:void 0}Object(_jsutils_invariant__WEBPACK_IMPORTED_MODULE_1__.a)(!1,"Unexpected value node: "+Object(_jsutils_inspect__WEBPACK_IMPORTED_MODULE_0__.a)(valueNode))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function symbolObservablePonyfill(root){var result,Symbol=root.Symbol;return"function"==typeof Symbol?Symbol.observable?result=Symbol.observable:(result=Symbol("observable"),Symbol.observable=result):result="@@observable",result}__webpack_require__.d(__webpack_exports__,"a",(function(){return symbolObservablePonyfill}))},function(module,exports,__webpack_require__){const awsServerlessExpress=__webpack_require__(222),{postgraphile:postgraphile}=__webpack_require__(229),{options:options}=__webpack_require__(550),combineMiddlewares=__webpack_require__(551),cors=__webpack_require__(552),schemas=process.env.DATABASE_SCHEMAS?process.env.DATABASE_SCHEMAS.split(","):["app_public"],app=combineMiddlewares([cors(),(req,res,next)=>{if(options.absoluteRoutes)try{const realPath=JSON.parse(decodeURIComponent(req.headers["x-apigateway-event"])).requestContext.path;req.originalUrl=realPath}catch(e){return next(new Error("Processing event failed"))}next()},postgraphile(process.env.DATABASE_URL,schemas,{...options,readCache:__dirname+"/postgraphile.cache"})]),binaryMimeTypes=options.graphiql?["image/x-icon"]:void 0,server=awsServerlessExpress.createServer((req,res)=>{app(req,res,err=>{if(err)return console.error(err),res.headersSent||(res.statusCode=err.status||err.statusCode||500,res.setHeader("Content-Type","application/json")),void res.end(JSON.stringify({errors:[{message:err.message}]}));res.finished||(res.headersSent||(res.statusCode=404),res.end(`'${req.url}' not found`))})},void 0,binaryMimeTypes);exports.handler=(event,context)=>awsServerlessExpress.proxy(server,event,context)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(223)},function(module,exports,__webpack_require__){"use strict";const http=__webpack_require__(50),url=__webpack_require__(51),binarycase=__webpack_require__(224),isType=__webpack_require__(62);function getPathWithQueryStringParams(event){return url.format({pathname:event.path,query:event.queryStringParameters})}function getEventBody(event){return Buffer.from(event.body,event.isBase64Encoded?"base64":"utf8")}function mapApiGatewayEventToHttpRequest(event,context,socketPath){const headers=Object.assign({},event.headers);if(event.body&&!headers["Content-Length"]){const body=getEventBody(event);headers["Content-Length"]=Buffer.byteLength(body)}const clonedEventWithoutBody=(json=event,JSON.parse(JSON.stringify(json)));var json;return delete clonedEventWithoutBody.body,headers["x-apigateway-event"]=encodeURIComponent(JSON.stringify(clonedEventWithoutBody)),headers["x-apigateway-context"]=encodeURIComponent(JSON.stringify(context)),{method:event.httpMethod,path:getPathWithQueryStringParams(event),headers:headers,socketPath:socketPath}}function forwardResponseToApiGateway(server,response,resolver){const buf=[];response.on("data",chunk=>buf.push(chunk)).on("end",()=>{const bodyBuffer=Buffer.concat(buf),statusCode=response.statusCode,headers=response.headers;"chunked"===headers["transfer-encoding"]&&delete headers["transfer-encoding"],Object.keys(headers).forEach(h=>{Array.isArray(headers[h])&&("set-cookie"===h.toLowerCase()?(headers[h].forEach((value,i)=>{headers[binarycase(h,i+1)]=value}),delete headers[h]):headers[h]=headers[h].join(","))});var params;const isBase64Encoded=function(params){return params.binaryMimeTypes.length>0&&!!isType.is(params.contentType,params.binaryMimeTypes)}({contentType:(params={contentTypeHeader:headers["content-type"]}).contentTypeHeader?params.contentTypeHeader.split(";")[0]:"",binaryMimeTypes:server._binaryTypes}),successResponse={statusCode:statusCode,body:bodyBuffer.toString(isBase64Encoded?"base64":"utf8"),headers:headers,isBase64Encoded:isBase64Encoded};resolver.succeed({response:successResponse})})}function forwardRequestToNodeServer(server,event,context,resolver){try{const requestOptions=mapApiGatewayEventToHttpRequest(event,context,getSocketPath(server._socketPathSuffix)),req=http.request(requestOptions,response=>forwardResponseToApiGateway(server,response,resolver));if(event.body){const body=getEventBody(event);req.write(body)}req.on("error",error=>function(error,resolver){console.log("ERROR: aws-serverless-express connection error"),console.error(error),resolver.succeed({response:{statusCode:502,body:"",headers:{}}})}(error,resolver)).end()}catch(error){return function(error,resolver){console.log("ERROR: aws-serverless-express error"),console.error(error),resolver.succeed({response:{statusCode:500,body:"",headers:{}}})}(error,resolver),server}}function startServer(server){return server.listen(getSocketPath(server._socketPathSuffix))}function getSocketPath(socketPathSuffix){if(/^win/.test(process.platform)){return __webpack_require__(63).join("\\\\?\\pipe",process.cwd(),"server-"+socketPathSuffix)}return`/tmp/server-${socketPathSuffix}.sock`}function getRandomString(){return Math.random().toString(36).substring(2,15)}function makeResolver(params){return{succeed:params2=>"CONTEXT_SUCCEED"===params.resolutionMode?params.context.succeed(params2.response):"CALLBACK"===params.resolutionMode?params.callback(null,params2.response):"PROMISE"===params.resolutionMode?params.promise.resolve(params2.response):void 0}}exports.createServer=function(requestListener,serverListenCallback,binaryTypes){const server=http.createServer(requestListener);return server._socketPathSuffix=getRandomString(),server._binaryTypes=binaryTypes?binaryTypes.slice():[],server.on("listening",()=>{server._isListening=!0,serverListenCallback&&serverListenCallback()}),server.on("close",()=>{server._isListening=!1}).on("error",error=>{if("EADDRINUSE"===error.code)return console.warn(`WARNING: Attempting to listen on socket ${getSocketPath(server._socketPathSuffix)}, but it is already in use. This is likely as a result of a previous invocation error or timeout. Check the logs for the invocation(s) immediately prior to this for root cause, and consider increasing the timeout and/or cpu/memory allocation if this is purely as a result of a timeout. aws-serverless-express will restart the Node.js server listening on a new port and continue with this request.`),server._socketPathSuffix=getRandomString(),server.close(()=>startServer(server));console.log("ERROR: server error"),console.error(error)}),server},exports.proxy=function proxy(server,event,context,resolutionMode,callback){if(!resolutionMode){const resolver=makeResolver({context:context,resolutionMode:"CONTEXT_SUCCEED"});return server._isListening?(forwardRequestToNodeServer(server,event,context,resolver),server):startServer(server).on("listening",()=>proxy(server,event,context))}return{promise:new Promise((resolve,reject)=>{const resolver=makeResolver({context:context,callback:callback,promise:{resolve:resolve,reject:reject},resolutionMode:resolutionMode});server._isListening?forwardRequestToNodeServer(server,event,context,resolver):startServer(server).on("listening",()=>forwardRequestToNodeServer(server,event,context,resolver))})}}},function(module,exports,__webpack_require__){"use strict";
/**
 *  @license
 *    Copyright 2018 Brigham Young University
 *
 *    Licensed under the Apache License, Version 2.0 (the "License");
 *    you may not use this file except in compliance with the License.
 *    You may obtain a copy of the License at
 *
 *        http://www.apache.org/licenses/LICENSE-2.0
 *
 *    Unless required by applicable law or agreed to in writing, software
 *    distributed under the License is distributed on an "AS IS" BASIS,
 *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *    See the License for the specific language governing permissions and
 *    limitations under the License.
 **/function binaryCase(string,number,options){return options&&"object"==typeof options||(options={}),options.hasOwnProperty("allowOverflow")||(options.allowOverflow=!0),!(number>binaryCase.maxNumber(string)&&!options.allowOverflow)&&getBinaryCase(string,number)}function getBinaryCase(str,val){let res="";for(let i=0;i<str.length;i++){const code=str.charCodeAt(i);if(code>=65&&code<=90?(res+=1&val?String.fromCharCode(code+32):String.fromCharCode(code),val>>>=1):code>=97&&code<=122?(res+=1&val?String.fromCharCode(code-32):String.fromCharCode(code),val>>>=1):res+=String.fromCharCode(code),0===val)return res+str.substr(i+1)}return res}module.exports=binaryCase,binaryCase.iterator=function(string,options){const max=binaryCase.maxNumber(string);if(options&&"object"==typeof options||(options={}),options.hasOwnProperty("startIndex")||(options.startIndex=0),"number"!=typeof options.startIndex||!Number.isInteger(options.startIndex)||options.startIndex<0)throw Error("Option startIndex must be a non-negative integer.");let index=options.startIndex;return{next:function(){return index>max?{done:!0}:{done:!1,value:getBinaryCase(string,index++)}}}},binaryCase.maxNumber=function(string){const pow=string.match(/[a-z]/gi).length;return Math.pow(2,pow)-1},binaryCase.variations=function(string){const results=[],max=binaryCase.maxNumber(string);for(let i=0;i<=max;i++)results.push(binaryCase(string,i));return results}},function(module,exports){
/*!
 * media-typer
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */
var paramRegExp=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,textRegExp=/^[\u0020-\u007e\u0080-\u00ff]+$/,tokenRegExp=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,qescRegExp=/\\([\u0000-\u007f])/g,quoteRegExp=/([\\"])/g,subtypeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,typeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,typeRegExp=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function qstring(val){var str=String(val);if(tokenRegExp.test(str))return str;if(str.length>0&&!textRegExp.test(str))throw new TypeError("invalid parameter value");return'"'+str.replace(quoteRegExp,"\\$1")+'"'}exports.format=function(obj){if(!obj||"object"!=typeof obj)throw new TypeError("argument obj is required");var parameters=obj.parameters,subtype=obj.subtype,suffix=obj.suffix,type=obj.type;if(!type||!typeNameRegExp.test(type))throw new TypeError("invalid type");if(!subtype||!subtypeNameRegExp.test(subtype))throw new TypeError("invalid subtype");var string=type+"/"+subtype;if(suffix){if(!typeNameRegExp.test(suffix))throw new TypeError("invalid suffix");string+="+"+suffix}if(parameters&&"object"==typeof parameters)for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){if(param=params[i],!tokenRegExp.test(param))throw new TypeError("invalid parameter name");string+="; "+param+"="+qstring(parameters[param])}return string},exports.parse=function(string){if(!string)throw new TypeError("argument string is required");"object"==typeof string&&(string=function(obj){if("function"==typeof obj.getHeader)return obj.getHeader("content-type");if("object"==typeof obj.headers)return obj.headers&&obj.headers["content-type"]}(string));if("string"!=typeof string)throw new TypeError("argument string is required to be a string");var key,match,value,index=string.indexOf(";"),obj=function(string){var match=typeRegExp.exec(string.toLowerCase());if(!match)throw new TypeError("invalid media type");var suffix,type=match[1],subtype=match[2],index=subtype.lastIndexOf("+");-1!==index&&(suffix=subtype.substr(index+1),subtype=subtype.substr(0,index));return{type:type,subtype:subtype,suffix:suffix}}(-1!==index?string.substr(0,index):string),params={};paramRegExp.lastIndex=index;for(;match=paramRegExp.exec(string);){if(match.index!==index)throw new TypeError("invalid parameter format");index+=match[0].length,key=match[1].toLowerCase(),'"'===(value=match[2])[0]&&(value=value.substr(1,value.length-2).replace(qescRegExp,"$1")),params[key]=value}if(-1!==index&&index!==string.length)throw new TypeError("invalid parameter format");return obj.parameters=params,obj}},function(module,exports,__webpack_require__){"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var extensions,types,preference,db=__webpack_require__(227),extname=__webpack_require__(63).extname,EXTRACT_TYPE_REGEXP=/^\s*([^;\s]*)(?:;|\s|$)/,TEXT_TYPE_REGEXP=/^text\//i;function charset(type){if(!type||"string"!=typeof type)return!1;var match=EXTRACT_TYPE_REGEXP.exec(type),mime=match&&db[match[1].toLowerCase()];return mime&&mime.charset?mime.charset:!(!match||!TEXT_TYPE_REGEXP.test(match[1]))&&"UTF-8"}exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=function(str){if(!str||"string"!=typeof str)return!1;var mime=-1===str.indexOf("/")?exports.lookup(str):str;if(!mime)return!1;if(-1===mime.indexOf("charset")){var charset=exports.charset(mime);charset&&(mime+="; charset="+charset.toLowerCase())}return mime},exports.extension=function(type){if(!type||"string"!=typeof type)return!1;var match=EXTRACT_TYPE_REGEXP.exec(type),exts=match&&exports.extensions[match[1].toLowerCase()];if(!exts||!exts.length)return!1;return exts[0]},exports.extensions=Object.create(null),exports.lookup=function(path){if(!path||"string"!=typeof path)return!1;var extension=extname("x."+path).toLowerCase().substr(1);if(!extension)return!1;return exports.types[extension]||!1},exports.types=Object.create(null),extensions=exports.extensions,types=exports.types,preference=["nginx","apache",void 0,"iana"],Object.keys(db).forEach((function(type){var mime=db[type],exts=mime.extensions;if(exts&&exts.length){extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension=exts[i];if(types[extension]){var from=preference.indexOf(db[types[extension]].source),to=preference.indexOf(mime.source);if("application/octet-stream"!==types[extension]&&(from>to||from===to&&"application/"===types[extension].substr(0,12)))continue}types[extension]=type}}}))},function(module,exports,__webpack_require__){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
module.exports=__webpack_require__(228)},function(module){module.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma","es"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/mrb-publish+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["keynote"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana"},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(module,exports,__webpack_require__){__webpack_require__(230)?module.exports=__webpack_require__(231):module.exports=__webpack_require__(540)},function(module,exports){if("1"===process.env.GRAPHILE_TURBO){if(parseInt(process.version.replace(/\..*$/,""),10)<12)throw new Error("Turbo mode requires Node v12 or higher");module.exports=!0}else module.exports=!1},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__(64).__exportStar(__webpack_require__(126),exports);var postgraphile_core_1=__webpack_require__(44);exports.SchemaBuilder=postgraphile_core_1.SchemaBuilder,exports.postGraphileBaseOverrides=postgraphile_core_1.postGraphileBaseOverrides,exports.postGraphileClassicIdsOverrides=postgraphile_core_1.postGraphileClassicIdsOverrides,exports.PostGraphileInflectionPlugin=postgraphile_core_1.PostGraphileInflectionPlugin,exports.PostGraphileClassicIdsInflectionPlugin=postgraphile_core_1.PostGraphileClassicIdsInflectionPlugin;var postgraphile_1=__webpack_require__(185);exports.postgraphile=postgraphile_1.postgraphile,exports.createPostGraphileSchema=postgraphile_1.createPostGraphileSchema,exports.watchPostGraphileSchema=postgraphile_1.watchPostGraphileSchema,exports.withPostGraphileContext=postgraphile_1.withPostGraphileContext,exports.enhanceHttpServerWithSubscriptions=postgraphile_1.enhanceHttpServerWithSubscriptions,exports.postgraphql=postgraphile_1.postgraphile,exports.createPostGraphQLSchema=postgraphile_1.createPostGraphileSchema,exports.watchPostGraphQLSchema=postgraphile_1.watchPostGraphileSchema,exports.withPostGraphQLContext=postgraphile_1.withPostGraphileContext;var pluginHook_1=__webpack_require__(73);exports.makePluginHook=pluginHook_1.makePluginHook;const postgraphile_2=__webpack_require__(185);exports.default=postgraphile_2.postgraphile},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const graphql_1=__webpack_require__(20),$$embed=Symbol("graphile-embed");function isEmbed(obj){return obj&&!0===obj[$$embed]}exports.isEmbed=isEmbed,exports.embed=function(value){return{[$$embed]:!0,kind:"GraphileEmbed",value:value}},exports.gql=function(strings,...interpolatedValues){const gqlStrings=[],placeholders={},additionalDefinitions=[],createPlaceholderFor=value=>{const rand=String(Math.random());return placeholders[rand]=value,`"${rand}"`};for(let idx=0,length=strings.length;idx<length;idx++)if(gqlStrings.push(strings[idx]),idx===length-1);else{const interpolatedValue=interpolatedValues[idx];if(isEmbed(interpolatedValue))gqlStrings.push(createPlaceholderFor(interpolatedValue));else if("string"==typeof interpolatedValue)gqlStrings.push(String(interpolatedValue));else{if(!(input=interpolatedValue)||"object"!=typeof input||"Document"!==input.kind||!Array.isArray(input.definitions))throw new Error(`Placeholder ${idx+1} is invalid - expected string or GraphQL AST, but received '${typeof interpolatedValue}'. Happened after '${gqlStrings.join("")}'`);additionalDefinitions.push(...interpolatedValue.definitions)}}var input;const ast=graphql_1.parse(gqlStrings.join("")),visitor={enter:node=>"Document"===node.kind?Object.assign(Object.assign({},node),{definitions:[...node.definitions,...additionalDefinitions]}):"Argument"===node.kind&&"StringValue"===node.value.kind&&placeholders[node.value.value]?Object.assign(Object.assign({},node),{value:placeholders[node.value.value]}):void 0};return graphql_1.visit(ast,visitor)}},function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getOperationAST",(function(){return getOperationAST}));var _language_kinds__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function getOperationAST(documentAST,operationName){for(var operation=null,_i2=0,_documentAST$definiti2=documentAST.definitions;_i2<_documentAST$definiti2.length;_i2++){var definition=_documentAST$definiti2[_i2];if(definition.kind===_language_kinds__WEBPACK_IMPORTED_MODULE_0__.a.OPERATION_DEFINITION)if(operationName){if(definition.name&&definition.name.value===operationName)return definition}else{if(operation)return null;operation=definition}}return operation}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(additionalInflectorsOrGenerator,replace=!1){return(builder,options)=>{builder.hook("inflection",(inflection,build)=>{const additionalInflectors="function"==typeof additionalInflectorsOrGenerator?additionalInflectorsOrGenerator(inflection,build,options):additionalInflectorsOrGenerator;return replace?(Object.assign(inflection,additionalInflectors),inflection):build.extend(inflection,additionalInflectors,`Adding inflectors ('${Object.keys(additionalInflectors).join("', '")}') via makeAddInflectorsPlugin. You can pass \`true\` as the second argument to makeAddInflectorsPlugin to allow overwriting existing inflectors.`)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const fieldHelpers_1=__webpack_require__(127),recurseDataGeneratorsWorkaroundFieldByType=new Map;exports.default=function(generator,uniqueId=String(Math.random()).substr(2)){let graphql;return(builder,schemaOptions)=>{builder.hook("build",build=>{graphql=build.graphql;const{addType:addType}=build,{GraphQLEnumType:GraphQLEnumType,GraphQLInputObjectType:GraphQLInputObjectType,GraphQLObjectType:GraphQLObjectType,GraphQLScalarType:GraphQLScalarType,GraphQLDirective:GraphQLDirective,GraphQLUnionType:GraphQLUnionType}=graphql,{typeDefs:typeDefs,resolvers:resolvers={}}="function"==typeof generator?generator(build,schemaOptions):generator,mergedTypeDefinitions=(Array.isArray(typeDefs)?typeDefs:[typeDefs]).reduce((definitions,typeDef)=>{if(!typeDef||"Document"!==typeDef.kind)throw new Error("The first argument to makeExtendSchemaPlugin must be generated by the `gql` helper, or be an array of the same.");return definitions.push(...typeDef.definitions),definitions},[]),typeExtensions={GraphQLSchema:{directives:[],types:[]},GraphQLInputObjectType:{},GraphQLObjectType:{}},newTypes=[];return mergedTypeDefinitions.forEach(definition=>{if("EnumTypeDefinition"===definition.kind)newTypes.push({type:GraphQLEnumType,definition:definition});else if("ObjectTypeExtension"===definition.kind){const name=getName(definition.name);typeExtensions.GraphQLObjectType[name]||(typeExtensions.GraphQLObjectType[name]=[]),typeExtensions.GraphQLObjectType[name].push(definition)}else if("InputObjectTypeExtension"===definition.kind){const name=getName(definition.name);typeExtensions.GraphQLInputObjectType[name]||(typeExtensions.GraphQLInputObjectType[name]=[]),typeExtensions.GraphQLInputObjectType[name].push(definition)}else if("ObjectTypeDefinition"===definition.kind)newTypes.push({type:GraphQLObjectType,definition:definition});else if("InputObjectTypeDefinition"===definition.kind)newTypes.push({type:GraphQLInputObjectType,definition:definition});else if("UnionTypeDefinition"===definition.kind)newTypes.push({type:GraphQLUnionType,definition:definition});else if("DirectiveDefinition"===definition.kind)newTypes.push({type:GraphQLDirective,definition:definition});else{if("ScalarTypeDefinition"!==definition.kind){if("TypeExtensionDefinition"===definition.kind)throw new Error("You appear to be using a GraphQL version prior to v0.12.0 which has different syntax for schema extensions (e.g. 'TypeExtensionDefinition' instead of 'ObjectTypeExtension'). Sadly makeExtendSchemaPlugin does not support versions of graphql prior to 0.12.0, please update your version of graphql.");throw new Error(`Unexpected '${definition.kind}' definition; we were expecting 'GraphQLEnumType', 'ObjectTypeExtension', 'InputObjectTypeExtension', 'ObjectTypeDefinition' or 'InputObjectTypeDefinition', i.e. something like 'extend type Foo { ... }'`)}{const name=getName(definition.name);if(resolvers[name]){const gqlScalarType=resolvers[name];if(gqlScalarType.name!==name)throw new Error(`Names for scalar type do not match; schema: '${name}' vs type: '${String(gqlScalarType.name)}'`);addType(gqlScalarType)}else newTypes.push({type:GraphQLScalarType,definition:definition})}}}),build.extend(build,{[`ExtendSchemaPlugin_${uniqueId}_typeExtensions`]:typeExtensions,[`ExtendSchemaPlugin_${uniqueId}_newTypes`]:newTypes,[`ExtendSchemaPlugin_${uniqueId}_resolvers`]:resolvers})}),builder.hook("init",(_,build,_context)=>{const{newWithHooks:newWithHooks,[`ExtendSchemaPlugin_${uniqueId}_typeExtensions`]:typeExtensions,[`ExtendSchemaPlugin_${uniqueId}_newTypes`]:newTypes,[`ExtendSchemaPlugin_${uniqueId}_resolvers`]:resolvers,graphql:{GraphQLEnumType:GraphQLEnumType,GraphQLObjectType:GraphQLObjectType,GraphQLInputObjectType:GraphQLInputObjectType,GraphQLUnionType:GraphQLUnionType,GraphQLScalarType:GraphQLScalarType,GraphQLDirective:GraphQLDirective,Kind:Kind}}=build;return newTypes.forEach(({type:type,definition:definition})=>{if(type===GraphQLEnumType){const name=getName(definition.name),description=getDescription(definition.description),directives=getDirectives(definition.directives),relevantResolver=resolvers[name]||{},values=definition.values.reduce((memo,value)=>{const valueName=getName(value.name),valueDescription=getDescription(value.description),valueDirectives=getDirectives(value.directives),valueValue=void 0!==relevantResolver[valueName]?relevantResolver[valueName]:valueName,valueDeprecationReason=valueDirectives.deprecated&&valueDirectives.deprecated.reason;return Object.assign(Object.assign({},memo),{[valueName]:{value:valueValue,deprecationReason:valueDeprecationReason,description:valueDescription,directives:valueDirectives}})},{}),scope=Object.assign({directives:directives},directives.scope||{});newWithHooks(type,{name:name,values:values,description:description},scope)}else if(type===GraphQLObjectType){const name=getName(definition.name),description=getDescription(definition.description),interfaces=function(interfaces,_build){if(interfaces.length)throw new Error("We don't support interfaces via makeExtendSchemaPlugin yet; PRs welcome!");return[]}(definition.interfaces),directives=getDirectives(definition.directives),scope=Object.assign({__origin:"makeExtendSchemaPlugin",directives:directives},directives.scope||{});newWithHooks(type,Object.assign({name:name,interfaces:interfaces,fields:fieldsContext=>getFields(fieldsContext.Self,definition.fields,resolvers,fieldsContext,build)},description?{description:description}:null),scope)}else if(type===GraphQLInputObjectType){const name=getName(definition.name),description=getDescription(definition.description),directives=getDirectives(definition.directives),scope=Object.assign({__origin:"makeExtendSchemaPlugin",directives:directives},directives.scope||{});newWithHooks(type,Object.assign({name:name,fields:({Self:Self})=>getInputFields(Self,definition.fields,build)},description?{description:description}:null),scope)}else if(type===GraphQLUnionType){const name=getName(definition.name),description=getDescription(definition.description),directives=getDirectives(definition.directives),scope=Object.assign({__origin:"makeExtendSchemaPlugin",directives:directives},directives.scope||{}),resolveType=resolvers[name]&&resolvers[name].__resolveType;newWithHooks(type,Object.assign(Object.assign({name:name,types:()=>{if(Array.isArray(definition.types))return definition.types.map(typeAST=>{if("NamedType"!==typeAST.kind)throw new Error("Only support unions of named types");return getType(typeAST,build)})}},resolveType?{resolveType:resolveType}:null),description?{description:description}:null),scope)}else if(type===GraphQLScalarType){const name=getName(definition.name),description=getDescription(definition.description),directives=getDirectives(definition.directives),scope=Object.assign({__origin:"makeExtendSchemaPlugin",directives:directives},directives.scope||{});newWithHooks(type,{name:name,description:description,serialize:value=>String(value),parseValue:value=>String(value),parseLiteral:ast=>{if(ast.kind!==Kind.STRING)throw new Error("Can only parse string values");return ast.value}},scope)}else{if(type!==GraphQLDirective)throw new Error(`We have no code to build an object of type '${type}'; it should not have reached this area of the code.`);{const name=getName(definition.name),description=getDescription(definition.description),locations=definition.locations.map(getName),args=getArguments(definition.arguments,build),directive=new GraphQLDirective(Object.assign({name:name,locations:locations,args:args},description?{description:description}:null));typeExtensions.GraphQLSchema.directives.push(directive)}}}),_}),builder.hook("GraphQLSchema",(schema,build,_context)=>{const{[`ExtendSchemaPlugin_${uniqueId}_typeExtensions`]:typeExtensions}=build;return Object.assign(Object.assign({},schema),{directives:[...schema.directives||build.graphql.specifiedDirectives||[],...typeExtensions.GraphQLSchema.directives],types:[...schema.types||[],...typeExtensions.GraphQLSchema.types]})}),builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,[`ExtendSchemaPlugin_${uniqueId}_typeExtensions`]:typeExtensions,[`ExtendSchemaPlugin_${uniqueId}_resolvers`]:resolvers}=build,{Self:Self}=context;if(typeExtensions.GraphQLObjectType[Self.name]){const newFields=typeExtensions.GraphQLObjectType[Self.name].reduce((memo,extension)=>{const moreFields=getFields(Self,extension.fields,resolvers,context,build);return extend(memo,moreFields)},{});return extend(fields,newFields)}return fields}),builder.hook("GraphQLInputObjectType:fields",(fields,build,context)=>{const{extend:extend,[`ExtendSchemaPlugin_${uniqueId}_typeExtensions`]:typeExtensions}=build,{Self:Self}=context;if(typeExtensions.GraphQLInputObjectType[Self.name]){const newFields=typeExtensions.GraphQLInputObjectType[Self.name].reduce((memo,extension)=>{const moreFields=getInputFields(Self,extension.fields,build);return extend(memo,moreFields)},{});return extend(fields,newFields)}return fields})};function getName(name){if(name&&"Name"===name.kind&&name.value)return name.value;throw new Error("Could not extract name from AST")}function getDescription(desc){if(desc){if("StringValue"===desc.kind)return desc.value;throw new Error(`AST issue, we weren't expecting a description of kind '${desc.kind}' - PRs welcome!`)}return null}function getType(type,build){if("NamedType"===type.kind){const Type=build.getTypeByName(getName(type.name));if(!Type)throw new Error(`Could not find type named '${getName(type.name)}'.`);return Type}if("NonNullType"===type.kind)return new build.graphql.GraphQLNonNull(getType(type.type,build));if("ListType"===type.kind)return new build.graphql.GraphQLList(getType(type.type,build));throw new Error(`We don't support AST type definition of kind '${type.kind}' yet... PRs welcome!`)}function getValue(value,inType){const type=inType&&graphql.isNonNullType(inType)?inType.ofType:inType;if("BooleanValue"===value.kind)return!!value.value;if("StringValue"===value.kind)return value.value;if("IntValue"===value.kind)return parseInt(value.value,10);if("FloatValue"===value.kind)return parseFloat(value.value);if("EnumValue"===value.kind){if(!type)throw new Error("We do not support EnumValue arguments in directives at this time");const enumValueName=value.value,enumType=graphql.isEnumType(type)?type:null;if(!enumType)throw new Error("Tried to interpret an EnumValue for non-enum type "+type);const enumValue=enumType.getValues().find(v=>v.name===enumValueName);return enumValue?enumValue.value:void 0}if("NullValue"===value.kind)return null;if("ListValue"===value.kind){const childType=type&&graphql.isListType(type)?type.ofType:null;return value.values.map(value=>getValue(value,childType))}if("GraphileEmbed"===value.kind)return value.value;throw new Error(`Value kind '${value.kind}' not supported yet. PRs welcome!`)}function getDirectives(directives){return(directives||[]).reduce((directivesList,directive)=>{if("Directive"!==directive.kind)throw new Error(`Unexpected '${directive.kind}', we were expecting 'Directive'`);{const name=getName(directive.name),value=(directive.arguments||[]).reduce((argumentValues,arg)=>{if("Argument"!==arg.kind)throw new Error(`Unexpected '${arg.kind}', we were expecting 'Argument'`);{const argName=getName(arg.name),argValue=getValue(arg.value);if(argumentValues[name])throw new Error(`Argument '${argName}' of directive '${name}' must only be used once.`);argumentValues[argName]=argValue}return argumentValues},{});if(directivesList[name])throw new Error(`Directive '${name}' must only be used once per field.`);directivesList[name]=value}return directivesList},{})}function getArguments(args,build){return args&&args.length?args.reduce((memo,arg)=>{if("InputValueDefinition"!==arg.kind)throw new Error(`Unexpected '${arg.kind}', we were expecting an 'InputValueDefinition'`);{const name=getName(arg.name),type=getType(arg.type,build),description=getDescription(arg.description);let defaultValue;arg.defaultValue&&(defaultValue=getValue(arg.defaultValue,type)),memo[name]=Object.assign(Object.assign({type:type},null!=defaultValue?{defaultValue:defaultValue}:null),description?{description:description}:null)}return memo},{}):{}}function getFields(SelfGeneric,fields,resolvers,{fieldWithHooks:fieldWithHooks},build){const scopeByType=build.scopeByType||new Map;if(!build.graphql.isNamedType(SelfGeneric))throw new Error("getFields only supports named types");const Self=SelfGeneric,{pgSql:sql,graphql:{isScalarType:isScalarType,getNamedType:getNamedType}}=build;function augmentResolver(resolver,fieldContext,type){let val,got=!1;return async(parent,args,context,resolveInfo)=>{const graphileHelpers=fieldHelpers_1.makeFieldHelpers(build,fieldContext,context,resolveInfo),result=await resolver(parent,args,context,Object.assign(Object.assign({},resolveInfo),{graphile:graphileHelpers}),graphileHelpers),recurseDataGeneratorsWorkaroundField=(()=>{if(!got){got=!0;const namedType=build.graphql.getNamedType(type);val=recurseDataGeneratorsWorkaroundFieldByType.get(namedType)}return val})();return null!=result&&!result.data&&recurseDataGeneratorsWorkaroundField?Object.assign(Object.assign({},result),{data:result[recurseDataGeneratorsWorkaroundField]}):result}}return fields&&fields.length?fields.reduce((memo,field)=>{if("FieldDefinition"===field.kind){const description=getDescription(field.description),fieldName=getName(field.name),args=getArguments(field.arguments,build),type=getType(field.type,build),nullableType=build.graphql.getNullableType(type),namedType=build.graphql.getNamedType(type),typeScope=scopeByType.get(namedType)||{},directives=getDirectives(field.directives),scope=Object.assign(Object.assign(Object.assign(Object.assign({},typeScope.pgIntrospection&&"class"===typeScope.pgIntrospection.kind?{pgFieldIntrospection:typeScope.pgIntrospection}:null),typeScope.isPgRowConnectionType&&typeScope.pgIntrospection?{isPgFieldConnection:!0,pgFieldIntrospection:typeScope.pgIntrospection}:null),{fieldDirectives:directives}),directives.scope||{}),deprecationReason=directives.deprecated&&directives.deprecated.reason,functionToResolveObject=functionOrResolveObject=>"function"==typeof functionOrResolveObject?{resolve:functionOrResolveObject}:functionOrResolveObject,isConnection=!!scope.isPgFieldConnection,isListType=nullableType!==namedType&&nullableType.constructor===build.graphql.GraphQLList,table=scope.pgFieldIntrospection&&"class"===scope.pgFieldIntrospection.kind?scope.pgFieldIntrospection:null,isScalar=isScalarType(getNamedType(type)),generateImplicitResolverIfPossible=()=>directives.pgQuery&&(table&&directives.pgQuery.source||isScalar&&directives.pgQuery.fragment)?(data,_args,_resolveContext,resolveInfo)=>{const safeAlias=build.getSafeAliasFromResolveInfo(resolveInfo),liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;if(isConnection)return build.pgAddStartEndCursor(data[safeAlias]);if(isListType){const records=data[safeAlias];return table&&liveRecord&&records.forEach(r=>r&&liveRecord("pg",table,r.__identifiers)),records}{const record=data[safeAlias];return record&&liveRecord&&table&&liveRecord("pg",table,record.__identifiers),record}}:null,possibleResolver=resolvers[Self.name]?resolvers[Self.name][fieldName]:null,resolver=!possibleResolver||"object"!=typeof possibleResolver&&"function"!=typeof possibleResolver?generateImplicitResolverIfPossible():possibleResolver,rawResolversSpec=resolver?functionToResolveObject(resolver):null;directives.recurseDataGenerators&&(recurseDataGeneratorsWorkaroundFieldByType.get(Self)||recurseDataGeneratorsWorkaroundFieldByType.set(Self,fieldName),console.warn("DEPRECATION: `recurseDataGenerators` is misleading, please use `pgField` instead"),directives.pgField||(directives.pgField=directives.recurseDataGenerators));const fieldSpecGenerator=fieldContext=>{const{pgIntrospection:pgIntrospection}=fieldContext.scope;if(directives.requires&&"class"===pgIntrospection.kind){const table=pgIntrospection;if(!Array.isArray(directives.requires.columns))throw new Error('@requires(columns: ["...", ...]) directive called with invalid arguments');{const attrs=table.attributes.filter(attr=>directives.requires.columns.indexOf(attr.name)>=0),fieldNames=attrs.map(attr=>build.inflection.column(attr)),ReturnTypes=attrs.map(attr=>build.pgGetGqlTypeByTypeIdAndModifier(attr.typeId,attr.typeModifier)||build.graphql.GraphQLString);fieldContext.addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{attrs.forEach((attr,i)=>{const columnFieldName=fieldNames[i],ReturnType=ReturnTypes[i];queryBuilder.select(build.pgGetSelectValueForFieldAndTypeAndModifier(ReturnType,fieldContext,parsedResolveInfoFragment,sql.fragment`(${queryBuilder.getTableAlias()}.${sql.identifier(attr.name)})`,attr.type,attr.typeModifier),columnFieldName)})}}))}}if(directives.pgQuery)if(table&&directives.pgQuery.source)fieldContext.addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{const source="function"==typeof directives.pgQuery.source?directives.pgQuery.source(queryBuilder,parsedResolveInfoFragment.args):directives.pgQuery.source;queryBuilder.select(()=>{const resolveData=fieldContext.getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,namedType),tableAlias=sql.identifier(Symbol()),query=build.pgQueryFromResolveData(source,tableAlias,resolveData,{withPagination:isConnection,withPaginationAsFields:!1,asJsonAggregate:isListType&&!isConnection,asJson:!isConnection,addNullCase:!isConnection},innerQueryBuilder=>{innerQueryBuilder.parentQueryBuilder=queryBuilder,build.options.subscriptions&&table.primaryKeyConstraint&&innerQueryBuilder.selectIdentifiers(table),"function"==typeof directives.pgQuery.withQueryBuilder&&directives.pgQuery.withQueryBuilder(innerQueryBuilder,parsedResolveInfoFragment.args)},queryBuilder.context,queryBuilder.rootValue);return sql.fragment`(${query})`},build.getSafeAliasFromAlias(parsedResolveInfoFragment.alias))}}));else{if(!isScalar||!directives.pgQuery.fragment)throw new Error("@pgQuery(...) directive called with invalid arguments - for a table value, call it with 'source' for a scalar with 'fragment'!");fieldContext.addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{queryBuilder.select("function"==typeof directives.pgQuery.fragment?directives.pgQuery.fragment(queryBuilder,parsedResolveInfoFragment.args):directives.pgQuery.fragment,build.getSafeAliasFromAlias(parsedResolveInfoFragment.alias))}}))}const resolversSpec=rawResolversSpec?Object.keys(rawResolversSpec).reduce((newResolversSpec,key)=>("function"==typeof rawResolversSpec[key]&&(newResolversSpec[key]=augmentResolver(rawResolversSpec[key],fieldContext,type)),newResolversSpec),{}):{};return Object.assign(Object.assign(Object.assign({type:type,args:args},deprecationReason?{deprecationReason:deprecationReason}:null),description?{description:description}:null),resolversSpec)};return directives.pgField?build.extend(memo,{[fieldName]:build.pgField(build,fieldWithHooks,fieldName,fieldSpecGenerator,scope,!1)}):build.extend(memo,{[fieldName]:fieldWithHooks(fieldName,fieldSpecGenerator,scope)})}throw new Error(`AST issue: expected 'FieldDefinition', instead received '${field.kind}'`)},{}):{}}function getInputFields(_Self,fields,build){return fields&&fields.length?fields.reduce((memo,field)=>{if("InputValueDefinition"!==field.kind)throw new Error(`AST issue: expected 'FieldDefinition', instead received '${field.kind}'`);{const description=getDescription(field.description),fieldName=getName(field.name),type=getType(field.type,build),defaultValue=field.defaultValue?getValue(field.defaultValue,type):void 0;memo[fieldName]=Object.assign({type:type,defaultValue:defaultValue},description?{description:description}:null)}return memo},{}):{}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(...plugins){return async(builder,options)=>{for(const plugin of plugins)await plugin(builder,options)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const fieldHelpers_1=__webpack_require__(127);exports.default=function(rulesOrGeneratorOrFilter,rule){if(rule&&"function"!=typeof rule)throw new Error("Invalid call signature for makeWrapResolversPlugin, expected second argument to be a function");return(builder,options)=>{const rulesOrGenerator=rule?null:rulesOrGeneratorOrFilter,filter=rule?rulesOrGeneratorOrFilter:null,rules="function"==typeof rulesOrGenerator?rulesOrGenerator(options):rulesOrGenerator;builder.hook("GraphQLObjectType:fields:field",(field,build,context)=>{const{Self:Self,scope:{fieldName:fieldName}}=context;let resolveWrapperOrSpec;if(filter){const filterResult=filter(context,build,field,options);if(!filterResult)return null!==filterResult&&console.error(`Filter should return either a truthy value, or 'null', instead received: '${filterResult}'`),field;resolveWrapperOrSpec=rule(filterResult)}else{if(!rules)throw new Error("Bad call signature for function makeWrapResolversPlugin");{const typeRules=rules[Self.name];if(!typeRules)return field;resolveWrapperOrSpec=typeRules[fieldName]}}if(!resolveWrapperOrSpec)return field;const resolveWrapper="function"==typeof resolveWrapperOrSpec?resolveWrapperOrSpec:resolveWrapperOrSpec.resolve,resolveWrapperRequirements="function"==typeof resolveWrapperOrSpec?void 0:resolveWrapperOrSpec.requires;if(resolveWrapperRequirements&&(resolveWrapperRequirements.childColumns&&resolveWrapperRequirements.childColumns.forEach(({column:column,alias:alias})=>{fieldHelpers_1.requireChildColumn(build,context,column,alias)}),resolveWrapperRequirements.siblingColumns&&resolveWrapperRequirements.siblingColumns.forEach(({column:column,alias:alias})=>{fieldHelpers_1.requireSiblingColumn(build,context,column,alias)})),!resolveWrapper)return field;const{resolve:oldResolve=(obj=>obj[fieldName])}=field;return Object.assign(Object.assign({},field),{async resolve(...resolveParams){const[source,args,graphqlContext,resolveInfo]=resolveParams,resolveInfoWithHelpers=Object.assign(Object.assign({},resolveInfo),{graphile:fieldHelpers_1.makeFieldHelpers(build,context,graphqlContext,resolveInfo)});return resolveWrapper((...overrideParams)=>oldResolve(...overrideParams.concat(resolveParams.slice(overrideParams.length))),source,args,graphqlContext,resolveInfoWithHelpers)}})})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(rules){return(builder,_options)=>{function changeNullability(field,build,context){const{Self:Self,scope:{fieldName:fieldName}}=context,typeRules=rules[Self.name];if(!typeRules)return field;const shouldBeNullable=typeRules[fieldName];if(null==shouldBeNullable)return field;const{graphql:{getNullableType:getNullableType,GraphQLNonNull:GraphQLNonNull}}=build,nullableType=getNullableType(field.type);return Object.assign(Object.assign({},field),{type:shouldBeNullable?nullableType:nullableType===field.type?new GraphQLNonNull(field.type):field.type})}builder.hook("GraphQLInputObjectType:fields:field",changeNullability),builder.hook("GraphQLObjectType:fields:field",changeNullability)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(schemaCallback){return builder=>{builder.hook("finalize",schemaCallback)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(schemaName,tableName,conditionFieldName,conditionFieldSpecGenerator,conditionGenerator){const displayName=`makeAddPgTableConditionPlugin__${schemaName}__${tableName}__${conditionFieldName}`,plugin=builder=>{const instance=Symbol(displayName);builder.hook("build",(function(build){return build._pluginMeta||(build._pluginMeta={}),build._pluginMeta[instance]={seen:!1},build})),builder.hook("finalize",(function(schema,build){return build._pluginMeta[instance].seen||console.error(`WARNING: failed to add condition '${conditionFieldName}' to table "${schemaName}"."${tableName}"; did you get the schema/table name right?`),schema})),builder.hook("GraphQLInputObjectType:fields",(function(fields,build,context){const{scope:{isPgCondition:isPgCondition,pgIntrospection:table},fieldWithHooks:fieldWithHooks}=context;if(!isPgCondition||!table||"class"!==table.kind||table.namespaceName!==schemaName||table.name!==tableName)return fields;const conditionFieldSpec=conditionFieldSpecGenerator(build);return build._pluginMeta[instance].seen=!0,build.extend(fields,{[conditionFieldName]:fieldWithHooks(conditionFieldName,conditionFieldSpec,{addPgTableCondition:{schemaName:schemaName,tableName:tableName,conditionFieldSpec:conditionFieldSpec,conditionFieldName:conditionFieldName}})})})),builder.hook("GraphQLObjectType:fields:field:args",(function(args,build,context){const{pgSql:sql}=build,{scope:{isPgFieldConnection:isPgFieldConnection,isPgFieldSimpleCollection:isPgFieldSimpleCollection,pgFieldIntrospection:procOrTable,pgFieldIntrospectionTable:tableIfProc},addArgDataGenerator:addArgDataGenerator}=context,table=tableIfProc||procOrTable;return(isPgFieldConnection||isPgFieldSimpleCollection)&&table&&"class"===table.kind&&table.namespaceName===schemaName&&table.name===tableName?(addArgDataGenerator((function({condition:condition}){if(!condition||!(conditionFieldName in condition))return{};const{[conditionFieldName]:conditionValue}=condition;return{pgQuery:queryBuilder=>{const sqlCondition=conditionGenerator(conditionValue,{queryBuilder:queryBuilder,sql:sql,sqlTableAlias:queryBuilder.getTableAlias()},build);sqlCondition&&queryBuilder.where(sqlCondition)}}})),args):args}))};return plugin.displayName=displayName,plugin}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(schemaName,tableName,ordersGenerator,hint=`Adding orders with makeAddPgTableOrderByPlugin to "${schemaName}"."${tableName}"`){const plugin=builder=>{builder.hook("GraphQLEnumType:values",(values,build,context)=>{const{extend:extend}=build,{scope:{isPgRowSortEnum:isPgRowSortEnum,pgIntrospection:table}}=context;if(!isPgRowSortEnum||!table||"class"!==table.kind||table.namespaceName!==schemaName||table.name!==tableName)return values;return extend(values,ordersGenerator(build),hint)})};return plugin.displayName=`makeAddPgTableOrderByPlugin_${schemaName}_${tableName}`,plugin},exports.orderByAscDesc=function(baseName,columnOrSqlFragment,unique=!1){return{[baseName+"_ASC"]:{value:{alias:baseName+"_ASC",specs:[[columnOrSqlFragment,!0]],unique:unique}},[baseName+"_DESC"]:{value:{alias:baseName+"_DESC",specs:[[columnOrSqlFragment,!1]],unique:unique}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(64),graphile_build_pg_1=__webpack_require__(99),util_1=__webpack_require__(17),introspectionHelpers_1=__webpack_require__(467),meaningByKind={[graphile_build_pg_1.PgEntityKind.CLASS]:"for tables, composite types, views and materialized views",[graphile_build_pg_1.PgEntityKind.ATTRIBUTE]:"for columns/attributes (of any 'class' type)",[graphile_build_pg_1.PgEntityKind.CONSTRAINT]:"for table constraints",[graphile_build_pg_1.PgEntityKind.PROCEDURE]:"for functions/procedures"},validKinds=Object.entries(meaningByKind).map(([kind,meaning])=>`'${kind}' (${meaning})`).join(", ");function compileRule(rule){const{kind:kind,match:incomingMatch}=rule,rest=tslib_1.__rest(rule,["kind","match"]);if(!Object.prototype.hasOwnProperty.call(meaningByKind,kind))throw new Error(`makePgSmartTagsPlugin rule has invalid kind '${kind}'; valid kinds are: ${validKinds}`);return Object.assign({kind:kind,match:(obj,build)=>{if(obj.kind!==kind)return!1;if("function"==typeof incomingMatch)return incomingMatch(obj,build);if("string"==typeof incomingMatch)return introspectionHelpers_1.entityIsIdentifiedBy(obj,incomingMatch,build);throw new Error("makePgSmartTagsPlugin rule 'match' is neither a string nor a function")}},rest)}function rulesFrom(ruleOrRules){const rawRules=Array.isArray(ruleOrRules)?ruleOrRules:ruleOrRules?[ruleOrRules]:[];return[rawRules.map(compileRule),rawRules]}function makePgSmartTagsPlugin(ruleOrRules,subscribeToUpdatesCallback){let[rules,rawRules]=rulesFrom(ruleOrRules);return(builder,_options)=>{subscribeToUpdatesCallback&&builder.registerWatcher(async triggerRebuild=>{await subscribeToUpdatesCallback(newRuleOrRules=>{[rules,rawRules]=rulesFrom(newRuleOrRules),triggerRebuild()})},async()=>{await subscribeToUpdatesCallback(null)}),builder.hook("build",build=>{const oldPgAugmentIntrospectionResults=build.pgAugmentIntrospectionResults;return build.pgAugmentIntrospectionResults=inIntrospectionResult=>{let pgIntrospectionResultsByKind=inIntrospectionResult;oldPgAugmentIntrospectionResults&&(pgIntrospectionResultsByKind=oldPgAugmentIntrospectionResults(pgIntrospectionResultsByKind));const buildWithIntrospection=Object.assign(Object.assign({},build),{pgIntrospectionResultsByKind:pgIntrospectionResultsByKind});return rules.forEach((rule,idx)=>{const relevantIntrospectionResults=pgIntrospectionResultsByKind[rule.kind];let hits=0;relevantIntrospectionResults.forEach(entity=>{rule.match(entity,buildWithIntrospection)&&(hits++,rule.tags&&Object.assign(entity.tags,rule.tags),null!=rule.description&&(entity.description=rule.description))}),0===hits&&console.warn(`WARNING: there were no matches for makePgSmartTagsPlugin rule ${idx} - ${util_1.inspect(rawRules[idx])}`)}),pgIntrospectionResultsByKind},build},[],["PgIntrospection"],["PgBasics"])}}function pgSmartTagRulesFromJSON(json){if(!json)return[];if(1!==json.version)throw new Error('This version of graphile-utils only supports the version 1 smart tags JSON format; e.g. `{version: 1, config: { class: { my_table: { tags: { omit: "create,update,delete" } } } } }`');const specByIdentifierByKind=json.config,rules=[];function process(kind,identifier,subKind,obj,key,deprecated=!1){if(kind!==graphile_build_pg_1.PgEntityKind.CLASS)throw new Error(`makeJSONPgSmartTagsPlugin: '${key}' is only valid on a class; you tried to set it on a '${kind}' at 'config.${kind}.${identifier}.${key}'`);const path=`config.${kind}.${identifier}.${key}`;if(deprecated&&console.warn(`Tags JSON path '${path}' is deprecated, please use 'config.${kind}.${identifier}.attribute' instead`),"object"!=typeof obj||null==obj)throw new Error(`Invalid value for '${path}'`);const entities=obj;for(const entityName of Object.keys(entities)){if(entityName.includes("."))throw new Error(`${key} '${entityName}' should not contain a period at '${path}'. This nested entry does not need further description.`);const entitySpec=entities[entityName],{tags:entityTags,description:entityDescription}=entitySpec,entityRest=tslib_1.__rest(entitySpec,["tags","description"]);Object.keys(entityRest).length>0&&console.warn(`WARNING: makeJSONPgSmartTagsPlugin '${key}' only supports 'tags' and 'description' currently, you have also set '${Object.keys(entityRest).join("', '")}' at '${path}.${entityName}'. Perhaps you forgot to add a "tags" entry containing these keys?`),rules.push({kind:subKind,match:`${identifier}.${entityName}`,tags:entityTags,description:entityDescription})}}for(const rawKind of Object.keys(specByIdentifierByKind)){if(!Object.prototype.hasOwnProperty.call(meaningByKind,rawKind))throw new Error(`makeJSONPgSmartTagsPlugin JSON rule has invalid kind '${rawKind}'; valid kinds are: ${validKinds}`);const kind=rawKind,specByIdentifier=specByIdentifierByKind[kind];for(const identifier of Object.keys(specByIdentifier)){const spec=specByIdentifier[identifier],{tags:tags,description:description,columns:columns,attribute:attribute,constraint:constraint}=spec,rest=tslib_1.__rest(spec,["tags","description","columns","attribute","constraint"]);Object.keys(rest).length>0&&console.warn(`WARNING: makeJSONPgSmartTagsPlugin identifier spec only supports 'tags', 'description', 'attribute' and 'constraint' currently, you have also set '${Object.keys(rest).join("', '")}' at 'config.${kind}.${identifier}'`),rules.push({kind:kind,match:identifier,tags:tags,description:description}),columns&&process(kind,identifier,graphile_build_pg_1.PgEntityKind.ATTRIBUTE,columns,"columns",!0),attribute&&process(kind,identifier,graphile_build_pg_1.PgEntityKind.ATTRIBUTE,attribute,"attribute"),constraint&&process(kind,identifier,graphile_build_pg_1.PgEntityKind.CONSTRAINT,constraint,"constraint")}}return rules}exports.makePgSmartTagsPlugin=makePgSmartTagsPlugin,exports.makeJSONPgSmartTagsPlugin=function(json,subscribeToJSONUpdatesCallback){let rules=pgSmartTagRulesFromJSON(json);const subscribeToUpdatesCallback=subscribeToJSONUpdatesCallback?cb=>subscribeToJSONUpdatesCallback(cb?json=>{try{return rules=pgSmartTagRulesFromJSON(json),cb(rules)}catch(e){console.error(e)}}:cb):null;return makePgSmartTagsPlugin(rules,subscribeToUpdatesCallback)}},function(module,exports,__webpack_require__){exports.log=function(...args){return"object"==typeof console&&console.log&&console.log(...args)},exports.formatArgs=function(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,match=>{"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)},exports.save=function(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}},exports.load=function(){let r;try{r=exports.storage.getItem("debug")}catch(error){}!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG);return r},exports.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage=function(){try{return localStorage}catch(error){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=__webpack_require__(129)(exports);const{formatters:formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}},function(module,exports,__webpack_require__){const tty=__webpack_require__(100),util=__webpack_require__(17);exports.init=function(debug){debug.inspectOpts={};const keys=Object.keys(exports.inspectOpts);for(let i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]},exports.log=function(...args){return process.stderr.write(util.format(...args)+"\n")},exports.formatArgs=function(args){const{namespace:name,useColors:useColors}=this;if(useColors){const c=this.color,colorCode="[3"+(c<8?c:"8;5;"+c),prefix=`  ${colorCode};1m${name} [0m`;args[0]=prefix+args[0].split("\n").join("\n"+prefix),args.push(colorCode+"m+"+module.exports.humanize(this.diff)+"[0m")}else args[0]=function(){if(exports.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+name+" "+args[0]},exports.save=function(namespaces){namespaces?process.env.DEBUG=namespaces:delete process.env.DEBUG},exports.load=function(){return process.env.DEBUG},exports.useColors=function(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)},exports.colors=[6,2,3,4,5,1];try{const supportsColor=__webpack_require__(245);supportsColor&&(supportsColor.stderr||supportsColor).level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(error){}exports.inspectOpts=Object.keys(process.env).filter(key=>/^debug_/i.test(key)).reduce((obj,key)=>{const prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(_,k)=>k.toUpperCase());let val=process.env[key];return val=!!/^(yes|on|true|enabled)$/i.test(val)||!/^(no|off|false|disabled)$/i.test(val)&&("null"===val?null:Number(val)),obj[prop]=val,obj},{}),module.exports=__webpack_require__(129)(exports);const{formatters:formatters}=module.exports;formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).replace(/\s*\n\s*/g," ")},formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(131),hasFlag=__webpack_require__(132),{env:env}=process;let forceColor;function getSupportLevel(stream){return function(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}(function(stream){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(stream&&!stream.isTTY&&void 0===forceColor)return 0;const min=forceColor||0;if("dumb"===env.TERM)return min;if("win32"===process.platform){const osRelease=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(sign=>sign in env)||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:min}(stream))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env&&(forceColor=!0===env.FORCE_COLOR||"true"===env.FORCE_COLOR?1:!1===env.FORCE_COLOR||"false"===env.FORCE_COLOR?0:0===env.FORCE_COLOR.length?1:Math.min(parseInt(env.FORCE_COLOR,10),3)),module.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(build,fieldWithHooks,fieldName,fieldSpecGenerator,fieldScope={},whereFrom=!1,options={}){const{pgSql:sql,pgQueryFromResolveData:queryFromResolveData,getSafeAliasFromAlias:getSafeAliasFromAlias,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,pgTweakFragmentForTypeAndModifier:pgTweakFragmentForTypeAndModifier}=build;return fieldWithHooks(fieldName,fieldContext=>{const fieldSpec="function"==typeof fieldSpecGenerator?fieldSpecGenerator(fieldContext):fieldSpecGenerator,{type:FieldType}=fieldSpec,nullableType=build.graphql.getNullableType(FieldType),isListType=nullableType!==build.graphql.getNamedType(FieldType)&&nullableType.constructor===build.graphql.GraphQLList,isLeafType=build.graphql.isLeafType(FieldType);if(isLeafType&&!options.pgType)throw new Error("pgField call omits options.pgType for a leaf type; certain tweaks may not be applied!");const{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment,addDataGenerator:addDataGenerator}=fieldContext;return addDataGenerator(parsedResolveInfoFragment=>{const safeAlias=getSafeAliasFromAlias(parsedResolveInfoFragment.alias),resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,FieldType);return{...options.hoistCursor&&resolveData.usesCursor&&resolveData.usesCursor.length?{usesCursor:[!0]}:null,pgQuery:queryBuilder=>{queryBuilder.select(()=>{const tableAlias=!1===whereFrom?queryBuilder.getTableAlias():sql.identifier(Symbol()),query=queryFromResolveData(whereFrom?whereFrom(queryBuilder):sql.identifier(Symbol()),isLeafType&&options.pgType?pgTweakFragmentForTypeAndModifier(tableAlias,options.pgType,options.pgTypeModifier,{}):tableAlias,resolveData,!1===whereFrom?{onlyJsonField:!0}:{asJson:!0},innerQueryBuilder=>{innerQueryBuilder.parentQueryBuilder=queryBuilder,"function"==typeof options.withQueryBuilder&&options.withQueryBuilder(innerQueryBuilder,{parsedResolveInfoFragment:parsedResolveInfoFragment})},queryBuilder.context,queryBuilder.rootValue);return sql.fragment`(${query})`},safeAlias)}}}),{resolve(data,_args,_context,resolveInfo){const safeAlias=getSafeAliasFromResolveInfo(resolveInfo);return null==data.data?null:isListType?data.data.map(d=>null!=d?d[safeAlias]:null):data.data[safeAlias]},...fieldSpec}},fieldScope)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var sql=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(52)),_isSafeInteger=_interopRequireDefault(__webpack_require__(135)),_chunk=_interopRequireDefault(__webpack_require__(252));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function callIfNecessary(o,context){return"function"==typeof o?o(context):o}function callIfNecessaryArray(o,context){return Array.isArray(o)?o.map(v=>callIfNecessary(v,context)):o}class QueryBuilder{constructor(options={},context={},rootValue){this.context=context||{},this.rootValue=rootValue,this.supportsJSONB=void 0===options.supportsJSONB||null===options.supportsJSONB||!!options.supportsJSONB,this.locks={cursorComparator:!1,fixedSelectExpression:!1,select:!1,selectCursor:!1,from:!1,join:!1,whereBound:!1,where:!1,orderBy:!1,orderIsUnique:!1,first:!1,last:!1,limit:!1,offset:!1},this.finalized=!1,this.selectedIdentifiers=!1,this.data={cursorPrefix:["natural"],fixedSelectExpression:null,select:[],selectCursor:null,from:null,join:[],where:[],whereBound:{lower:[],upper:[]},orderBy:[],orderIsUnique:!1,limit:null,offset:null,first:null,last:null,beforeLock:{cursorComparator:[],fixedSelectExpression:[],select:[],selectCursor:[],from:[],join:[],whereBound:[],where:[],orderBy:[],orderIsUnique:[],first:[],last:[],limit:[],offset:[]},cursorComparator:null,liveConditions:[]},this.compiledData={cursorPrefix:["natural"],fixedSelectExpression:null,select:[],selectCursor:null,from:null,join:[],where:[],whereBound:{lower:[],upper:[]},orderBy:[],orderIsUnique:!1,limit:null,offset:null,first:null,last:null,cursorComparator:null},this._children=new Map,this.beforeLock("select",()=>{this.lock("selectCursor"),this.compiledData.selectCursor&&this.select(this.compiledData.selectCursor,"__cursor")}),this.beforeLock("where",()=>{this.lock("whereBound")}),this.beforeLock("offset",()=>{this.lock("whereBound")}),this.beforeLock("limit",()=>{this.lock("whereBound")}),this.beforeLock("first",()=>{this.lock("limit"),this.lock("offset")}),this.beforeLock("last",()=>{this.lock("limit"),this.lock("offset")}),this.lockContext=Object.freeze({queryBuilder:this})}jsonbBuildObject(fields){if(this.supportsJSONB&&fields.length>50){const fieldsChunks=(0,_chunk.default)(fields,50),chunkToJson=fieldsChunk=>sql.fragment`jsonb_build_object(${sql.join(fieldsChunk.map(([expr,alias])=>sql.fragment`${sql.literal(alias)}::text, ${expr}`),", ")})`;return sql.fragment`(${sql.join(fieldsChunks.map(chunkToJson)," || ")})::json`}return sql.fragment`json_build_object(${sql.join(fields.map(([expr,alias])=>sql.fragment`${sql.literal(alias)}::text, ${expr}`),", ")})`}beforeLock(field,fn){this.checkLock(field),this.data.beforeLock[field]||(this.data.beforeLock[field]=[]),this.data.beforeLock[field].push(fn)}makeLiveCollection(table,cb){if(!this.rootValue||!this.rootValue.liveConditions)return;const liveConditions=this.data.liveConditions,checkerGenerator=data=>{const checkers=liveConditions.map(([checkerGenerator])=>checkerGenerator(data));return record=>checkers.every(checker=>checker(record))};if(this.parentQueryBuilder){const parentQueryBuilder=this.parentQueryBuilder;if(cb)throw new Error("Either use parentQueryBuilder or pass callback, not both.");parentQueryBuilder.beforeLock("select",()=>{const id=this.rootValue.liveConditions.push(checkerGenerator)-1,allRequirements=this.data.liveConditions.reduce((memo,[_checkerGenerator,requirements])=>requirements?Object.assign(memo,requirements):memo,{});parentQueryBuilder.select(sql.fragment`\
json_build_object('__id', ${sql.value(id)}::int
${sql.join(Object.keys(allRequirements).map(key=>sql.fragment`, ${sql.literal(key)}::text, ${allRequirements[key]}`),"")})`,"__live")})}else{if(!cb)throw new Error("makeLiveCollection was called without parentQueryBuilder and without callback");cb(checkerGenerator)}}addLiveCondition(checkerGenerator,requirements){if(requirements&&!this.parentQueryBuilder)throw new Error("There's no parentQueryBuilder, so there cannot be requirements");this.data.liveConditions.push([checkerGenerator,requirements])}setCursorComparator(fn){this.checkLock("cursorComparator"),this.data.cursorComparator=fn,this.lock("cursorComparator")}addCursorCondition(cursorValue,isAfter){this.beforeLock("whereBound",()=>{if(this.lock("cursorComparator"),!this.compiledData.cursorComparator)throw new Error("No cursor comparator was set!");this.compiledData.cursorComparator(cursorValue,isAfter)})}fixedSelectExpression(exprGen){if(this.checkLock("fixedSelectExpression"),this.lock("select"),this.lock("selectCursor"),this.data.select.length>0)throw new Error("Cannot use .fixedSelectExpression() with .select()");if(this.data.selectCursor)throw new Error("Cannot use .fixedSelectExpression() with .selectCursor()");this.data.fixedSelectExpression=exprGen}select(exprGen,alias){if(this.checkLock("select"),this.lock("fixedSelectExpression"),"string"==typeof alias&&!0!==/^(\$+|@+|[_A-Za-z])[_0-9A-Za-z]*$/.test(alias))throw new Error(`Disallowed alias '${alias}'.`);this.data.select.push([exprGen,alias])}selectIdentifiers(table){if(this.selectedIdentifiers)return;const primaryKey=table.primaryKeyConstraint;if(!primaryKey)return;const primaryKeys=primaryKey.keyAttributes;this.select(sql.fragment`json_build_array(${sql.join(primaryKeys.map(key=>function(sqlFragment,type){const actualType=type.domainBaseType||type;return"N"===actualType.category?["21","23","700","701"].includes(actualType.id)?sqlFragment:sql.fragment`((${sqlFragment})::numeric)::text`:sqlFragment}(sql.fragment`${this.getTableAlias()}.${sql.identifier(key.name)}`,key.type)),", ")})`,"__identifiers"),this.selectedIdentifiers=!0}selectCursor(exprGen){this.checkLock("selectCursor"),this.lock("fixedSelectExpression"),this.data.selectCursor=exprGen}from(expr,alias=sql.identifier(Symbol())){if(this.checkLock("from"),!expr)throw new Error("No from table source!");if(!alias)throw new Error("No from alias!");this.data.from=[expr,alias],this.lock("from")}where(exprGen){this.checkLock("where"),this.data.where.push(exprGen)}whereBound(exprGen,isLower){if("boolean"!=typeof isLower)throw new Error("isLower must be specified as a boolean");this.checkLock("whereBound"),this.data.whereBound[isLower?"lower":"upper"].push(exprGen)}setOrderIsUnique(){this.data.orderIsUnique=!0}orderBy(exprGen,ascending=!0,nullsFirst=null){this.checkLock("orderBy"),this.data.orderBy.push([exprGen,ascending,nullsFirst])}limit(limitGen){if(this.checkLock("limit"),null!=this.data.limit)throw new Error("Must only set limit once");this.data.limit=limitGen}offset(offsetGen){if(this.checkLock("offset"),null!=this.data.offset){const previous=this.data.offset;this.data.offset=context=>callIfNecessary(previous,context)+callIfNecessary(offsetGen,context)}else this.data.offset=offsetGen}first(first){if(this.checkLock("first"),null!=this.data.first)throw new Error("Must only set first once");this.data.first=first}last(last){if(this.checkLock("last"),null!=this.data.last)throw new Error("Must only set last once");this.data.last=last}isOrderUnique(lock=!0){return lock?(this.lock("orderBy"),this.lock("orderIsUnique"),this.compiledData.orderIsUnique):this.data.orderIsUnique}getTableExpression(){if(this.lock("from"),!this.compiledData.from)throw new Error("No from table has been supplied");return this.compiledData.from[0]}getTableAlias(){if(this.lock("from"),!this.compiledData.from)throw new Error("No from table has been supplied");return this.compiledData.from[1]}getSelectCursor(){return this.lock("selectCursor"),this.compiledData.selectCursor}getOffset(){return this.lock("offset"),this.compiledData.offset||0}getFinalLimitAndOffset(){this.lock("offset"),this.lock("limit"),this.lock("first"),this.lock("last");let limit=this.compiledData.limit,offset=this.compiledData.offset||0,flip=!1;if(null!=this.compiledData.first&&(limit=null!=limit?Math.min(limit,this.compiledData.first):this.compiledData.first),null!=this.compiledData.last){if(offset>0&&null!=limit)throw new Error("Issue within pagination, please report your query to graphile-build");if(null!=limit)this.compiledData.last<limit&&(offset=limit-this.compiledData.last,limit=this.compiledData.last);else{if(offset>0)throw new Error("Cannot combine 'last' and 'offset'");if(!(this.compiledData.orderBy.length>0))throw new Error("Cannot do last of an unordered set");flip=!0,limit=this.compiledData.last}}return{limit:limit,offset:offset,flip:flip}}getFinalOffset(){return this.getFinalLimitAndOffset().offset}getFinalLimit(){return this.getFinalLimitAndOffset().limit}getOrderByExpressionsAndDirections(){return this.lock("orderBy"),this.compiledData.orderBy}getSelectFieldsCount(){return this.lockEverything(),this.compiledData.select.length}buildSelectFields(){return this.lockEverything(),this.compiledData.fixedSelectExpression?this.compiledData.fixedSelectExpression:sql.join(this.compiledData.select.map(([sqlFragment,alias])=>sql.fragment`to_json(${sqlFragment}) as ${sql.identifier(alias)}`),", ")}buildSelectJson({addNullCase:addNullCase,addNotDistinctFromNullCase:addNotDistinctFromNullCase}){this.lockEverything();let buildObject=this.compiledData.select.length?this.jsonbBuildObject(this.compiledData.select):sql.fragment`to_json(${this.getTableAlias()})`;return addNotDistinctFromNullCase?buildObject=sql.fragment`(case when (${this.getTableAlias()} is not distinct from null) then null else ${buildObject} end)`:addNullCase&&(buildObject=sql.fragment`(case when (${this.getTableAlias()} is null) then null else ${buildObject} end)`),buildObject}buildWhereBoundClause(isLower){this.lock("whereBound");const clauses=this.compiledData.whereBound[isLower?"lower":"upper"];return clauses.length?sql.fragment`(${sql.join(clauses,") and (")})`:sql.literal(!0)}buildWhereClause(includeLowerBound,includeUpperBound,{addNullCase:addNullCase,addNotDistinctFromNullCase:addNotDistinctFromNullCase}){this.lock("where");const clauses=[...addNotDistinctFromNullCase?[sql.fragment`(${this.getTableAlias()} is distinct from null)`]:addNullCase?[sql.fragment`not (${this.getTableAlias()} is null)`]:[],...this.compiledData.where,...includeLowerBound?[this.buildWhereBoundClause(!0)]:[],...includeUpperBound?[this.buildWhereBoundClause(!1)]:[]];return clauses.length?sql.fragment`(${sql.join(clauses,") and (")})`:sql.fragment`1 = 1`}build(options={}){if(this.lockEverything(),this.compiledData.fixedSelectExpression&&Object.keys(options).length>0)throw new Error("Do not pass options to QueryBuilder.build() when using `buildNamedChildSelecting`");const{asJson:asJson=!1,asJsonAggregate:asJsonAggregate=!1,onlyJsonField:onlyJsonField=!1,addNullCase:addNullCase=!1,addNotDistinctFromNullCase:addNotDistinctFromNullCase=!1,useAsterisk:useAsterisk=!1}=options;if(onlyJsonField)return this.buildSelectJson({addNullCase:addNullCase,addNotDistinctFromNullCase:addNotDistinctFromNullCase});const{limit:limit,offset:offset,flip:flip}=this.getFinalLimitAndOffset(),fields=asJson||asJsonAggregate?sql.fragment`${this.buildSelectJson({addNullCase:addNullCase,addNotDistinctFromNullCase:addNotDistinctFromNullCase})} as object`:this.buildSelectFields();let fragment=sql.fragment`\
select ${useAsterisk?sql.fragment`${this.getTableAlias()}.*`:fields}
${this.compiledData.from&&sql.fragment`from ${this.compiledData.from[0]} as ${this.getTableAlias()}`}
${this.compiledData.join.length&&sql.join(this.compiledData.join," ")}
where ${this.buildWhereClause(!0,!0,options)}
${this.compiledData.orderBy.length?sql.fragment`order by ${sql.join(this.compiledData.orderBy.map(([expr,ascending,nullsFirst])=>sql.fragment`${expr} ${Number(ascending)^Number(flip)?sql.fragment`ASC`:sql.fragment`DESC`}${!0===nullsFirst?sql.fragment` NULLS FIRST`:!1===nullsFirst?sql.fragment` NULLS LAST`:null}`),",")}`:""}
${(0,_isSafeInteger.default)(limit)&&sql.fragment`limit ${sql.literal(limit)}`}
${offset&&sql.fragment`offset ${sql.literal(offset)}`}`;if(flip){const flipAlias=Symbol();fragment=sql.fragment`\
with ${sql.identifier(flipAlias)} as (
  ${fragment}
)
select *
from ${sql.identifier(flipAlias)}
order by (row_number() over (partition by 1)) desc`}if(useAsterisk&&(fragment=sql.fragment`select ${fields} from (${fragment}) ${this.getTableAlias()}`),asJsonAggregate){const aggAlias=Symbol();fragment=sql.fragment`select json_agg(${sql.identifier(aggAlias,"object")}) from (${fragment}) as ${sql.identifier(aggAlias)}`,fragment=sql.fragment`select coalesce((${fragment}), '[]'::json)`}return fragment}_finalize(){this.finalized=!0}lock(type){if(this.locks[type])return;const context=this.lockContext,{beforeLock:beforeLock}=this.data;let locks=beforeLock[type];if(locks){beforeLock[type]=[];for(let i=0,l=locks.length;i<l;i++)locks[i]()}if("select"!==type&&(this.locks[type]=!0),"cursorComparator"===type)this.compiledData[type]=this.data[type];else if("whereBound"===type)this.compiledData[type].lower=callIfNecessaryArray(this.data[type].lower,context),this.compiledData[type].upper=callIfNecessaryArray(this.data[type].upper,context);else if("fixedSelectExpression"===type)this.compiledData[type]=callIfNecessary(this.data[type],context);else if("select"===type){const seenFields={},data=[],selects=this.data[type];for(let i=0;i<selects.length;i++){const[valueOrGenerator,columnName]=selects[i];if(!seenFields[columnName]&&(seenFields[columnName]=!0,data.push([callIfNecessary(valueOrGenerator,context),columnName]),locks=beforeLock[type],locks)){beforeLock[type]=[];for(let i=0,l=locks.length;i<l;i++)locks[i]()}}this.locks[type]=!0,this.compiledData[type]=data}else if("orderBy"===type)this.compiledData[type]=this.data[type].map(([a,b,c])=>[callIfNecessary(a,context),b,c]);else if("from"===type){if(this.data.from){const f=this.data.from;this.compiledData.from=[callIfNecessary(f[0],context),f[1]]}}else if("join"===type||"where"===type)this.compiledData[type]=callIfNecessaryArray(this.data[type],context);else if("selectCursor"===type)this.compiledData[type]=callIfNecessary(this.data[type],context);else if("cursorPrefix"===type)this.compiledData[type]=this.data[type];else if("orderIsUnique"===type)this.compiledData[type]=this.data[type];else if("limit"===type)this.compiledData[type]=callIfNecessary(this.data[type],context);else if("offset"===type)this.compiledData[type]=callIfNecessary(this.data[type],context);else if("first"===type)this.compiledData[type]=this.data[type];else{if("last"!==type)throw new Error(`Wasn't expecting to lock '${type}'`);this.compiledData[type]=this.data[type]}}checkLock(type){if(this.locks[type]){if("string"==typeof this.locks[type])throw new Error(`'${type}' has already been locked\n    `+this.locks[type].replace(/\n/g,"\n    ")+"\n");throw new Error(`'${type}' has already been locked`)}}lockEverything(){this._finalize(),this.lock("from"),this.lock("join"),this.lock("orderBy"),this.lock("cursorComparator"),this.lock("whereBound"),this.lock("where"),this.lock("offset"),this.lock("limit"),this.lock("first"),this.lock("last"),this.lock("fixedSelectExpression"),this.lock("selectCursor"),this.lock("select")}buildChild(){const options={supportsJSONB:this.supportsJSONB},child=new QueryBuilder(options,this.context,this.rootValue);return child.parentQueryBuilder=this,child}buildNamedChildSelecting(name,from,selectExpression,alias){if(this._children.has(name))throw new Error("QueryBuilder already has a child named "+name.toString());const child=this.buildChild();return child.from(from,alias),child.fixedSelectExpression(selectExpression),this._children.set(name,child),child}getNamedChild(name){return this._children.get(name)}}var _default=QueryBuilder;exports.default=_default},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(136);module.exports=function(value){return"number"==typeof value&&value==toInteger(value)}},function(module,exports,__webpack_require__){var toNumber=__webpack_require__(137);module.exports=function(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(65),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(139),isIterateeCall=__webpack_require__(253),toInteger=__webpack_require__(136),nativeCeil=Math.ceil,nativeMax=Math.max;module.exports=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):void 0===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}},function(module,exports,__webpack_require__){var eq=__webpack_require__(78),isArrayLike=__webpack_require__(66),isIndex=__webpack_require__(79),isObject=__webpack_require__(40);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function cursorify(val){return val&&val.__cursor?(str=JSON.stringify(val.__cursor),Buffer.from(String(str)).toString("base64")):null;var str}exports.default=function(value){const data=value&&value.data&&value.data.length?value.data:null,startCursor=cursorify(data&&data[0]),endCursor=cursorify(data&&data[value.data.length-1]);return{...value,startCursor:startCursor,endCursor:endCursor}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(fieldName,proc,build,{fieldWithHooks:fieldWithHooks,computed:computed=!1,isMutation:isMutation=!1,forceList:forceList=!1}){const{pgIntrospectionResultsByKind:introspectionResultsByKind,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,getTypeByName:getTypeByName,pgSql:sql,parseResolveInfo:parseResolveInfo,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,getSafeAliasFromAlias:getSafeAliasFromAlias,gql2pg:gql2pg,pg2gql:pg2gql,newWithHooks:newWithHooks,pgStrictFunctions:strictFunctions,pgTweakFragmentForTypeAndModifier:pgTweakFragmentForTypeAndModifier,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLList:GraphQLList,GraphQLString:GraphQLString,GraphQLObjectType:GraphQLObjectType,GraphQLInputObjectType:GraphQLInputObjectType,getNamedType:getNamedType,isCompositeType:isCompositeType},inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgAddStartEndCursor:addStartEndCursor,pgViaTemporaryTable:viaTemporaryTable,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgField:pgField,options:{subscriptions:subscriptions=!1,pgForbidSetofFunctionsToReturnNull:pgForbidSetofFunctionsToReturnNull=!1},pgPrepareAndRun:pgPrepareAndRun}=build;if(computed&&isMutation)throw new Error("Mutation procedure cannot be computed");const sliceAmount=computed?1:0,argNames=proc.argTypeIds.reduce((prev,_,idx)=>(idx>=sliceAmount&&(0===proc.argModes.length||"i"===proc.argModes[idx]||"b"===proc.argModes[idx])&&prev.push(proc.argNames[idx]||""),prev),[]),argTypes=proc.argTypeIds.reduce((prev,typeId,idx)=>(idx>=sliceAmount&&(0===proc.argModes.length||"i"===proc.argModes[idx]||"b"===proc.argModes[idx])&&prev.push(introspectionResultsByKind.typeById[typeId]),prev),[]),argModesWithOutput=["o","b","t"],outputArgNames=proc.argTypeIds.reduce((prev,_,idx)=>(argModesWithOutput.includes(proc.argModes[idx])&&prev.push(proc.argNames[idx]||""),prev),[]),outputArgTypes=proc.argTypeIds.reduce((prev,typeId,idx)=>(argModesWithOutput.includes(proc.argModes[idx])&&prev.push(introspectionResultsByKind.typeById[typeId]),prev),[]),requiredArgCount=Math.max(0,argNames.length-proc.argDefaultsNum),variantFromName=(name,_type)=>name.match(/(_p|P)atch$/)?"patch":null,variantFromTags=(tags,idx)=>{const variant=tags[`arg${idx}variant`];return variant&&variant.match&&variant.match(/^[0-9]+$/)?parseInt(variant,10):variant},notNullArgCount=proc.isStrict||strictFunctions?requiredArgCount:0,argGqlTypes=argTypes.map((type,idx)=>{const variant=variantFromTags(proc.tags,idx)||variantFromName(argNames[idx]),Type=pgGetGqlInputTypeByTypeIdAndModifier(type.id,variant);if(!Type){const hint=type.class?`; this might be because no INSERT column privileges are granted on ${describePgEntity(type.class)}. You can use 'Smart Comments' to tell PostGraphile to instead use the "${_chalk.default.bold.green("base")}" input type which includes all columns:\n\n  ${sqlCommentByAddingTags(proc,{[`arg${idx}variant`]:"base"})}\n`:"";throw new Error(`Could not determine type for argument ${idx} ('${argNames[idx]}') of function ${describePgEntity(proc)}${hint}`)}return idx>=notNullArgCount?Type:new GraphQLNonNull(Type)}),rawReturnType=introspectionResultsByKind.typeById[proc.returnTypeId],returnType=rawReturnType.isPgArray?rawReturnType.arrayItemType:rawReturnType,returnTypeTable=introspectionResultsByKind.classById[returnType.classId];if(!returnType)throw new Error(`Could not determine return type for function '${proc.name}'`);let type;const fieldScope={},payloadTypeScope={};fieldScope.pgFieldIntrospection=proc,payloadTypeScope.pgIntrospection=proc;let returnFirstValueAsValue=!1;const TableType=returnTypeTable&&pgGetGqlTypeByTypeIdAndModifier(returnTypeTable.type.id,null),isTableLike=TableType&&isCompositeType(TableType)||!1,isRecordLike="2249"===returnType.id;if(isTableLike)if(proc.returnsSet){if(isMutation){const innerType=pgForbidSetofFunctionsToReturnNull?new GraphQLNonNull(TableType):TableType;type=new GraphQLList(innerType)}else if(forceList){const innerType=pgForbidSetofFunctionsToReturnNull?new GraphQLNonNull(TableType):TableType;type=new GraphQLList(innerType),fieldScope.isPgFieldSimpleCollection=!0}else{const ConnectionType=getTypeByName(inflection.connection(TableType.name));if(!ConnectionType)throw new Error(`Do not have a connection type '${inflection.connection(TableType.name)}' for '${TableType.name}' so cannot create procedure field`);type=new GraphQLNonNull(ConnectionType),fieldScope.isPgFieldConnection=!0}fieldScope.pgFieldIntrospectionTable=returnTypeTable,payloadTypeScope.pgIntrospectionTable=returnTypeTable}else type=TableType,rawReturnType.isPgArray&&(type=new GraphQLList(type)),fieldScope.pgFieldIntrospectionTable=returnTypeTable,payloadTypeScope.pgIntrospectionTable=returnTypeTable;else if(isRecordLike){const RecordType=getTypeByName(inflection.recordFunctionReturnType(proc));if(!RecordType)throw new Error(`Do not have a record type '${inflection.recordFunctionReturnType(proc)}' for '${proc.name}' so cannot create procedure field`);if(proc.returnsSet)if(isMutation)type=new GraphQLList(RecordType);else if(forceList)type=new GraphQLList(RecordType),fieldScope.isPgFieldSimpleCollection=!0;else{const ConnectionType=getTypeByName(inflection.recordFunctionConnection(proc));if(!ConnectionType)throw new Error(`Do not have a connection type '${inflection.recordFunctionConnection(proc)}' for '${RecordType.name}' so cannot create procedure field`);type=new GraphQLNonNull(ConnectionType),fieldScope.isPgFieldConnection=!0}else type=RecordType,rawReturnType.isPgArray&&(type=new GraphQLList(type))}else{const Type=pgGetGqlTypeByTypeIdAndModifier(returnType.id,null)||GraphQLString;if(proc.returnsSet){const connectionTypeName=inflection.scalarFunctionConnection(proc),ConnectionType=getTypeByName(connectionTypeName);isMutation?(type=new GraphQLList(Type),returnFirstValueAsValue=!0):forceList||!ConnectionType?(type=new GraphQLList(Type),returnFirstValueAsValue=!0,fieldScope.isPgFieldSimpleCollection=!0):(type=new GraphQLNonNull(ConnectionType),fieldScope.isPgFieldConnection=!0)}else returnFirstValueAsValue=!0,type=Type,rawReturnType.isPgArray&&(type=new GraphQLList(type))}return fieldWithHooks(fieldName,({addDataGenerator:addDataGenerator,getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment,addArgDataGenerator:addArgDataGenerator})=>{function makeMutationCall(parsedResolveInfoFragment,ReturnType,{implicitArgs:implicitArgs=[]}={}){const{args:rawArgs={}}=parsedResolveInfoFragment,args=isMutation?rawArgs.input:rawArgs,sqlArgValues=[];let haveNames=!0;for(let argIndex=argNames.length-1;argIndex>=0;argIndex--){const argName=argNames[argIndex],value=args[inflection.argument(argName,argIndex)],variant=variantFromTags(proc.tags,argIndex)||variantFromName(argNames[argIndex]),sqlValue=gql2pg(value,argTypes[argIndex],variant);if(!(argIndex+1>requiredArgCount&&haveNames&&null==value))if(argIndex+1>requiredArgCount&&haveNames){const sqlArgName=argName?sql.identifier(argName):null;sqlArgName?sqlArgValues.unshift(sql.fragment`${sqlArgName} := ${sqlValue}`):(haveNames=!1,sqlArgValues.unshift(sqlValue))}else sqlArgValues.unshift(sqlValue)}const functionCall=sql.fragment`${sql.identifier(proc.namespace.name,proc.name)}(${sql.join([...implicitArgs,...sqlArgValues],", ")})`;return rawReturnType.isPgArray?sql.fragment`unnest(${functionCall})`:functionCall}function makeQuery(parsedResolveInfoFragment,ReturnType,sqlMutationQuery,functionAlias,parentQueryBuilder,resolveContext,resolveInfo){const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,ReturnType),isConnection=!forceList&&!isMutation&&proc.returnsSet;return queryFromResolveData(sqlMutationQuery,functionAlias,resolveData,{useAsterisk:!isMutation&&(isTableLike||isRecordLike)&&(forceList||proc.returnsSet||rawReturnType.isPgArray)&&"sql"!==proc.language,withPagination:isConnection,withPaginationAsFields:isConnection&&!computed,asJson:computed&&(forceList||!proc.returnsSet&&!returnFirstValueAsValue),asJsonAggregate:computed&&(forceList||!proc.returnsSet&&rawReturnType.isPgArray),addNullCase:!proc.returnsSet&&!rawReturnType.isPgArray&&(isTableLike||isRecordLike)},innerQueryBuilder=>{innerQueryBuilder.parentQueryBuilder=parentQueryBuilder,isTableLike?subscriptions&&returnTypeTable&&!isConnection&&returnTypeTable.primaryKeyConstraint&&innerQueryBuilder.selectIdentifiers(returnTypeTable):returnTypeTable?innerQueryBuilder.select(pgTweakFragmentForTypeAndModifier(sql.fragment`${functionAlias}`,returnTypeTable.type,null,resolveData),"value"):innerQueryBuilder.select(pgTweakFragmentForTypeAndModifier(sql.fragment`${functionAlias}`,returnType,null,resolveData),"value")},parentQueryBuilder?parentQueryBuilder.context:resolveContext,parentQueryBuilder?parentQueryBuilder.rootValue:resolveInfo&&resolveInfo.rootValue)}!proc.returnsSet||isTableLike||returnFirstValueAsValue||isMutation||addArgDataGenerator((function(){return{pgCursorPrefix:sql.literal("natural")}})),computed&&addDataGenerator((parsedResolveInfoFragment,ReturnType)=>({pgQuery:queryBuilder=>{queryBuilder.select(()=>{const parentTableAlias=queryBuilder.getTableAlias(),functionAlias=sql.identifier(Symbol()),sqlMutationQuery=makeMutationCall(parsedResolveInfoFragment,0,{implicitArgs:[parentTableAlias]}),query=makeQuery(parsedResolveInfoFragment,ReturnType,sqlMutationQuery,functionAlias,queryBuilder);return sql.fragment`(${query})`},getSafeAliasFromAlias(parsedResolveInfoFragment.alias))}}));let PayloadType,ReturnType=type,args=argNames.reduce((memo,argName,argIndex)=>(memo[inflection.argument(argName,argIndex)]={type:argGqlTypes[argIndex]},memo),{});if(isMutation){const resultFieldName=inflection.functionMutationResultFieldName(proc,getNamedType(type),proc.returnsSet||rawReturnType.isPgArray,outputArgNames),isNotVoid="2278"!==String(returnType.id);PayloadType=newWithHooks(GraphQLObjectType,{name:inflection.functionPayloadType(proc),description:`The output of our \`${inflection.functionMutationName(proc)}\` mutation.`,fields:({fieldWithHooks:fieldWithHooks})=>Object.assign({},{clientMutationId:{type:GraphQLString}},isNotVoid?{[resultFieldName]:pgField(build,fieldWithHooks,resultFieldName,{type:type,...returnFirstValueAsValue?{resolve:data=>data.data}:null},{},!1,{pgType:returnType})}:null)},{__origin:`Adding mutation function payload type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`,isMutationPayload:!0,...payloadTypeScope}),ReturnType=PayloadType;const InputType=newWithHooks(GraphQLInputObjectType,{name:inflection.functionInputType(proc),description:`All input for the \`${inflection.functionMutationName(proc)}\` mutation.`,fields:{clientMutationId:{type:GraphQLString},...args}},{__origin:`Adding mutation function input type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`,isMutationInput:!0});args={input:{type:new GraphQLNonNull(InputType)}}}const scalarAwarePg2gql=v=>isTableLike?pg2gql(v,returnType):{...v,value:pg2gql(v.value,returnType)};return{description:proc.description?proc.description:isMutation?null:isTableLike&&proc.returnsSet?`Reads and enables pagination through a set of \`${TableType.name}\`.`:null,type:nullableIf(GraphQLNonNull,!proc.tags.notNull,ReturnType),args:args,resolve:computed?(data,_args,resolveContext,resolveInfo)=>{const liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord,value=data[getSafeAliasFromResolveInfo(resolveInfo)];if(returnFirstValueAsValue)return proc.returnsSet&&!forceList?value.data.map(v=>pg2gql(firstValue(v),returnType)):proc.returnsSet||rawReturnType.isPgArray?value.map(v=>pg2gql(firstValue(v),returnType)):pg2gql(value,returnType);{const makeRecordLive=subscriptions&&isTableLike&&returnTypeTable&&liveRecord?record=>{record&&liveRecord("pg",returnTypeTable,record.__identifiers)}:_record=>{};if(!proc.returnsSet||isMutation||forceList){if(proc.returnsSet||rawReturnType.isPgArray){return value.map(v=>(makeRecordLive(v),pg2gql(v,returnType)))}return value&&makeRecordLive(value),pg2gql(value,returnType)}return addStartEndCursor({...value,data:value.data?value.data.map(scalarAwarePg2gql):null})}}:async(data,args,resolveContext,resolveInfo)=>{const{pgClient:pgClient}=resolveContext,liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord,parsedResolveInfoFragment=parseResolveInfo(resolveInfo);parsedResolveInfoFragment.args=args;const functionAlias=sql.identifier(Symbol()),sqlMutationQuery=makeMutationCall(parsedResolveInfoFragment,resolveInfo.returnType,{});let queryResultRows;if(isMutation){const query=makeQuery(parsedResolveInfoFragment,resolveInfo.returnType,functionAlias,functionAlias,null,resolveContext,resolveInfo),intermediateIdentifier=sql.identifier(Symbol()),isVoid="2278"===returnType.id,isPgRecord="2249"===returnType.id,isPgClass=!isPgRecord&&(!returnFirstValueAsValue||returnTypeTable||!1);try{await pgClient.query("SAVEPOINT graphql_mutation"),queryResultRows=await viaTemporaryTable(pgClient,isVoid?null:sql.identifier(returnType.namespaceName,returnType.name),sql.query`select ${isPgClass||isPgRecord?sql.query`${intermediateIdentifier}.*`:sql.query`${intermediateIdentifier} as ${functionAlias}`} from ${sqlMutationQuery} ${intermediateIdentifier}`,functionAlias,query,isPgClass,isPgRecord?{outputArgTypes:outputArgTypes,outputArgNames:outputArgNames}:null),await pgClient.query("RELEASE SAVEPOINT graphql_mutation")}catch(e){throw await pgClient.query("ROLLBACK TO SAVEPOINT graphql_mutation"),e}}else{const query=makeQuery(parsedResolveInfoFragment,resolveInfo.returnType,sqlMutationQuery,functionAlias,null,resolveContext,resolveInfo),{text:text,values:values}=sql.compile(query);_debugSql.default.enabled&&(0,_debugSql.default)(text);queryResultRows=(await pgPrepareAndRun(pgClient,text,values)).rows}const rows=queryResultRows,[row]=rows,result=(()=>{const makeRecordLive=subscriptions&&isTableLike&&returnTypeTable&&liveRecord?record=>{record&&liveRecord("pg",returnTypeTable,record.__identifiers)}:_record=>{};if(returnFirstValueAsValue){if(!proc.returnsSet||isMutation||forceList){if(proc.returnsSet||rawReturnType.isPgArray)return rows.map(v=>{const fv=firstValue(v);return makeRecordLive(fv),pg2gql(fv,returnType)});{const fv=firstValue(row);makeRecordLive(fv);return pg2gql(fv,returnType)}}return row.data.map(v=>{const fv=firstValue(v);return makeRecordLive(fv),pg2gql(fv,returnType)})}if(!proc.returnsSet||isMutation||forceList)return proc.returnsSet||rawReturnType.isPgArray?rows.map(row=>(makeRecordLive(row),pg2gql(row,returnType))):(makeRecordLive(row),pg2gql(row,returnType));{const data=row.data?row.data.map(scalarAwarePg2gql):null;return addStartEndCursor({...row,data:data})}})();return isMutation?{clientMutationId:args.input.clientMutationId,data:result}:result}}},fieldScope)};var _debugSql=_interopRequireDefault(__webpack_require__(56)),_chalk=_interopRequireDefault(__webpack_require__(39));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const nullableIf=(GraphQLNonNull,condition,Type)=>condition?Type:new GraphQLNonNull(Type),firstValue=obj=>{let firstKey;for(const k in obj)"_"!==k[0]&&"_"!==k[1]&&(firstKey=k);return obj[firstKey]}},function(module,exports,__webpack_require__){"use strict";var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g;module.exports=function(str){if("string"!=typeof str)throw new TypeError("Expected a string");return str.replace(matchOperatorsRe,"\\$&")}},function(module,exports,__webpack_require__){"use strict";(function(module){const colorConvert=__webpack_require__(258),wrapAnsi16=(fn,offset)=>function(){const code=fn.apply(colorConvert,arguments);return`[${code+offset}m`},wrapAnsi256=(fn,offset)=>function(){const code=fn.apply(colorConvert,arguments);return`[${38+offset};5;${code}m`},wrapAnsi16m=(fn,offset)=>function(){const rgb=fn.apply(colorConvert,arguments);return`[${38+offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`};Object.defineProperty(module,"exports",{enumerable:!0,get:function(){const codes=new Map,styles={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};styles.color.grey=styles.color.gray;for(const groupName of Object.keys(styles)){const group=styles[groupName];for(const styleName of Object.keys(group)){const style=group[styleName];styles[styleName]={open:`[${style[0]}m`,close:`[${style[1]}m`},group[styleName]=styles[styleName],codes.set(style[0],style[1])}Object.defineProperty(styles,groupName,{value:group,enumerable:!1}),Object.defineProperty(styles,"codes",{value:codes,enumerable:!1})}const ansi2ansi=n=>n,rgb2rgb=(r,g,b)=>[r,g,b];styles.color.close="[39m",styles.bgColor.close="[49m",styles.color.ansi={ansi:wrapAnsi16(ansi2ansi,0)},styles.color.ansi256={ansi256:wrapAnsi256(ansi2ansi,0)},styles.color.ansi16m={rgb:wrapAnsi16m(rgb2rgb,0)},styles.bgColor.ansi={ansi:wrapAnsi16(ansi2ansi,10)},styles.bgColor.ansi256={ansi256:wrapAnsi256(ansi2ansi,10)},styles.bgColor.ansi16m={rgb:wrapAnsi16m(rgb2rgb,10)};for(let key of Object.keys(colorConvert)){if("object"!=typeof colorConvert[key])continue;const suite=colorConvert[key];"ansi16"===key&&(key="ansi"),"ansi16"in suite&&(styles.color.ansi[key]=wrapAnsi16(suite.ansi16,0),styles.bgColor.ansi[key]=wrapAnsi16(suite.ansi16,10)),"ansi256"in suite&&(styles.color.ansi256[key]=wrapAnsi256(suite.ansi256,0),styles.bgColor.ansi256[key]=wrapAnsi256(suite.ansi256,10)),"rgb"in suite&&(styles.color.ansi16m[key]=wrapAnsi16m(suite.rgb,0),styles.bgColor.ansi16m[key]=wrapAnsi16m(suite.rgb,10))}return styles}})}).call(this,__webpack_require__(80)(module))},function(module,exports,__webpack_require__){var conversions=__webpack_require__(142),route=__webpack_require__(260),convert={};Object.keys(conversions).forEach((function(fromModel){convert[fromModel]={},Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels}),Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel);Object.keys(routes).forEach((function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=function(fn){var wrappedFn=function(args){if(null==args)return args;arguments.length>1&&(args=Array.prototype.slice.call(arguments));var result=fn(args);if("object"==typeof result)for(var len=result.length,i=0;i<len;i++)result[i]=Math.round(result[i]);return result};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn),convert[fromModel][toModel].raw=function(fn){var wrappedFn=function(args){return null==args?args:(arguments.length>1&&(args=Array.prototype.slice.call(arguments)),fn(args))};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn)}))})),module.exports=convert},function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(module,exports,__webpack_require__){var conversions=__webpack_require__(142);function deriveBFS(fromModel){var graph=function(){for(var graph={},models=Object.keys(conversions),len=models.length,i=0;i<len;i++)graph[models[i]]={distance:-1,parent:null};return graph}(),queue=[fromModel];for(graph[fromModel].distance=0;queue.length;)for(var current=queue.pop(),adjacents=Object.keys(conversions[current]),len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i],node=graph[adjacent];-1===node.distance&&(node.distance=graph[current].distance+1,node.parent=current,queue.unshift(adjacent))}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){for(var path=[graph[toModel].parent,toModel],fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;graph[cur].parent;)path.unshift(graph[cur].parent),fn=link(conversions[graph[cur].parent][cur],fn),cur=graph[cur].parent;return fn.conversion=path,fn}module.exports=function(fromModel){for(var graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph),len=models.length,i=0;i<len;i++){var toModel=models[i];null!==graph[toModel].parent&&(conversion[toModel]=wrapConversion(toModel,graph))}return conversion}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(131),hasFlag=__webpack_require__(132),env=process.env;let forceColor;function getSupportLevel(stream){return function(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}(function(stream){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(stream&&!stream.isTTY&&!0!==forceColor)return 0;const min=forceColor?1:0;if("win32"===process.platform){const osRelease=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(sign=>sign in env)||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:(env.TERM,min)}(stream))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")?forceColor=!1:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=!0),"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10)),module.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},function(module,exports,__webpack_require__){"use strict";const TEMPLATE_REGEX=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(c){return"u"===c[0]&&5===c.length||"x"===c[0]&&3===c.length?String.fromCharCode(parseInt(c.slice(1),16)):ESCAPES.get(c)||c}function parseArguments(name,args){const results=[],chunks=args.trim().split(/\s*,\s*/g);let matches;for(const chunk of chunks)if(isNaN(chunk)){if(!(matches=chunk.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);results.push(matches[2].replace(ESCAPE_REGEX,(m,escape,chr)=>escape?unescape(escape):chr))}else results.push(Number(chunk));return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;const results=[];let matches;for(;null!==(matches=STYLE_REGEX.exec(style));){const name=matches[1];if(matches[2]){const args=parseArguments(name,matches[2]);results.push([name].concat(args))}else results.push([name])}return results}function buildStyle(chalk,styles){const enabled={};for(const layer of styles)for(const style of layer.styles)enabled[style[0]]=layer.inverse?null:style.slice(1);let current=chalk;for(const styleName of Object.keys(enabled))if(Array.isArray(enabled[styleName])){if(!(styleName in current))throw new Error("Unknown Chalk style: "+styleName);current=enabled[styleName].length>0?current[styleName].apply(current,enabled[styleName]):current[styleName]}return current}module.exports=(chalk,tmp)=>{const styles=[],chunks=[];let chunk=[];if(tmp.replace(TEMPLATE_REGEX,(m,escapeChar,inverse,style,close,chr)=>{if(escapeChar)chunk.push(unescape(escapeChar));else if(style){const str=chunk.join("");chunk=[],chunks.push(0===styles.length?str:buildStyle(chalk,styles)(str)),styles.push({inverse:inverse,styles:parseStyle(style)})}else if(close){if(0===styles.length)throw new Error("Found extraneous } in Chalk template literal");chunks.push(buildStyle(chalk,styles)(chunk.join(""))),chunk=[],styles.pop()}else chunk.push(chr)}),chunks.push(chunk.join("")),styles.length>0){const errMsg=`Chalk template literal is missing ${styles.length} closing bracket${1===styles.length?"":"s"} (\`}\`)`;throw new Error(errMsg)}return chunks.join("")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=async function(pgClient,sqlTypeIdentifier,sqlMutationQuery,sqlResultSourceAlias,sqlResultQuery,isPgClassLike=!0,pgRecordInfo){const isPgRecord=null!=pgRecordInfo,{outputArgTypes:outputArgTypes,outputArgNames:outputArgNames}=pgRecordInfo||{};async function performQuery(pgClient,sqlQuery){const{text:text,values:values}=sql.compile(sqlQuery);return _debugSql.default.enabled&&(0,_debugSql.default)(text),pgClient.query(text,values)}if(sqlTypeIdentifier){const selectionField=isPgClassLike?sql.query`(case when ${sqlResultSourceAlias} is null then null else ${sqlResultSourceAlias} end)`:isPgRecord?sql.query`array[${sql.join(outputArgNames.map((outputArgName,idx)=>sql.query`${sqlResultSourceAlias}.${sql.identifier(""!==outputArgName?outputArgName:"column"+(idx+1))}::text`)," ,")}]`:sql.query`(${sqlResultSourceAlias}.${sqlResultSourceAlias})::${sqlTypeIdentifier}`,result=await performQuery(pgClient,sql.query`with ${sqlResultSourceAlias} as (${sqlMutationQuery}) select (${selectionField})::text from ${sqlResultSourceAlias}`),{rows:rows}=result,firstNonNullRow=rows.find(row=>null!==row),firstKey=firstNonNullRow&&Object.keys(firstNonNullRow)[0],rawValues=rows.map(row=>row&&row[firstKey]),values=rawValues.filter(rawValue=>null!==rawValue),sqlValuesAlias=sql.identifier(Symbol()),convertFieldBack=isPgClassLike?sql.query`\
select (str::${sqlTypeIdentifier}).*
from unnest((${sql.value(values)})::text[]) str`:isPgRecord?sql.query`\
select ${sql.join(outputArgNames.map((outputArgName,idx)=>sql.query`(${sqlValuesAlias}.output_value_list)[${sql.literal(idx+1)}]::${sql.identifier(outputArgTypes[idx].namespaceName,outputArgTypes[idx].name)} as ${sql.identifier(""!==outputArgName?outputArgName:"column"+(idx+1))}`),", ")}
from (values ${sql.join(values.map(value=>sql.query`(${sql.value(value)}::text[])`),", ")}) as ${sqlValuesAlias}(output_value_list)`:sql.query`\
select str::${sqlTypeIdentifier} as ${sqlResultSourceAlias}
from unnest((${sql.value(values)})::text[]) str`,{rows:filteredValuesResults}=values.length>0?await performQuery(pgClient,sql.query`with ${sqlResultSourceAlias} as (${convertFieldBack}) ${sqlResultQuery}`):{rows:[]};return rawValues.map(rawValue=>null===rawValue?{__isNull:!0}:filteredValuesResults.shift())}{const{rows:rows}=await performQuery(pgClient,sql.query`with ${sqlResultSourceAlias} as (${sqlMutationQuery}) ${sqlResultQuery}`);return rows}};var obj,sql=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(52)),_debugSql=(obj=__webpack_require__(56))&&obj.__esModule?obj:{default:obj};function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(102),baseIteratee=__webpack_require__(144),basePickBy=__webpack_require__(333),getAllKeysIn=__webpack_require__(338);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(266),getMatchData=__webpack_require__(319),matchesStrictComparable=__webpack_require__(158);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(145),baseIsEqual=__webpack_require__(147);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(82),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(82);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(82);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(82);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(81);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(81),Map=__webpack_require__(103),MapCache=__webpack_require__(104);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(140),isMasked=__webpack_require__(278),isObject=__webpack_require__(40),toSource=__webpack_require__(146),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(279),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(38)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports,__webpack_require__){var Hash=__webpack_require__(282),ListCache=__webpack_require__(81),Map=__webpack_require__(103);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(283),hashDelete=__webpack_require__(284),hashGet=__webpack_require__(285),hashHas=__webpack_require__(286),hashSet=__webpack_require__(287);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(83);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(83),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(83),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(83);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(84);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(84);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(84);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(84);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(145),equalArrays=__webpack_require__(148),equalByTag=__webpack_require__(299),equalObjects=__webpack_require__(303),getTag=__webpack_require__(314),isArray=__webpack_require__(34),isBuffer=__webpack_require__(153),isTypedArray=__webpack_require__(154),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(104),setCacheAdd=__webpack_require__(295),setCacheHas=__webpack_require__(296);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(65),Uint8Array=__webpack_require__(300),eq=__webpack_require__(78),equalArrays=__webpack_require__(148),mapToArray=__webpack_require__(301),setToArray=__webpack_require__(302),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(38).Uint8Array;module.exports=Uint8Array},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(304),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(149),getSymbols=__webpack_require__(150),keys=__webpack_require__(106);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(54),isObjectLike=__webpack_require__(55);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(54),isLength=__webpack_require__(101),isObjectLike=__webpack_require__(55),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(138),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(80)(module))},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(155),nativeKeys=__webpack_require__(313),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(156)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var DataView=__webpack_require__(315),Map=__webpack_require__(103),Promise=__webpack_require__(316),Set=__webpack_require__(317),WeakMap=__webpack_require__(318),baseGetTag=__webpack_require__(54),toSource=__webpack_require__(146),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var DataView=__webpack_require__(47)(__webpack_require__(38),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(47)(__webpack_require__(38),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var Set=__webpack_require__(47)(__webpack_require__(38),"Set");module.exports=Set},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(47)(__webpack_require__(38),"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(157),keys=__webpack_require__(106);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(147),get=__webpack_require__(321),hasIn=__webpack_require__(326),isKey=__webpack_require__(109),isStrictComparable=__webpack_require__(157),matchesStrictComparable=__webpack_require__(158),toKey=__webpack_require__(69);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(108);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(323),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(324);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(104);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(65),arrayMap=__webpack_require__(102),isArray=__webpack_require__(34),isSymbol=__webpack_require__(77),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(327),hasPath=__webpack_require__(328);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(85),isArguments=__webpack_require__(107),isArray=__webpack_require__(34),isIndex=__webpack_require__(79),isLength=__webpack_require__(101),toKey=__webpack_require__(69);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports){module.exports=function(value){return value}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(331),basePropertyDeep=__webpack_require__(332),isKey=__webpack_require__(109),toKey=__webpack_require__(69);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(108);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(108),baseSet=__webpack_require__(334),castPath=__webpack_require__(85);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(335),castPath=__webpack_require__(85),isIndex=__webpack_require__(79),isObject=__webpack_require__(40),toKey=__webpack_require__(69);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(336),eq=__webpack_require__(78),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(337);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(47),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(149),getSymbolsIn=__webpack_require__(339),keysIn=__webpack_require__(341);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(105),getPrototype=__webpack_require__(340),getSymbols=__webpack_require__(150),stubArray=__webpack_require__(151),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(156)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(152),baseKeysIn=__webpack_require__(342),isArrayLike=__webpack_require__(66);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(40),isPrototype=__webpack_require__(155),nativeKeysIn=__webpack_require__(343),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _graphileBuild=__webpack_require__(86);class PgLiveProvider extends _graphileBuild.LiveProvider{constructor(...args){super(...args),this.namespace="pg"}collectionIdentifierIsValid(collectionIdentifier){return collectionIdentifier&&"class"===collectionIdentifier.kind}recordIdentifierIsValid(collectionIdentifier,recordIdentifier){return!!Array.isArray(recordIdentifier)&&(!!collectionIdentifier.primaryKeyConstraint&&recordIdentifier.length===collectionIdentifier.primaryKeyConstraint.keyAttributes.length)}}exports.default=PgLiveProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _debug=_interopRequireDefault(__webpack_require__(19)),_makeNewBuild=_interopRequireDefault(__webpack_require__(346)),_utils=__webpack_require__(110),graphql=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(20)),_events=_interopRequireDefault(__webpack_require__(29));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const{GraphQLSchema:GraphQLSchema}=graphql,debug=(0,_debug.default)("graphile-builder");class SchemaBuilder extends _events.default{constructor(options){if(super(),this.options=options,!options)throw new Error("Please pass options to SchemaBuilder");this._busy=!1,this._watching=!1,this.watchers=[],this.unwatchers=[],this.depth=-1,this.hooks={build:[],inflection:[],init:[],finalize:[],GraphQLSchema:[],GraphQLObjectType:[],"GraphQLObjectType:interfaces":[],"GraphQLObjectType:fields":[],"GraphQLObjectType:fields:field":[],"GraphQLObjectType:fields:field:args":[],GraphQLInputObjectType:[],"GraphQLInputObjectType:fields":[],"GraphQLInputObjectType:fields:field":[],GraphQLEnumType:[],"GraphQLEnumType:values":[],"GraphQLEnumType:values:value":[],GraphQLUnionType:[],"GraphQLUnionType:types":[]}}_setPluginName(name){this._currentPluginName=name}hook(hookName,fn,provides,before,after){if(!this.hooks[hookName])throw new Error(`Sorry, '${hookName}' is not a supported hook`);if(this._currentPluginName&&(fn.displayName=`${this._currentPluginName}/${hookName}/${provides&&provides.length&&provides.join("+")||fn.displayName||fn.name||"unnamed"}`),provides&&(!fn.displayName&&provides.length&&(fn.displayName=`unknown/${hookName}/${provides[0]}`),fn.provides=provides),before&&(fn.before=before),after&&(fn.after=after),fn.provides||fn.before||fn.after){const relevantHooks=this.hooks[hookName];let minIndex=0,minReason=null,maxIndex=relevantHooks.length,maxReason=null;const{provides:newProvides,before:newBefore,after:newAfter}=fn,describe=(hook,index)=>hook?`${hook.displayName||hook.name||"anonymous"} (${index?`index: ${index}, `:""}provides: ${hook.provides?hook.provides.join(","):"-"}, before: ${hook.before?hook.before.join(","):"-"}, after: ${hook.after?hook.after.join(","):"-"})`:"-",check=()=>{if(minIndex>maxIndex)throw new Error(`Cannot resolve plugin order - ${describe(fn)} cannot be before ${describe(maxReason,maxIndex)} and after ${describe(minReason,minIndex)} - please report this issue`)},setMin=(newMin,reason)=>{newMin>minIndex&&(minIndex=newMin,minReason=reason,check())},setMax=(newMax,reason)=>{newMax<maxIndex&&(maxIndex=newMax,maxReason=reason,check())};relevantHooks.forEach((oldHook,idx)=>{const{provides:oldProvides,before:oldBefore,after:oldAfter}=oldHook;newProvides&&(oldBefore&&oldBefore.some(dep=>newProvides.includes(dep))&&setMin(idx+1,oldHook),oldAfter&&oldAfter.some(dep=>newProvides.includes(dep))&&setMax(idx,oldHook)),oldProvides&&(newBefore&&newBefore.some(dep=>oldProvides.includes(dep))&&setMax(idx,oldHook),newAfter&&newAfter.some(dep=>oldProvides.includes(dep))&&setMin(idx+1,oldHook))}),this.hooks[hookName].splice(maxIndex,0,fn)}else this.hooks[hookName].push(fn)}applyHooks(build,hookName,input,context,debugStr=""){if(!input)throw new Error("applyHooks was called with falsy input");this.depth++;try{debug(`${"  ".repeat(this.depth)}[${hookName}${debugStr}]: Running...`);const hooks=this.hooks[hookName];if(!hooks)throw new Error(`Sorry, '${hookName}' is not a registered hook`);let newObj=input;for(const hook of hooks){this.depth++;try{const hookDisplayName=hook.displayName||hook.name||"anonymous";debug(`${"  ".repeat(this.depth)}[${hookName}${debugStr}]:   Executing '${hookDisplayName}'`);const previousHookName=build.status.currentHookName,previousHookEvent=build.status.currentHookEvent;build.status.currentHookName=hookDisplayName,build.status.currentHookEvent=hookName;const oldObj=newObj;if(newObj=hook(newObj,build,context),"build"===hookName&&newObj!==oldObj&&(console.warn(`Build hook '${hookDisplayName}' returned a new object; please use 'return build.extend(build, {...})' instead.`),Object.assign(oldObj,newObj),newObj=oldObj),build.status.currentHookName=previousHookName,build.status.currentHookEvent=previousHookEvent,!newObj)throw new Error(`Hook '${hook.displayName||hook.name||"anonymous"}' for '${hookName}' returned falsy value '${newObj}'`);debug(`${"  ".repeat(this.depth)}[${hookName}${debugStr}]:   '${hookDisplayName}' complete`)}finally{this.depth--}}return debug(`${"  ".repeat(this.depth)}[${hookName}${debugStr}]: Complete`),newObj}finally{this.depth--}}registerWatcher(listen,unlisten){if(!listen||!unlisten)throw new Error("You must provide both a listener and an unlistener");this.watchers.push(listen),this.unwatchers.push(unlisten)}createBuild(){const initialBuild=(0,_makeNewBuild.default)(this);initialBuild.inflection=this.applyHooks(initialBuild,"inflection",initialBuild.inflection,{scope:{}});const build=this.applyHooks(initialBuild,"build",initialBuild,{scope:{}});return(0,_utils.bindAll)(build,Object.keys(build).filter(key=>"function"==typeof build[key])),Object.freeze(build),this.applyHooks(build,"init",{},{scope:{}}),build}buildSchema(){if(!this._generatedSchema){const build=this.createBuild(),schema=build.newWithHooks(GraphQLSchema,{directives:[...build.graphql.specifiedDirectives]},{__origin:"GraphQL built-in",isSchema:!0});this._generatedSchema=this.applyHooks(build,"finalize",schema,{},"Finalising GraphQL schema")}if(!this._generatedSchema)throw new Error("Schema generation failed");return this._generatedSchema}async watchSchema(listener){if(this._busy)throw new Error("An operation is in progress");if(this._watching)throw new Error("We're already watching this schema! Use `builder.on('schema', callback)` instead.");try{this._busy=!0,this._explicitSchemaListener=listener;let ignoreChangeTriggers=!0;this.triggerChange=()=>{if(!ignoreChangeTriggers){this._generatedSchema=null;try{const schema=this.buildSchema();this.emit("schema",schema)}catch(e){console.error(" An error occured when building the schema on watch:"),console.error(e)}}};for(const fn of this.watchers)await fn(this.triggerChange);ignoreChangeTriggers=!1,listener&&this.on("schema",listener),this.emit("schema",this.buildSchema()),this._watching=!0}finally{this._busy=!1}}async unwatchSchema(){if(this._busy)throw new Error("An operation is in progress");if(!this._watching)throw new Error("We're not watching this schema!");this._busy=!0;try{const listener=this._explicitSchemaListener;if(this._explicitSchemaListener=null,listener&&this.removeListener("schema",listener),this.triggerChange)for(const fn of this.unwatchers)await fn(this.triggerChange);this.triggerChange=null,this._watching=!1}finally{this._busy=!1}}}var _default=SchemaBuilder;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(builder){const allTypes={Int:graphql.GraphQLInt,Float:graphql.GraphQLFloat,String:graphql.GraphQLString,Boolean:graphql.GraphQLBoolean,ID:graphql.GraphQLID},allTypesSources={Int:"GraphQL Built-in",Float:"GraphQL Built-in",String:"GraphQL Built-in",Boolean:"GraphQL Built-in",ID:"GraphQL Built-in"},fieldDataGeneratorsByFieldNameByType=new Map,fieldArgDataGeneratorsByFieldNameByType=new Map;return{options:builder.options,graphileBuildVersion:_package.version,versions:{graphql:__webpack_require__(372).version,"graphile-build":_package.version},hasVersion(packageName,range,options={includePrerelease:!0}){const packageVersion=this.versions[packageName];return!!packageVersion&&_semver.default.satisfies(packageVersion,range,options)},graphql:graphql,parseResolveInfo:_graphqlParseResolveInfo.parseResolveInfo,simplifyParsedResolveInfoFragmentWithType:_graphqlParseResolveInfo.simplifyParsedResolveInfoFragmentWithType,getSafeAliasFromAlias:getSafeAliasFromAlias,getAliasFromResolveInfo:getSafeAliasFromResolveInfo,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,resolveAlias:(data,_args,_context,resolveInfo)=>data[getSafeAliasFromResolveInfo(resolveInfo)],addType(type,origin){if(!type.name)throw new Error("addType must only be called with named types, try using require('graphql').getNamedType");const newTypeSource=origin||(this?`'addType' call during hook '${this.status.currentHookName}'`:null);if(allTypes[type.name]){if(allTypes[type.name]!==type){const oldTypeSource=allTypesSources[type.name],firstEntityDetails=oldTypeSource?"The first entity was:\n\n"+(0,_extend.indent)(_chalk.default.magenta(oldTypeSource)):"The first type was registered from an unknown origin.",secondEntityDetails=newTypeSource?"The second entity was:\n\n"+(0,_extend.indent)(_chalk.default.yellow(newTypeSource)):"The second type was registered from an unknown origin.";throw new Error(`A type naming conflict has occurred - two entities have tried to define the same type '${_chalk.default.bold(type.name)}'.\n\n${(0,_extend.indent)(firstEntityDetails)}\n\n${(0,_extend.indent)(secondEntityDetails)}`)}}else allTypes[type.name]=type,allTypesSources[type.name]=newTypeSource},getTypeByName:typeName=>allTypes[typeName],extend:_extend.default,newWithHooks(Type,spec,inScope,performNonEmptyFieldsCheck=!1){const scope=inScope||{};if(inScope||console.warn(`No scope was provided to new ${Type.name}[name=${spec.name}], it's highly recommended that you add a scope so other hooks can easily reference your object - please check usage of 'newWithHooks'. To mute this message, just pass an empty object.`),!Type)throw new Error("No type specified!");if(!this.newWithHooks)throw new Error("Please do not generate the schema during the build building phase, use 'init' instead");const fieldDataGeneratorsByFieldName={},fieldArgDataGeneratorsByFieldName={};let newSpec=spec;if(-1===knownTypes.indexOf(Type)&&knownTypeNames.indexOf(Type.name)>=0)throw new Error(`GraphQL conflict for '${Type.name}' detected! Multiple versions of graphql exist in your node_modules?`);if(Type===GraphQLSchema)newSpec=builder.applyHooks(this,"GraphQLSchema",newSpec,{type:"GraphQLSchema",scope:scope});else if(Type===GraphQLObjectType){const addDataGeneratorForField=(fieldName,fn)=>{fn.displayName=fn.displayName||`${getNameFromType(Self)}:${fieldName}[${fn.name||"anonymous"}]`,fieldDataGeneratorsByFieldName[fieldName]=fieldDataGeneratorsByFieldName[fieldName]||[],fieldDataGeneratorsByFieldName[fieldName].push(fn)},recurseDataGeneratorsForField=(fieldName,iKnowWhatIAmDoing)=>{iKnowWhatIAmDoing||recurseDataGeneratorsForFieldWarned||(recurseDataGeneratorsForFieldWarned=!0,console.error("Use of `recurseDataGeneratorsForField` is NOT SAFE. e.g. `{n1: node { a: field1 }, n2: node { a: field2 } }` cannot resolve correctly."));const fn=(parsedResolveInfoFragment,ReturnType,...rest)=>{const{args:args}=parsedResolveInfoFragment,{fields:fields}=this.simplifyParsedResolveInfoFragmentWithType(parsedResolveInfoFragment,ReturnType),results=[],StrippedType=getNamedType(ReturnType),fieldDataGeneratorsByFieldName=fieldDataGeneratorsByFieldNameByType.get(StrippedType),argDataGeneratorsForSelfByFieldName=fieldArgDataGeneratorsByFieldNameByType.get(Self);if(argDataGeneratorsForSelfByFieldName){const argDataGenerators=argDataGeneratorsForSelfByFieldName[fieldName];for(let genIndex=0,genCount=argDataGenerators.length;genIndex<genCount;genIndex++){const local=ensureArray((0,argDataGenerators[genIndex])(args,ReturnType,...rest));local&&results.push(...local)}}if(fieldDataGeneratorsByFieldName&&isCompositeType(StrippedType)&&!isAbstractType(StrippedType)){const typeFields=StrippedType.getFields(),keys=Object.keys(fields);for(let keyIndex=0,keyCount=keys.length;keyIndex<keyCount;keyIndex++){const field=fields[keys[keyIndex]],gens=fieldDataGeneratorsByFieldName[field.name];if(gens)for(let genIndex=0,genCount=gens.length;genIndex<genCount;genIndex++){const local=ensureArray((0,gens[genIndex])(field,typeFields[field.name].type,...rest));local&&results.push(...local)}}}return results};fn.displayName=`recurseDataGeneratorsForField(${getNameFromType(Self)}:${fieldName})`,addDataGeneratorForField(fieldName,fn)},commonContext={type:"GraphQLObjectType",scope:scope};newSpec=builder.applyHooks(this,"GraphQLObjectType",newSpec,{...commonContext,addDataGeneratorForField:addDataGeneratorForField,recurseDataGeneratorsForField:recurseDataGeneratorsForField},"|"+newSpec.name);const rawSpec=newSpec;newSpec={...newSpec,interfaces:()=>{const interfacesContext={...commonContext,Self:Self,GraphQLObjectType:rawSpec};let rawInterfaces=rawSpec.interfaces||[];return"function"==typeof rawInterfaces&&(rawInterfaces=rawInterfaces(interfacesContext)),builder.applyHooks(this,"GraphQLObjectType:interfaces",rawInterfaces,interfacesContext,"|"+getNameFromType(Self))},fields:()=>{const processedFields=[],fieldsContext={...commonContext,addDataGeneratorForField:addDataGeneratorForField,recurseDataGeneratorsForField:recurseDataGeneratorsForField,Self:Self,GraphQLObjectType:rawSpec,fieldWithHooks:(fieldName,spec,fieldScope)=>{if(!isString(fieldName))throw new Error("It looks like you forgot to pass the fieldName to `fieldWithHooks`, we're sorry this is current necessary.");if(!fieldScope)throw new Error("All calls to `fieldWithHooks` must specify a `fieldScope` argument that gives additional context about the field so that further plugins may more easily understand the field. Keys within this object should contain the phrase 'field' since they will be merged into the parent objects scope and are not allowed to clash. If you really have no additional information to give, please just pass `{}`.");const argDataGenerators=[];fieldArgDataGeneratorsByFieldName[fieldName]=argDataGenerators;let newSpec=spec;const context={...commonContext,Self:Self,addDataGenerator:fn=>addDataGeneratorForField(fieldName,fn),addArgDataGenerator(fn){ensureName(fn),argDataGenerators.push(fn)},getDataFromParsedResolveInfoFragment:(parsedResolveInfoFragment,ReturnType)=>{const Type=getNamedType(ReturnType),data={},{fields:fields,args:args}=this.simplifyParsedResolveInfoFragmentWithType(parsedResolveInfoFragment,ReturnType);for(let dgIndex=0,dgCount=argDataGenerators.length;dgIndex<dgCount;dgIndex++){const gen=argDataGenerators[dgIndex];try{mergeData(data,gen,ReturnType,args)}catch(e){throw debug("Failed to execute argDataGenerator '%s' on %s of %s",gen.displayName||gen.name||"anonymous",fieldName,getNameFromType(Self)),e}}if(!finalSpec)throw new Error("It's too early to call this! Call from within resolve");const fieldDataGeneratorsByFieldName=fieldDataGeneratorsByFieldNameByType.get(Type);if(fieldDataGeneratorsByFieldName&&isCompositeType(Type)&&!isAbstractType(Type)){const typeFields=Type.getFields(),keys=Object.keys(fields);for(let keyIndex=0,keyCount=keys.length;keyIndex<keyCount;keyIndex++){const field=fields[keys[keyIndex]],gens=fieldDataGeneratorsByFieldName[field.name];if(gens){const FieldReturnType=typeFields[field.name].type;for(let i=0,l=gens.length;i<l;i++)mergeData(data,gens[i],FieldReturnType,field)}}}return data},scope:(0,_extend.default)((0,_extend.default)({...scope},{fieldName:fieldName},`Within context for GraphQLObjectType '${rawSpec.name}'`),fieldScope,`Extending scope for field '${fieldName}' within context for GraphQLObjectType '${rawSpec.name}'`)};"function"==typeof newSpec&&(newSpec=newSpec(context)),newSpec=builder.applyHooks(this,"GraphQLObjectType:fields:field",newSpec,context,`|${getNameFromType(Self)}.fields.${fieldName}`),newSpec.args=newSpec.args||{},newSpec={...newSpec,args:builder.applyHooks(this,"GraphQLObjectType:fields:field:args",newSpec.args,{...context,field:newSpec,returnType:newSpec.type},`|${getNameFromType(Self)}.fields.${fieldName}`)};const finalSpec=newSpec;return processedFields.push(finalSpec),finalSpec}};let rawFields=rawSpec.fields||{};"function"==typeof rawFields&&(rawFields=rawFields(fieldsContext));const fieldsSpec=builder.applyHooks(this,"GraphQLObjectType:fields",this.extend({},rawFields,`Default field included in newWithHooks call for '${rawSpec.name}'. ${inScope.__origin||""}`),fieldsContext,"|"+rawSpec.name);for(const fieldName in fieldsSpec){const fieldSpec=fieldsSpec[fieldName];processedFields.indexOf(fieldSpec)<0&&(fieldsSpec[fieldName]=fieldsContext.fieldWithHooks(fieldName,fieldSpec,{autoField:!0}))}return fieldsSpec}}}else if(Type===GraphQLInputObjectType){const commonContext={type:"GraphQLInputObjectType",scope:scope};newSpec=builder.applyHooks(this,"GraphQLInputObjectType",newSpec,commonContext,"|"+newSpec.name),newSpec.fields=newSpec.fields||{};const rawSpec=newSpec;newSpec={...newSpec,fields:()=>{const processedFields=[],fieldsContext={...commonContext,Self:Self,GraphQLInputObjectType:rawSpec,fieldWithHooks:(fieldName,spec,fieldScope={})=>{if(!isString(fieldName))throw new Error("It looks like you forgot to pass the fieldName to `fieldWithHooks`, we're sorry this is current necessary.");const context={...commonContext,Self:Self,scope:(0,_extend.default)((0,_extend.default)({...scope},{fieldName:fieldName},`Within context for GraphQLInputObjectType '${rawSpec.name}'`),fieldScope,`Extending scope for field '${fieldName}' within context for GraphQLInputObjectType '${rawSpec.name}'`)};let newSpec=spec;"function"==typeof newSpec&&(newSpec=newSpec(context)),newSpec=builder.applyHooks(this,"GraphQLInputObjectType:fields:field",newSpec,context,`|${getNameFromType(Self)}.fields.${fieldName}`);const finalSpec=newSpec;return processedFields.push(finalSpec),finalSpec}};let rawFields=rawSpec.fields;"function"==typeof rawFields&&(rawFields=rawFields(fieldsContext));const fieldsSpec=builder.applyHooks(this,"GraphQLInputObjectType:fields",this.extend({},rawFields,`Default field included in newWithHooks call for '${rawSpec.name}'. ${inScope.__origin||""}`),fieldsContext,"|"+getNameFromType(Self));for(const fieldName in fieldsSpec){const fieldSpec=fieldsSpec[fieldName];processedFields.indexOf(fieldSpec)<0&&(fieldsSpec[fieldName]=fieldsContext.fieldWithHooks(fieldName,fieldSpec,{autoField:!0}))}return fieldsSpec}}}else if(Type===GraphQLEnumType){const commonContext={type:"GraphQLEnumType",scope:scope};newSpec=builder.applyHooks(this,"GraphQLEnumType",newSpec,commonContext,"|"+newSpec.name),newSpec.values=builder.applyHooks(this,"GraphQLEnumType:values",newSpec.values,commonContext,"|"+newSpec.name);const values=newSpec.values;newSpec.values=Object.keys(values).reduce((memo,valueKey)=>{const value=values[valueKey],newValue=builder.applyHooks(this,"GraphQLEnumType:values:value",value,commonContext,`|${newSpec.name}|${valueKey}`);return memo[valueKey]=newValue,memo},{})}else if(Type===GraphQLUnionType){const commonContext={type:"GraphQLUnionType",scope:scope};newSpec=builder.applyHooks(this,"GraphQLUnionType",newSpec,{...commonContext},"|"+newSpec.name);const rawSpec=newSpec;newSpec={...newSpec,types:()=>{const typesContext={...commonContext,Self:Self,GraphQLUnionType:rawSpec};let rawTypes=rawSpec.types||[];return"function"==typeof rawTypes&&(rawTypes=rawTypes(typesContext)),builder.applyHooks(this,"GraphQLUnionType:types",rawTypes,typesContext,"|"+getNameFromType(Self))}}}const finalSpec=newSpec,Self=new Type(finalSpec);if(!(Self instanceof GraphQLSchema)&&performNonEmptyFieldsCheck)try{if(Self instanceof GraphQLInterfaceType||Self instanceof GraphQLObjectType||Self instanceof GraphQLInputObjectType){const _Self=Self;if("function"==typeof _Self.getFields){const fields=_Self.getFields();if(0===Object.keys(fields).length)return null}}}catch(e){if(inScope&&inScope.isRootQuery)throw e;return!!e.message.match(/function which returns such an object/)||this.swallowError(e),null}return this.scopeByType.set(Self,scope),finalSpec.name&&this.addType(Self,scope.__origin||(this?`'newWithHooks' call during hook '${this.status.currentHookName}'`:null)),fieldDataGeneratorsByFieldNameByType.set(Self,fieldDataGeneratorsByFieldName),fieldArgDataGeneratorsByFieldNameByType.set(Self,fieldArgDataGeneratorsByFieldName),Self},fieldDataGeneratorsByType:fieldDataGeneratorsByFieldNameByType,fieldDataGeneratorsByFieldNameByType:fieldDataGeneratorsByFieldNameByType,fieldArgDataGeneratorsByFieldNameByType:fieldArgDataGeneratorsByFieldNameByType,inflection:{pluralize:_pluralize.default,singularize:_pluralize.default.singular,upperCamelCase:_utils.upperCamelCase,camelCase:_utils.camelCase,constantCase:_utils.constantCase,builtin:name=>name,live:name=>name,coerceToGraphQLName:name=>{let resultingName=name;return resultingName.match(/^[0-9]/)&&(resultingName="_"+resultingName),resultingName=resultingName.replace(/^__+/g,"_"),resultingName}},swallowError:_swallowError.default,resolveNode:_resolveNode.default,status:{currentHookName:null,currentHookEvent:null},liveCoordinator:new _Live.LiveCoordinator,scopeByType:new Map}};var graphql=_interopRequireWildcard(__webpack_require__(20)),_graphqlParseResolveInfo=__webpack_require__(347),_debug=_interopRequireDefault(__webpack_require__(19)),_pluralize=_interopRequireDefault(__webpack_require__(159)),_lru=_interopRequireDefault(__webpack_require__(53)),_semver=_interopRequireDefault(__webpack_require__(350)),_utils=__webpack_require__(110),_swallowError=_interopRequireDefault(__webpack_require__(367)),_resolveNode=_interopRequireDefault(__webpack_require__(162)),_Live=__webpack_require__(163),_extend=_interopRequireWildcard(__webpack_require__(370)),_chalk=_interopRequireDefault(__webpack_require__(39)),_crypto=__webpack_require__(28),_package=__webpack_require__(371);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}let recurseDataGeneratorsForFieldWarned=!1;const isString=str=>"string"==typeof str,isDev=["test","development"].indexOf("production")>=0,debug=(0,_debug.default)("graphile-build"),hashCache=new _lru.default({maxLength:1e5});function getSafeAliasFromAlias(alias){if(alias.length<=60&&!alias.startsWith("@"))return"@"+alias;if(alias.length>1024)throw new Error(`GraphQL alias '${alias}' is too long, use shorter aliases (max length 1024).`);return"@@"+function(str){const precomputed=hashCache.get(str);if(precomputed)return precomputed;const hash=(0,_crypto.createHash)("sha1").update(str).digest("hex");return hashCache.set(str,hash),hash}(alias)}function getSafeAliasFromResolveInfo(resolveInfo){return getSafeAliasFromAlias((0,_graphqlParseResolveInfo.getAliasFromResolveInfo)(resolveInfo))}function getNameFromType(Type){return Type instanceof GraphQLSchema?"schema":Type.name}const{GraphQLSchema:GraphQLSchema,GraphQLInterfaceType:GraphQLInterfaceType,GraphQLObjectType:GraphQLObjectType,GraphQLInputObjectType:GraphQLInputObjectType,GraphQLEnumType:GraphQLEnumType,GraphQLUnionType:GraphQLUnionType,getNamedType:getNamedType,isCompositeType:isCompositeType,isAbstractType:isAbstractType}=graphql,mergeData=(data,gen,ReturnType,arg)=>{const results=ensureArray(gen(arg,ReturnType,data));if(results)for(let resultIndex=0,resultCount=results.length;resultIndex<resultCount;resultIndex++){const result=results[resultIndex],keys=Object.keys(result);for(let i=0,l=keys.length;i<l;i++){const k=keys[i];data[k]=data[k]||[];const newData=ensureArray(result[k]);newData&&data[k].push(...newData)}}},knownTypes=[GraphQLSchema,GraphQLObjectType,GraphQLInputObjectType,GraphQLEnumType,GraphQLUnionType],knownTypeNames=knownTypes.map(k=>k.name);function ensureArray(val){return null==val?void 0:Array.isArray(val)?val:[val]}let ensureName=_fn=>{};["development","test"].indexOf("production")>=0&&(ensureName=fn=>{isDev&&!fn.displayName&&!fn.name&&debug.enabled&&console.trace("WARNING: you've added a function with no name as an argDataGenerator, doing so may make debugging more challenging")})},function(module,exports,__webpack_require__){if("1"===process.env.GRAPHILE_TURBO){if(parseInt(process.version.replace(/\..*$/,""),10)<12)throw new Error("Turbo mode requires Node v12 or higher");module.exports=__webpack_require__(348)}else module.exports=__webpack_require__(349)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const assert=__webpack_require__(67),graphql_1=__webpack_require__(20),values_1=__webpack_require__(42),debug=__webpack_require__(19)("graphql-parse-resolve-info"),DEBUG_ENABLED=debug.enabled;function getArgVal(resolveInfo,argument){return"Variable"===argument.kind?resolveInfo.variableValues[argument.name.value]:"BooleanValue"===argument.kind?argument.value:void 0}function argNameIsIf(arg){return!(!arg||!arg.name)&&"if"===arg.name.value}function getAliasFromResolveInfo(resolveInfo){const asts=resolveInfo.fieldNodes||resolveInfo.fieldASTs;for(let i=0,l=asts.length;i<l;i++){const val=asts[i];if("Field"===val.kind){const alias=val.alias?val.alias.value:val.name&&val.name.value;if(alias)return alias}}throw new Error("Could not determine alias?!")}function parseResolveInfo(resolveInfo,options={}){const fieldNodes=resolveInfo.fieldNodes||resolveInfo.fieldASTs,{parentType:parentType}=resolveInfo;if(!fieldNodes)throw new Error("No fieldNodes provided!");null==options.keepRoot&&(options.keepRoot=!1),null==options.deep&&(options.deep=!0);const tree=function fieldTreeFromAST(inASTs,resolveInfo,initTree={},options={},parentType,depth=""){const instance=iNum++;DEBUG_ENABLED&&debug("%s[%d] Entering fieldTreeFromAST with parent type '%s'",depth,instance,parentType);const{variableValues:variableValues}=resolveInfo,fragments=resolveInfo.fragments||{},asts=Array.isArray(inASTs)?inASTs:[inASTs];initTree[parentType.name]||(initTree[parentType.name]={});const outerDepth=depth;return asts.reduce((tree,selectionVal,idx)=>{const depth=DEBUG_ENABLED?outerDepth+"  ":null;if(DEBUG_ENABLED&&debug("%s[%d] Processing AST %d of %d; kind = %s",depth,instance,idx+1,asts.length,selectionVal.kind),function(resolveInfo,{directives:directives=[]}){let skip=!1;return directives.forEach(directive=>{const directiveName=directive.name.value;if(Array.isArray(directive.arguments)){const ifArgumentAst=directive.arguments.find(argNameIsIf);if(ifArgumentAst){const argumentValueAst=ifArgumentAst.value;"skip"===directiveName?skip=skip||getArgVal(resolveInfo,argumentValueAst):"include"===directiveName&&(skip=skip||!getArgVal(resolveInfo,argumentValueAst))}}}),skip}(resolveInfo,selectionVal))DEBUG_ENABLED&&debug("%s[%d] IGNORING due to directive",depth,instance);else if("Field"===selectionVal.kind){const val=selectionVal,name=val.name.value;if("_"===name[0]&&"_"===name[1]&&"__id"!==name)DEBUG_ENABLED&&debug("%s[%d] IGNORING because field '%s' is reserved",depth,instance,name);else{const alias=val.alias&&val.alias.value?val.alias.value:name;DEBUG_ENABLED&&debug("%s[%d] Field '%s' (alias = '%s')",depth,instance,name,alias);const field=function(ast,parentType){if("Field"===ast.kind){const fieldName=ast.name.value;if(!(parentType instanceof graphql_1.GraphQLUnionType)){return parentType.getFields()[fieldName]}}return}(val,parentType);if(null==field)return tree;const fieldGqlTypeOrUndefined=graphql_1.getNamedType(field.type);if(!fieldGqlTypeOrUndefined)return tree;const fieldGqlType=fieldGqlTypeOrUndefined,args=values_1.getArgumentValues(field,val,variableValues)||{};if(parentType.name&&!tree[parentType.name][alias]){const newTreeRoot={name:name,alias:alias,args:args,fieldsByTypeName:graphql_1.isCompositeType(fieldGqlType)?{[fieldGqlType.name]:{}}:{}};tree[parentType.name][alias]=newTreeRoot}const selectionSet=val.selectionSet;if(null!=selectionSet&&options.deep&&graphql_1.isCompositeType(fieldGqlType)){const newParentType=fieldGqlType;DEBUG_ENABLED&&debug("%s[%d] Recursing into subfields",depth,instance),fieldTreeFromAST(selectionSet.selections,resolveInfo,tree[parentType.name][alias].fieldsByTypeName,options,newParentType,depth+"  ")}else DEBUG_ENABLED&&debug("%s[%d] Exiting (no fields to add)",depth,instance)}}else if("FragmentSpread"===selectionVal.kind&&options.deep){const val=selectionVal,name=val.name&&val.name.value;DEBUG_ENABLED&&debug("%s[%d] Fragment spread '%s'",depth,instance,name);const fragment=fragments[name];assert(fragment,'unknown fragment "'+name+'"');let fragmentType=parentType;if(fragment.typeCondition&&(fragmentType=getType(resolveInfo,fragment.typeCondition)),fragmentType&&graphql_1.isCompositeType(fragmentType)){const newParentType=fragmentType;fieldTreeFromAST(fragment.selectionSet.selections,resolveInfo,tree,options,newParentType,depth+"  ")}}else if("InlineFragment"===selectionVal.kind&&options.deep){const fragment=selectionVal;let fragmentType=parentType;if(fragment.typeCondition&&(fragmentType=getType(resolveInfo,fragment.typeCondition)),DEBUG_ENABLED&&debug("%s[%d] Inline fragment (parent = '%s', type = '%s')",depth,instance,parentType,fragmentType),fragmentType&&graphql_1.isCompositeType(fragmentType)){const newParentType=fragmentType;fieldTreeFromAST(fragment.selectionSet.selections,resolveInfo,tree,options,newParentType,depth+"  ")}}else DEBUG_ENABLED&&debug("%s[%d] IGNORING because kind '%s' not understood",depth,instance,selectionVal.kind);return tree},initTree)}(fieldNodes,resolveInfo,void 0,options,parentType);if(!options.keepRoot){const typeKey=firstKey(tree);if(!typeKey)return null;const fields=tree[typeKey],fieldKey=firstKey(fields);return fieldKey?fields[fieldKey]:null}return tree}exports.getAliasFromResolveInfo=getAliasFromResolveInfo,exports.parseResolveInfo=parseResolveInfo;let iNum=1;const hasOwnProperty=Object.prototype.hasOwnProperty;function firstKey(obj){for(const key in obj)if(hasOwnProperty.call(obj,key))return key}function getType(resolveInfo,typeCondition){const{schema:schema}=resolveInfo,{kind:kind,name:name}=typeCondition;if("NamedType"===kind){const typeName=name.value;return schema.getType(typeName)}}function simplifyParsedResolveInfoFragmentWithType(parsedResolveInfoFragment,type){const{fieldsByTypeName:fieldsByTypeName}=parsedResolveInfoFragment,fields={},strippedType=graphql_1.getNamedType(type);if(graphql_1.isCompositeType(strippedType)&&(Object.assign(fields,fieldsByTypeName[strippedType.name]),strippedType instanceof graphql_1.GraphQLObjectType)){const objectType=strippedType;for(const anInterface of objectType.getInterfaces())Object.assign(fields,fieldsByTypeName[anInterface.name])}return{...parsedResolveInfoFragment,fields:fields}}exports.simplifyParsedResolveInfoFragmentWithType=simplifyParsedResolveInfoFragmentWithType,exports.parse=parseResolveInfo,exports.simplify=simplifyParsedResolveInfoFragmentWithType,exports.getAlias=getAliasFromResolveInfo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const assert=__webpack_require__(67),graphql_1=__webpack_require__(20),values_1=__webpack_require__(42),debug=__webpack_require__(19)("graphql-parse-resolve-info"),DEBUG_ENABLED=debug.enabled;function getArgVal(resolveInfo,argument){return"Variable"===argument.kind?resolveInfo.variableValues[argument.name.value]:"BooleanValue"===argument.kind?argument.value:void 0}function argNameIsIf(arg){return!(!arg||!arg.name)&&"if"===arg.name.value}function getAliasFromResolveInfo(resolveInfo){const asts=resolveInfo.fieldNodes||resolveInfo.fieldASTs;for(let i=0,l=asts.length;i<l;i++){const val=asts[i];if("Field"===val.kind){const alias=val.alias?val.alias.value:val.name&&val.name.value;if(alias)return alias}}throw new Error("Could not determine alias?!")}function parseResolveInfo(resolveInfo,options={}){const fieldNodes=resolveInfo.fieldNodes||resolveInfo.fieldASTs,{parentType:parentType}=resolveInfo;if(!fieldNodes)throw new Error("No fieldNodes provided!");null==options.keepRoot&&(options.keepRoot=!1),null==options.deep&&(options.deep=!0);const tree=function fieldTreeFromAST(inASTs,resolveInfo,initTree={},options={},parentType,depth=""){const instance=iNum++;DEBUG_ENABLED&&debug("%s[%d] Entering fieldTreeFromAST with parent type '%s'",depth,instance,parentType);const{variableValues:variableValues}=resolveInfo,fragments=resolveInfo.fragments||{},asts=Array.isArray(inASTs)?inASTs:[inASTs];initTree[parentType.name]||(initTree[parentType.name]={});const outerDepth=depth;return asts.reduce((tree,selectionVal,idx)=>{const depth=DEBUG_ENABLED?outerDepth+"  ":null;if(DEBUG_ENABLED&&debug("%s[%d] Processing AST %d of %d; kind = %s",depth,instance,idx+1,asts.length,selectionVal.kind),function(resolveInfo,{directives:directives=[]}){let skip=!1;return directives.forEach(directive=>{const directiveName=directive.name.value;if(Array.isArray(directive.arguments)){const ifArgumentAst=directive.arguments.find(argNameIsIf);if(ifArgumentAst){const argumentValueAst=ifArgumentAst.value;"skip"===directiveName?skip=skip||getArgVal(resolveInfo,argumentValueAst):"include"===directiveName&&(skip=skip||!getArgVal(resolveInfo,argumentValueAst))}}}),skip}(resolveInfo,selectionVal))DEBUG_ENABLED&&debug("%s[%d] IGNORING due to directive",depth,instance);else if("Field"===selectionVal.kind){const val=selectionVal,name=val.name.value;if("_"===name[0]&&"_"===name[1]&&"__id"!==name)DEBUG_ENABLED&&debug("%s[%d] IGNORING because field '%s' is reserved",depth,instance,name);else{const alias=val.alias&&val.alias.value?val.alias.value:name;DEBUG_ENABLED&&debug("%s[%d] Field '%s' (alias = '%s')",depth,instance,name,alias);const field=function(ast,parentType){if("Field"===ast.kind){const fieldName=ast.name.value;if(!(parentType instanceof graphql_1.GraphQLUnionType)){return parentType.getFields()[fieldName]}}return}(val,parentType);if(null==field)return tree;const fieldGqlTypeOrUndefined=graphql_1.getNamedType(field.type);if(!fieldGqlTypeOrUndefined)return tree;const fieldGqlType=fieldGqlTypeOrUndefined,args=values_1.getArgumentValues(field,val,variableValues)||{};if(parentType.name&&!tree[parentType.name][alias]){const newTreeRoot={name:name,alias:alias,args:args,fieldsByTypeName:graphql_1.isCompositeType(fieldGqlType)?{[fieldGqlType.name]:{}}:{}};tree[parentType.name][alias]=newTreeRoot}const selectionSet=val.selectionSet;if(null!=selectionSet&&options.deep&&graphql_1.isCompositeType(fieldGqlType)){const newParentType=fieldGqlType;DEBUG_ENABLED&&debug("%s[%d] Recursing into subfields",depth,instance),fieldTreeFromAST(selectionSet.selections,resolveInfo,tree[parentType.name][alias].fieldsByTypeName,options,newParentType,depth+"  ")}else DEBUG_ENABLED&&debug("%s[%d] Exiting (no fields to add)",depth,instance)}}else if("FragmentSpread"===selectionVal.kind&&options.deep){const val=selectionVal,name=val.name&&val.name.value;DEBUG_ENABLED&&debug("%s[%d] Fragment spread '%s'",depth,instance,name);const fragment=fragments[name];assert(fragment,'unknown fragment "'+name+'"');let fragmentType=parentType;if(fragment.typeCondition&&(fragmentType=getType(resolveInfo,fragment.typeCondition)),fragmentType&&graphql_1.isCompositeType(fragmentType)){const newParentType=fragmentType;fieldTreeFromAST(fragment.selectionSet.selections,resolveInfo,tree,options,newParentType,depth+"  ")}}else if("InlineFragment"===selectionVal.kind&&options.deep){const fragment=selectionVal;let fragmentType=parentType;if(fragment.typeCondition&&(fragmentType=getType(resolveInfo,fragment.typeCondition)),DEBUG_ENABLED&&debug("%s[%d] Inline fragment (parent = '%s', type = '%s')",depth,instance,parentType,fragmentType),fragmentType&&graphql_1.isCompositeType(fragmentType)){const newParentType=fragmentType;fieldTreeFromAST(fragment.selectionSet.selections,resolveInfo,tree,options,newParentType,depth+"  ")}}else DEBUG_ENABLED&&debug("%s[%d] IGNORING because kind '%s' not understood",depth,instance,selectionVal.kind);return tree},initTree)}(fieldNodes,resolveInfo,void 0,options,parentType);if(!options.keepRoot){const typeKey=firstKey(tree);if(!typeKey)return null;const fields=tree[typeKey],fieldKey=firstKey(fields);return fieldKey?fields[fieldKey]:null}return tree}exports.getAliasFromResolveInfo=getAliasFromResolveInfo,exports.parseResolveInfo=parseResolveInfo;let iNum=1;const hasOwnProperty=Object.prototype.hasOwnProperty;function firstKey(obj){for(const key in obj)if(hasOwnProperty.call(obj,key))return key}function getType(resolveInfo,typeCondition){const{schema:schema}=resolveInfo,{kind:kind,name:name}=typeCondition;if("NamedType"===kind){const typeName=name.value;return schema.getType(typeName)}}function simplifyParsedResolveInfoFragmentWithType(parsedResolveInfoFragment,type){const{fieldsByTypeName:fieldsByTypeName}=parsedResolveInfoFragment,fields={},strippedType=graphql_1.getNamedType(type);if(graphql_1.isCompositeType(strippedType)&&(Object.assign(fields,fieldsByTypeName[strippedType.name]),strippedType instanceof graphql_1.GraphQLObjectType)){const objectType=strippedType;for(const anInterface of objectType.getInterfaces())Object.assign(fields,fieldsByTypeName[anInterface.name])}return Object.assign(Object.assign({},parsedResolveInfoFragment),{fields:fields})}exports.simplifyParsedResolveInfoFragmentWithType=simplifyParsedResolveInfoFragmentWithType,exports.parse=parseResolveInfo,exports.simplify=simplifyParsedResolveInfoFragmentWithType,exports.getAlias=getAliasFromResolveInfo},function(module,exports){var debug;exports=module.exports=SemVer,debug="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var args=Array.prototype.slice.call(arguments,0);args.unshift("SEMVER"),console.log.apply(console,args)}:function(){},exports.SEMVER_SPEC_VERSION="2.0.0";var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],t=exports.tokens={},R=0;function tok(n){t[n]=R++}tok("NUMERICIDENTIFIER"),src[t.NUMERICIDENTIFIER]="0|[1-9]\\d*",tok("NUMERICIDENTIFIERLOOSE"),src[t.NUMERICIDENTIFIERLOOSE]="[0-9]+",tok("NONNUMERICIDENTIFIER"),src[t.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",tok("MAINVERSION"),src[t.MAINVERSION]="("+src[t.NUMERICIDENTIFIER]+")\\.("+src[t.NUMERICIDENTIFIER]+")\\.("+src[t.NUMERICIDENTIFIER]+")",tok("MAINVERSIONLOOSE"),src[t.MAINVERSIONLOOSE]="("+src[t.NUMERICIDENTIFIERLOOSE]+")\\.("+src[t.NUMERICIDENTIFIERLOOSE]+")\\.("+src[t.NUMERICIDENTIFIERLOOSE]+")",tok("PRERELEASEIDENTIFIER"),src[t.PRERELEASEIDENTIFIER]="(?:"+src[t.NUMERICIDENTIFIER]+"|"+src[t.NONNUMERICIDENTIFIER]+")",tok("PRERELEASEIDENTIFIERLOOSE"),src[t.PRERELEASEIDENTIFIERLOOSE]="(?:"+src[t.NUMERICIDENTIFIERLOOSE]+"|"+src[t.NONNUMERICIDENTIFIER]+")",tok("PRERELEASE"),src[t.PRERELEASE]="(?:-("+src[t.PRERELEASEIDENTIFIER]+"(?:\\."+src[t.PRERELEASEIDENTIFIER]+")*))",tok("PRERELEASELOOSE"),src[t.PRERELEASELOOSE]="(?:-?("+src[t.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+src[t.PRERELEASEIDENTIFIERLOOSE]+")*))",tok("BUILDIDENTIFIER"),src[t.BUILDIDENTIFIER]="[0-9A-Za-z-]+",tok("BUILD"),src[t.BUILD]="(?:\\+("+src[t.BUILDIDENTIFIER]+"(?:\\."+src[t.BUILDIDENTIFIER]+")*))",tok("FULL"),tok("FULLPLAIN"),src[t.FULLPLAIN]="v?"+src[t.MAINVERSION]+src[t.PRERELEASE]+"?"+src[t.BUILD]+"?",src[t.FULL]="^"+src[t.FULLPLAIN]+"$",tok("LOOSEPLAIN"),src[t.LOOSEPLAIN]="[v=\\s]*"+src[t.MAINVERSIONLOOSE]+src[t.PRERELEASELOOSE]+"?"+src[t.BUILD]+"?",tok("LOOSE"),src[t.LOOSE]="^"+src[t.LOOSEPLAIN]+"$",tok("GTLT"),src[t.GTLT]="((?:<|>)?=?)",tok("XRANGEIDENTIFIERLOOSE"),src[t.XRANGEIDENTIFIERLOOSE]=src[t.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",tok("XRANGEIDENTIFIER"),src[t.XRANGEIDENTIFIER]=src[t.NUMERICIDENTIFIER]+"|x|X|\\*",tok("XRANGEPLAIN"),src[t.XRANGEPLAIN]="[v=\\s]*("+src[t.XRANGEIDENTIFIER]+")(?:\\.("+src[t.XRANGEIDENTIFIER]+")(?:\\.("+src[t.XRANGEIDENTIFIER]+")(?:"+src[t.PRERELEASE]+")?"+src[t.BUILD]+"?)?)?",tok("XRANGEPLAINLOOSE"),src[t.XRANGEPLAINLOOSE]="[v=\\s]*("+src[t.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[t.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[t.XRANGEIDENTIFIERLOOSE]+")(?:"+src[t.PRERELEASELOOSE]+")?"+src[t.BUILD]+"?)?)?",tok("XRANGE"),src[t.XRANGE]="^"+src[t.GTLT]+"\\s*"+src[t.XRANGEPLAIN]+"$",tok("XRANGELOOSE"),src[t.XRANGELOOSE]="^"+src[t.GTLT]+"\\s*"+src[t.XRANGEPLAINLOOSE]+"$",tok("COERCE"),src[t.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",tok("COERCERTL"),re[t.COERCERTL]=new RegExp(src[t.COERCE],"g"),tok("LONETILDE"),src[t.LONETILDE]="(?:~>?)",tok("TILDETRIM"),src[t.TILDETRIM]="(\\s*)"+src[t.LONETILDE]+"\\s+",re[t.TILDETRIM]=new RegExp(src[t.TILDETRIM],"g");tok("TILDE"),src[t.TILDE]="^"+src[t.LONETILDE]+src[t.XRANGEPLAIN]+"$",tok("TILDELOOSE"),src[t.TILDELOOSE]="^"+src[t.LONETILDE]+src[t.XRANGEPLAINLOOSE]+"$",tok("LONECARET"),src[t.LONECARET]="(?:\\^)",tok("CARETTRIM"),src[t.CARETTRIM]="(\\s*)"+src[t.LONECARET]+"\\s+",re[t.CARETTRIM]=new RegExp(src[t.CARETTRIM],"g");tok("CARET"),src[t.CARET]="^"+src[t.LONECARET]+src[t.XRANGEPLAIN]+"$",tok("CARETLOOSE"),src[t.CARETLOOSE]="^"+src[t.LONECARET]+src[t.XRANGEPLAINLOOSE]+"$",tok("COMPARATORLOOSE"),src[t.COMPARATORLOOSE]="^"+src[t.GTLT]+"\\s*("+src[t.LOOSEPLAIN]+")$|^$",tok("COMPARATOR"),src[t.COMPARATOR]="^"+src[t.GTLT]+"\\s*("+src[t.FULLPLAIN]+")$|^$",tok("COMPARATORTRIM"),src[t.COMPARATORTRIM]="(\\s*)"+src[t.GTLT]+"\\s*("+src[t.LOOSEPLAIN]+"|"+src[t.XRANGEPLAIN]+")",re[t.COMPARATORTRIM]=new RegExp(src[t.COMPARATORTRIM],"g");tok("HYPHENRANGE"),src[t.HYPHENRANGE]="^\\s*("+src[t.XRANGEPLAIN]+")\\s+-\\s+("+src[t.XRANGEPLAIN]+")\\s*$",tok("HYPHENRANGELOOSE"),src[t.HYPHENRANGELOOSE]="^\\s*("+src[t.XRANGEPLAINLOOSE]+")\\s+-\\s+("+src[t.XRANGEPLAINLOOSE]+")\\s*$",tok("STAR"),src[t.STAR]="(<|>)?=?\\s*\\*";for(var i=0;i<R;i++)debug(i,src[i]),re[i]||(re[i]=new RegExp(src[i]));function parse(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer)return version;if("string"!=typeof version)return null;if(version.length>256)return null;if(!(options.loose?re[t.LOOSE]:re[t.FULL]).test(version))return null;try{return new SemVer(version,options)}catch(er){return null}}function SemVer(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer){if(version.loose===options.loose)return version;version=version.version}else if("string"!=typeof version)throw new TypeError("Invalid Version: "+version);if(version.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof SemVer))return new SemVer(version,options);debug("SemVer",version,options),this.options=options,this.loose=!!options.loose;var m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m)throw new TypeError("Invalid Version: "+version);if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map((function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num}return id})):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}exports.parse=parse,exports.valid=function(version,options){var v=parse(version,options);return v?v.version:null},exports.clean=function(version,options){var s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null},exports.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(other){return debug("SemVer.compare",this.version,this.options,other),other instanceof SemVer||(other=new SemVer(other,this.options)),this.compareMain(other)||this.comparePre(other)},SemVer.prototype.compareMain=function(other){return other instanceof SemVer||(other=new SemVer(other,this.options)),compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)},SemVer.prototype.comparePre=function(other){if(other instanceof SemVer||(other=new SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i],b=other.prerelease[i];if(debug("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers(a,b)}while(++i)},SemVer.prototype.compareBuild=function(other){other instanceof SemVer||(other=new SemVer(other,this.options));var i=0;do{var a=this.build[i],b=other.build[i];if(debug("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers(a,b)}while(++i)},SemVer.prototype.inc=function(release,identifier){switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier),this.inc("pre",identifier);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",identifier),this.inc("pre",identifier);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}identifier&&(this.prerelease[0]===identifier?isNaN(this.prerelease[1])&&(this.prerelease=[identifier,0]):this.prerelease=[identifier,0]);break;default:throw new Error("invalid increment argument: "+release)}return this.format(),this.raw=this.version,this},exports.inc=function(version,release,loose,identifier){"string"==typeof loose&&(identifier=loose,loose=void 0);try{return new SemVer(version,loose).inc(release,identifier).version}catch(er){return null}},exports.diff=function(version1,version2){if(eq(version1,version2))return null;var v1=parse(version1),v2=parse(version2),prefix="";if(v1.prerelease.length||v2.prerelease.length){prefix="pre";var defaultResult="prerelease"}for(var key in v1)if(("major"===key||"minor"===key||"patch"===key)&&v1[key]!==v2[key])return prefix+key;return defaultResult},exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(a,b){var anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1}function compare(a,b,loose){return new SemVer(a,loose).compare(new SemVer(b,loose))}function gt(a,b,loose){return compare(a,b,loose)>0}function lt(a,b,loose){return compare(a,b,loose)<0}function eq(a,b,loose){return 0===compare(a,b,loose)}function neq(a,b,loose){return 0!==compare(a,b,loose)}function gte(a,b,loose){return compare(a,b,loose)>=0}function lte(a,b,loose){return compare(a,b,loose)<=0}function cmp(a,op,b,loose){switch(op){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a===b;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError("Invalid operator: "+op)}}function Comparator(comp,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),comp instanceof Comparator){if(comp.loose===!!options.loose)return comp;comp=comp.value}if(!(this instanceof Comparator))return new Comparator(comp,options);debug("comparator",comp,options),this.options=options,this.loose=!!options.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug("comp",this)}exports.rcompareIdentifiers=function(a,b){return compareIdentifiers(b,a)},exports.major=function(a,loose){return new SemVer(a,loose).major},exports.minor=function(a,loose){return new SemVer(a,loose).minor},exports.patch=function(a,loose){return new SemVer(a,loose).patch},exports.compare=compare,exports.compareLoose=function(a,b){return compare(a,b,!0)},exports.compareBuild=function(a,b,loose){var versionA=new SemVer(a,loose),versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)},exports.rcompare=function(a,b,loose){return compare(b,a,loose)},exports.sort=function(list,loose){return list.sort((function(a,b){return exports.compareBuild(a,b,loose)}))},exports.rsort=function(list,loose){return list.sort((function(a,b){return exports.compareBuild(b,a,loose)}))},exports.gt=gt,exports.lt=lt,exports.eq=eq,exports.neq=neq,exports.gte=gte,exports.lte=lte,exports.cmp=cmp,exports.Comparator=Comparator;var ANY={};function Range(range,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),range instanceof Range)return range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease?range:new Range(range.raw,options);if(range instanceof Comparator)return new Range(range.value,options);if(!(this instanceof Range))return new Range(range,options);if(this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease,this.raw=range,this.set=range.split(/\s*\|\|\s*/).map((function(range){return this.parseRange(range.trim())}),this).filter((function(c){return c.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+range);this.format()}function isSatisfiable(comparators,options){for(var result=!0,remainingComparators=comparators.slice(),testComparator=remainingComparators.pop();result&&remainingComparators.length;)result=remainingComparators.every((function(otherComparator){return testComparator.intersects(otherComparator,options)})),testComparator=remainingComparators.pop();return result}function isX(id){return!id||"x"===id.toLowerCase()||"*"===id}function hyphenReplace($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){return((from=isX(fM)?"":isX(fm)?">="+fM+".0.0":isX(fp)?">="+fM+"."+fm+".0":">="+from)+" "+(to=isX(tM)?"":isX(tm)?"<"+(+tM+1)+".0.0":isX(tp)?"<"+tM+"."+(+tm+1)+".0":tpr?"<="+tM+"."+tm+"."+tp+"-"+tpr:"<="+to)).trim()}function testSet(set,version,options){for(var i=0;i<set.length;i++)if(!set[i].test(version))return!1;if(version.prerelease.length&&!options.includePrerelease){for(i=0;i<set.length;i++)if(debug(set[i].semver),set[i].semver!==ANY&&set[i].semver.prerelease.length>0){var allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0}function satisfies(version,range,options){try{range=new Range(range,options)}catch(er){return!1}return range.test(version)}function outside(version,range,hilo,options){var gtfn,ltefn,ltfn,comp,ecomp;switch(version=new SemVer(version,options),range=new Range(range,options),hilo){case">":gtfn=gt,ltefn=lte,ltfn=lt,comp=">",ecomp=">=";break;case"<":gtfn=lt,ltefn=gte,ltfn=gt,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options))return!1;for(var i=0;i<range.set.length;++i){var comparators=range.set[i],high=null,low=null;if(comparators.forEach((function(comparator){comparator.semver===ANY&&(comparator=new Comparator(">=0.0.0")),high=high||comparator,low=low||comparator,gtfn(comparator.semver,high.semver,options)?high=comparator:ltfn(comparator.semver,low.semver,options)&&(low=comparator)})),high.operator===comp||high.operator===ecomp)return!1;if((!low.operator||low.operator===comp)&&ltefn(version,low.semver))return!1;if(low.operator===ecomp&&ltfn(version,low.semver))return!1}return!0}Comparator.prototype.parse=function(comp){var r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR],m=comp.match(r);if(!m)throw new TypeError("Invalid comparator: "+comp);this.operator=void 0!==m[1]?m[1]:"","="===this.operator&&(this.operator=""),m[2]?this.semver=new SemVer(m[2],this.options.loose):this.semver=ANY},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(version){if(debug("Comparator.test",version,this.options.loose),this.semver===ANY||version===ANY)return!0;if("string"==typeof version)try{version=new SemVer(version,this.options)}catch(er){return!1}return cmp(version,this.operator,this.semver,this.options)},Comparator.prototype.intersects=function(comp,options){if(!(comp instanceof Comparator))throw new TypeError("a Comparator is required");var rangeTmp;if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),""===this.operator)return""===this.value||(rangeTmp=new Range(comp.value,options),satisfies(this.value,rangeTmp,options));if(""===comp.operator)return""===comp.value||(rangeTmp=new Range(this.value,options),satisfies(comp.semver,rangeTmp,options));var sameDirectionIncreasing=!(">="!==this.operator&&">"!==this.operator||">="!==comp.operator&&">"!==comp.operator),sameDirectionDecreasing=!("<="!==this.operator&&"<"!==this.operator||"<="!==comp.operator&&"<"!==comp.operator),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=!(">="!==this.operator&&"<="!==this.operator||">="!==comp.operator&&"<="!==comp.operator),oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,options)&&(">="===this.operator||">"===this.operator)&&("<="===comp.operator||"<"===comp.operator),oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,options)&&("<="===this.operator||"<"===this.operator)&&(">="===comp.operator||">"===comp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan},exports.Range=Range,Range.prototype.format=function(){return this.range=this.set.map((function(comps){return comps.join(" ").trim()})).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(range){var loose=this.options.loose;range=range.trim();var hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace),debug("hyphen replace",range),range=range.replace(re[t.COMPARATORTRIM],"$1$2$3"),debug("comparator trim",range,re[t.COMPARATORTRIM]),range=(range=(range=range.replace(re[t.TILDETRIM],"$1~")).replace(re[t.CARETTRIM],"$1^")).split(/\s+/).join(" ");var compRe=loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR],set=range.split(" ").map((function(comp){return function(comp,options){return debug("comp",comp,options),comp=function(comp,options){return comp.trim().split(/\s+/).map((function(comp){return function(comp,options){debug("caret",comp,options);var r=options.loose?re[t.CARETLOOSE]:re[t.CARET];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug("caret",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret="0"===M?">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":">="+M+"."+m+".0 <"+(+M+1)+".0.0":pr?(debug("replaceCaret pr",pr),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+"-"+pr+" <"+(+M+1)+".0.0"):(debug("no pr"),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+" <"+(+M+1)+".0.0"),debug("caret return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("caret",comp),comp=function(comp,options){return comp.trim().split(/\s+/).map((function(comp){return function(comp,options){var r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug("tilde",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":pr?(debug("replaceTilde pr",pr),ret=">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0"):ret=">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0",debug("tilde return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("tildes",comp),comp=function(comp,options){return debug("replaceXRanges",comp,options),comp.split(/\s+/).map((function(comp){return function(comp,options){comp=comp.trim();var r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(function(ret,gtlt,M,m,p,pr){debug("xRange",comp,ret,gtlt,M,m,p,pr);var xM=isX(M),xm=xM||isX(m),xp=xm||isX(p),anyX=xp;return"="===gtlt&&anyX&&(gtlt=""),pr=options.includePrerelease?"-0":"",xM?ret=">"===gtlt||"<"===gtlt?"<0.0.0-0":"*":gtlt&&anyX?(xm&&(m=0),p=0,">"===gtlt?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):"<="===gtlt&&(gtlt="<",xm?M=+M+1:m=+m+1),ret=gtlt+M+"."+m+"."+p+pr):xm?ret=">="+M+".0.0"+pr+" <"+(+M+1)+".0.0"+pr:xp&&(ret=">="+M+"."+m+".0"+pr+" <"+M+"."+(+m+1)+".0"+pr),debug("xRange return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("xrange",comp),comp=function(comp,options){return debug("replaceStars",comp,options),comp.trim().replace(re[t.STAR],"")}(comp,options),debug("stars",comp),comp}(comp,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(set=set.filter((function(comp){return!!comp.match(compRe)}))),set=set.map((function(comp){return new Comparator(comp,this.options)}),this)},Range.prototype.intersects=function(range,options){if(!(range instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(thisComparators){return isSatisfiable(thisComparators,options)&&range.set.some((function(rangeComparators){return isSatisfiable(rangeComparators,options)&&thisComparators.every((function(thisComparator){return rangeComparators.every((function(rangeComparator){return thisComparator.intersects(rangeComparator,options)}))}))}))}))},exports.toComparators=function(range,options){return new Range(range,options).set.map((function(comp){return comp.map((function(c){return c.value})).join(" ").trim().split(" ")}))},Range.prototype.test=function(version){if(!version)return!1;if("string"==typeof version)try{version=new SemVer(version,this.options)}catch(er){return!1}for(var i=0;i<this.set.length;i++)if(testSet(this.set[i],version,this.options))return!0;return!1},exports.satisfies=satisfies,exports.maxSatisfying=function(versions,range,options){var max=null,maxSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(max&&-1!==maxSV.compare(v)||(maxSV=new SemVer(max=v,options)))})),max},exports.minSatisfying=function(versions,range,options){var min=null,minSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(min&&1!==minSV.compare(v)||(minSV=new SemVer(min=v,options)))})),min},exports.minVersion=function(range,loose){range=new Range(range,loose);var minver=new SemVer("0.0.0");if(range.test(minver))return minver;if(minver=new SemVer("0.0.0-0"),range.test(minver))return minver;minver=null;for(var i=0;i<range.set.length;++i){range.set[i].forEach((function(comparator){var compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":0===compver.prerelease.length?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":minver&&!gt(minver,compver)||(minver=compver);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+comparator.operator)}}))}if(minver&&range.test(minver))return minver;return null},exports.validRange=function(range,options){try{return new Range(range,options).range||"*"}catch(er){return null}},exports.ltr=function(version,range,options){return outside(version,range,"<",options)},exports.gtr=function(version,range,options){return outside(version,range,">",options)},exports.outside=outside,exports.prerelease=function(version,options){var parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null},exports.intersects=function(r1,r2,options){return r1=new Range(r1,options),r2=new Range(r2,options),r1.intersects(r2)},exports.coerce=function(version,options){if(version instanceof SemVer)return version;"number"==typeof version&&(version=String(version));if("string"!=typeof version)return null;var match=null;if((options=options||{}).rtl){for(var next;(next=re[t.COERCERTL].exec(version))&&(!match||match.index+match[0].length!==version.length);)match&&next.index+next[0].length===match.index+match[0].length||(match=next),re[t.COERCERTL].lastIndex=next.index+next[1].length+next[2].length;re[t.COERCERTL].lastIndex=-1}else match=version.match(re[t.COERCE]);if(null===match)return null;return parse(match[2]+"."+(match[3]||"0")+"."+(match[4]||"0"),options)}},function(module,exports,__webpack_require__){var castSlice=__webpack_require__(352),hasUnicode=__webpack_require__(161),stringToArray=__webpack_require__(353),toString=__webpack_require__(68);module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(139);module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},function(module,exports,__webpack_require__){var asciiToArray=__webpack_require__(354),hasUnicode=__webpack_require__(161),unicodeToArray=__webpack_require__(355);module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},function(module,exports){module.exports=function(string){return string.split("")}},function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){return string.match(reUnicode)||[]}},function(module,exports,__webpack_require__){var capitalize=__webpack_require__(357),camelCase=__webpack_require__(358)((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));module.exports=camelCase},function(module,exports,__webpack_require__){var toString=__webpack_require__(68),upperFirst=__webpack_require__(160);module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__(359),deburr=__webpack_require__(360),words=__webpack_require__(363),reApos=RegExp("[']","g");module.exports=function(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},function(module,exports){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(361),toString=__webpack_require__(68),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},function(module,exports,__webpack_require__){var deburrLetter=__webpack_require__(362)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});module.exports=deburrLetter},function(module,exports){module.exports=function(object){return function(key){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var asciiWords=__webpack_require__(364),hasUnicodeWord=__webpack_require__(365),toString=__webpack_require__(68),unicodeWords=__webpack_require__(366);module.exports=function(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},function(module,exports){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function(string){return string.match(reAsciiWord)||[]}},function(module,exports){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function(string){return reHasUnicodeWord.test(string)}},function(module,exports){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function(string){return string.match(reUnicodeWord)||[]}},function(module,exports,__webpack_require__){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(debugWarn.enabled)console.warn("Recoverable error occurred:"),debugWarn(e);else{const errorSnippet=e&&"function"==typeof e.toString?String(e).replace(/\n.*/g,"").substr(0,320).trim():null;errorSnippet?console.warn(`Recoverable error occurred; use envvar 'DEBUG="graphile-build:warn"' for full error (see: https://graphile.org/postgraphile/debugging )\n> ${errorSnippet}`):console.warn("Recoverable error occurred; use envvar 'DEBUG=\"graphile-build:warn\"' for error (see: https://graphile.org/postgraphile/debugging )"),debugWarn(e)}};const debugWarn=(0,((obj=__webpack_require__(19))&&obj.__esModule?obj:{default:obj}).default)("graphile-build:warn")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(listener,options={}){const{onError:onError=defaultOnError,buffering:buffering=!0,onClose:onClose}=options;let listenerReturnValue,pullQueue=[],pushQueue=[],listening=!0;function emptyQueue(){listening&&(listening=!1,pullQueue.forEach(resolve=>resolve({value:void 0,done:!0})),pullQueue=[],pushQueue=[],onClose&&onClose(listenerReturnValue))}try{return Promise.resolve(listener(value=>function(value){0!==pullQueue.length?pullQueue.shift()({value:value,done:!1}):!0===buffering&&pushQueue.push(value)}(value))).then(a=>{listenerReturnValue=a}).catch(err=>{onError(err)}),{next(){return listening?new Promise(resolve=>{0!==pushQueue.length?resolve({value:pushQueue.shift(),done:!1}):pullQueue.push(resolve)}):this.return()},return:()=>(emptyQueue(),Promise.resolve({value:void 0,done:!0})),throw:error=>(emptyQueue(),onError(error),Promise.reject(error)),[_iterall.$$asyncIterator](){return this}}}catch(err){return onError(err),{next:()=>Promise.reject(err),return:()=>Promise.reject(err),throw:error=>Promise.reject(error),[_iterall.$$asyncIterator](){return this}}}};var _iterall=__webpack_require__(13);const defaultOnError=err=>{throw err}},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsAstral="[\\ud800-\\udfff]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp("[']","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,(function(value,key,collection){if(predicate(value,key,collection))return result=key,!1})),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function(array,value,fromIndex){var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NaN}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)})),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}var deburrLetter=basePropertyOf({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=[value,value]})),result}function stringSize(string){return hasUnicode(string)?function(string){var result=reUnicode.lastIndex=0;for(;reUnicode.test(string);)++result;return result}(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?function(string){return string.match(reUnicode)||[]}(string):function(string){return string.split("")}(string)}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _=function runInContext(context){var uid,Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:void 0,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,symIterator=Symbol?Symbol.iterator:void 0,symToStringTag=Symbol?Symbol.toStringTag:void 0,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=void 0}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:void 0}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(void 0!==value&&!eq(object[key],value)||void 0===value&&!(key in object))&&baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?void 0:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=new array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case"[object Uint8ClampedArray]":case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return symbol=object,symbolValueOf?Object(symbolValueOf.call(symbol)):{}}var symbol}(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var props=isArr?void 0:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(void 0===value&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout((function(){func.apply(void 0,args)}),wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(value){return this.__data__.has(value)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,(function(key){return isFunction(object[key])}))}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function(value){return nativeObjectToString.call(value)}(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):void 0}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){var func=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==func?void 0:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length,othLength=getAllKeys(other).length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||(func=value,maskSrcKey&&maskSrcKey in func))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value));var func}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))!function(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue));assignMergeValue(object,key,newValue)}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:void 0}function baseOrderBy(collection,iteratees,orders){var index=-1;return iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee())),function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}(baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}})),(function(object,other){return function(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;for(;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}(object,other,orders)}))}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||n>9007199254740991)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,(function(value,index,collection){return!(result=predicate(value,index,collection))})),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=2147483647){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=null==array?0:array.length,valIsNaN=value!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=void 0===value;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=void 0!==computed,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,4294967294)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NaN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,(function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))}),result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:void 0;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}function createFlow(fromRight){return flatRest((function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):void 0;wrapper=data&&isLaziable(data[0])&&424==data[1]&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}))}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=128&bitmask,isBind=1&bitmask,isBindKey=2&bitmask,isCurried=24&bitmask,isFlip=512&bitmask,Ctor=isBindKey?void 0:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function(object,setter,iteratee,accumulator){return baseForOwn(object,(function(value,key,object){setter(accumulator,iteratee(value),key,object)})),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(void 0===value&&void 0===other)return defaultValue;if(void 0!==value&&(result=value),void 0!==other){if(void 0===result)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest((function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest((function(args){var thisArg=this;return arrayFunc(iteratees,(function(iteratee){return apply(iteratee,thisArg,args)}))}))}))}function createPadding(length,chars){var charsLength=(chars=void 0===chars?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=void 0===step?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=8&bitmask;bitmask|=isCurry?32:64,4&(bitmask&=~(isCurry?64:32))||(bitmask&=-4);var newData=[func,bitmask,thisArg,isCurry?partials:void 0,isCurry?holders:void 0,isCurry?void 0:partials,isCurry?void 0:holders,argPos,ary,arity],result=wrapFunc.apply(void 0,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e");return+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function(object,props){return arrayMap(props,(function(key){return[key,object[key]]}))}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=2&bitmask;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=-97,partials=holders=void 0),ary=void 0===ary?ary:nativeMax(toInteger(ary),0),arity=void 0===arity?arity:toInteger(arity),length-=holders?holders.length:0,64&bitmask){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<131,isCombo=128==srcBitmask&&8==bitmask||128==srcBitmask&&256==bitmask&&data[7].length<=source[8]||384==srcBitmask&&source[7].length<=source[8]&&8==bitmask;if(!isCommon&&!isCombo)return data;1&srcBitmask&&(data[2]=source[2],newBitmask|=1&bitmask?0:4);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]);(value=source[7])&&(data[7]=value);128&srcBitmask&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8]));null==data[9]&&(data[9]=source[9]);data[0]=source[0],data[1]=newBitmask}(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=void 0===newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&24&bitmask&&(bitmask&=-25),bitmask&&1!=bitmask)result=8==bitmask||16==bitmask?function(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if((length-=holders.length)<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}}(func,bitmask,arity):32!=bitmask&&33!=bitmask||holders.length?createHybrid.apply(void 0,newData):function(func,bitmask,thisArg,partials){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}(func,bitmask,thisArg,partials);else var result=function(func,bitmask,thisArg){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return void 0===objValue||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,void 0,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?void 0:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,void 0,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var value,type,data=map.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=function(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(source,function(details,bitmask){return arrayEach(wrapFlags,(function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)})),details.sort()}(function(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=void 0===size?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var stringToPath=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}var difference=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]})),differenceBy=baseRest((function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]})),differenceWith=baseRest((function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),void 0,comparator):[]}));function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return void 0!==fromIndex&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:void 0}var intersection=baseRest((function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]})),intersectionBy=baseRest((function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=void 0:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]})),intersectionWith=baseRest((function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:void 0)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,void 0,comparator):[]}));function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest((function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,(function(index){return isIndex(index,length)?+index:index})).sort(compareAscending)),result}));function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))})),unionBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))})),unionWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:void 0,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),void 0,comparator)}));function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,(function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0})),baseTimes(length,(function(index){return arrayMap(array,baseProperty(index))}))}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,(function(group){return apply(iteratee,void 0,group)}))}var without=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]})),xor=baseRest((function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))})),xorBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))})),xorWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:void 0,baseXor(arrayFilter(arrays,isArrayLikeObject),void 0,comparator)})),zip=baseRest(unzip);var zipWith=baseRest((function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:void 0;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):void 0,unzipWith(arrays,iteratee)}));function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest((function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:void 0}),new LodashWrapper(value,this.__chain__).thru((function(array){return length&&!array.length&&array.push(void 0),array}))):this.thru(interceptor)}));var countBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)}));var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])}));var invokeMap=baseRest((function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)})),result})),keyBy=createAggregator((function(result,value,key){baseAssignValue(result,key,value)}));function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator((function(result,value,key){result[key?0:1].push(value)}),(function(){return[[],[]]}));var sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])})),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?void 0:n,createWrap(func,128,void 0,void 0,void 0,void 0,n=func&&null==n?func.length:n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=void 0),result}}var bind=baseRest((function(func,thisArg,partials){var bitmask=1;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=32}return createWrap(func,bitmask,thisArg,partials,holders)})),bindKey=baseRest((function(object,key,partials){var bitmask=3;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=32}return createWrap(key,bitmask,object,partials,holders)}));function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}var defer=baseRest((function(func,args){return baseDelay(func,1,args)})),delay=baseRest((function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)}));function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var overArgs=castRest((function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest((function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)}))})),partial=baseRest((function(func,partials){return createWrap(func,32,void 0,partials,replaceHolders(partials,getHolder(partial)))})),partialRight=baseRest((function(func,partials){return createWrap(func,64,void 0,partials,replaceHolders(partials,getHolder(partialRight)))})),rearg=flatRest((function(func,indexes){return createWrap(func,256,void 0,void 0,void 0,indexes)}));function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation((function(value,other){return value>=other})),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||"[object DOMException]"==tag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation((function(value,other){return value<=other}));function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return function(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,4294967295):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner((function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])})),assignIn=createAssigner((function(object,source){copyObject(source,keysIn(source),object)})),assignInWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)})),assignWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)})),at=flatRest(baseAt);var defaults=baseRest((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object})),defaultsDeep=baseRest((function(args){return args.push(void 0,customDefaultsMerge),apply(mergeWith,void 0,args)}));function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key}),constant(identity)),invertBy=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]}),getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner((function(object,source,srcIndex){baseMerge(object,source,srcIndex)})),mergeWith=createAssigner((function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)})),omit=flatRest((function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,(function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path})),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result}));var pick=flatRest((function(object,paths){return null==object?{}:function(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}(object,paths)}));function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=getIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder((function(result,word,index){return result+(index?"-":"")+word.toLowerCase()})),lowerCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toLowerCase()})),lowerFirst=createCaseFirst("toLowerCase");var snakeCase=createCompounder((function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}));var startCase=createCompounder((function(result,word,index){return result+(index?" ":"")+upperFirst(word)}));var upperCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toUpperCase()})),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?function(string){return reHasUnicodeWord.test(string)}(string)?function(string){return string.match(reUnicodeWord)||[]}(string):function(string){return string.match(reAsciiWord)||[]}(string):string.match(pattern)||[]}var attempt=baseRest((function(func,args){try{return apply(func,void 0,args)}catch(e){return isError(e)?e:new Error(e)}})),bindAll=flatRest((function(object,methodNames){return arrayEach(methodNames,(function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))})),object}));function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,1))}var method=baseRest((function(path,args){return function(object){return baseInvoke(object,path,args)}})),methodOf=baseRest((function(object,args){return function(path){return baseInvoke(object,path,args)}}));function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,(function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})})),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation((function(augend,addend){return augend+addend}),0),ceil=createRound("ceil"),divide=createMathOperation((function(dividend,divisor){return dividend/divisor}),1),floor=createRound("floor");var source,multiply=createMathOperation((function(multiplier,multiplicand){return multiplier*multiplicand}),1),round=createRound("round"),subtract=createMathOperation((function(minuend,subtrahend){return minuend-subtrahend}),0);return lodash.after=function(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):void 0===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,(function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]})):[],baseRest((function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}}))},lodash.conforms=function(source){return function(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,1))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)},lodash.curry=function curry(func,arity,guard){var result=createWrap(func,8,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curry.placeholder,result},lodash.curryRight=function curryRight(func,arity,guard){var result=createWrap(func,16,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curryRight.placeholder,result},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||void 0===n?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||void 0===n?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=-start>length?0:length+start),(end=void 0===end||end>length?length:toInteger(end))<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1/0)},lodash.flatMapDepth=function(collection,iteratee,depth){return depth=void 0===depth?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function(array){return(null==array?0:array.length)?baseFlatten(array,1/0):[]},lodash.flattenDepth=function(array,depth){return(null==array?0:array.length)?baseFlatten(array,depth=void 0===depth?1:toInteger(depth)):[]},lodash.flip=function(func){return createWrap(func,512)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]},lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)})),result},lodash.mapValues=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result},lodash.matches=function(source){return baseMatches(baseClone(source,1))},lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,1))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function(n){return n=toInteger(n),baseRest((function(args){return baseNth(args,n)}))},lodash.omit=omit,lodash.omitBy=function(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function(func){return before(2,func)},lodash.orderBy=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))},lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function(object){return function(path){return null==object?void 0:baseGet(object,path)}},lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=function(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,void 0,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=void 0===start?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):void 0===n)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:void 0,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=void 0===end?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=void 0),(limit=void 0===limit?4294967295:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest((function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)}))},lodash.tail=function(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||void 0===n?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||void 0===n?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function(value,interceptor){return interceptor(value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)})),accumulator},lodash.unary=function(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function(array,comparator){return comparator="function"==typeof comparator?comparator:void 0,array&&array.length?baseUniq(array,void 0,comparator):[]},lodash.unset=function(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:void 0,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function(number,lower,upper){return void 0===upper&&(upper=lower,lower=void 0),void 0!==upper&&(upper=(upper=toNumber(upper))==upper?upper:0),void 0!==lower&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function(value){return baseClone(value,4)},lodash.cloneDeep=function(value){return baseClone(value,5)},lodash.cloneDeepWith=function(value,customizer){return baseClone(value,5,customizer="function"==typeof customizer?customizer:void 0)},lodash.cloneWith=function(value,customizer){return baseClone(value,4,customizer="function"==typeof customizer?customizer:void 0)},lodash.conformsTo=function(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,end=position=void 0===position?length:baseClamp(toInteger(position),0,length);return(position-=target.length)>=0&&string.slice(position,end)==target},lodash.eq=eq,lodash.escape=function(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,getIteratee(predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1},lodash.indexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)},lodash.inRange=function(number,start,end){return start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=function(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:void 0)?customizer(value,other):void 0;return void 0===result?baseIsEqual(value,other,void 0,customizer):!!result},lodash.isError=isError,lodash.isFinite=function(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function(object,source,customizer){return customizer="function"==typeof customizer?customizer:void 0,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=function(value){if(isMaskable(value))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(value)},lodash.isNil=function(value){return null==value},lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function(value){return isInteger(value)&&value>=-9007199254740991&&value<=9007199254740991},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return void 0===value},lodash.isWeakMap=function(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function(value){return isObjectLike(value)&&"[object WeakSet]"==baseGetTag(value)},lodash.join=function(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return void 0!==fromIndex&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function(array){return array&&array.length?baseExtremum(array,identity,baseGt):void 0},lodash.maxBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):void 0},lodash.mean=function(array){return baseMean(array,identity)},lodash.meanBy=function(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function(array){return array&&array.length?baseExtremum(array,identity,baseLt):void 0},lodash.minBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):void 0},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function(){return{}},lodash.stubString=function(){return""},lodash.stubTrue=function(){return!0},lodash.multiply=multiply,lodash.nth=function(array,n){return array&&array.length?baseNth(array,toInteger(n)):void 0},lodash.noConflict=function(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)},lodash.padEnd=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=void 0),void 0===floating&&("boolean"==typeof upper?(floating=upper,upper=void 0):"boolean"==typeof lower&&(floating=lower,lower=void 0)),void 0===lower&&void 0===upper?(lower=0,upper=1):(lower=toFinite(lower),void 0===upper?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)},lodash.reduce=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):void 0===n)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=void 0);++index<length;){var value=null==object?void 0:object[toKey(path[index])];void 0===value&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,getIteratee(predicate,3))},lodash.sortedIndex=function(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function(array,value){if(null==array?0:array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=void 0),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,(function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match})),source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt((function(){return Function(importsKeys,sourceURL+"return "+source).apply(void 0,importsValues)}));if(result.source=source,isError(result))throw result;return result},lodash.times=function(n,iteratee){if((n=toInteger(n))<1||n>9007199254740991)return[];var index=4294967295,length=nativeMin(n,4294967295);n-=4294967295;for(var result=baseTimes(length,iteratee=getIteratee(iteratee));++index<n;)iteratee(index);return result},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function(value){return value?baseClamp(toInteger(value),-9007199254740991,9007199254740991):0===value?value:0},lodash.toString=toString,lodash.toUpper=function(value){return toString(value).toUpperCase()},lodash.trim=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")},lodash.trimEnd=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")},lodash.trimStart=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")},lodash.truncate=function(string,options){var length=30,omission="...";if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}var strLength=(string=toString(string)).length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(void 0===separator)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,void 0===newEnd?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,(function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)})),source),{chain:!1}),lodash.VERSION="4.17.15",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(methodName){lodash[methodName].placeholder=lodash})),arrayEach(["drop","take"],(function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=void 0===n?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,4294967295),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(methodName,index){var type=index+1,isFilter=1==type||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}})),arrayEach(["head","last"],(function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}})),arrayEach(["initial","tail"],(function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest((function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map((function(value){return baseInvoke(value,path,args)}))})),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),void 0!==end&&(result=(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(4294967295)},baseForOwn(LazyWrapper.prototype,(function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:void 0}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName]((function(value){return func.apply(isArray(value)?value:[],args)}))}})),baseForOwn(LazyWrapper.prototype,(function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc})}})),realNames[createHybrid(void 0,2).name]=[{name:"wrapper",func:void 0}],LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function(start,end,transforms){var index=-1,length=transforms.length;for(;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(2==type)value=computed;else if(!computed){if(1==type)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function(){void 0===this.__values__&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?void 0:this.__values__[this.__index__++]}},lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=void 0,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:void 0}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function(){return this}),lodash}();root._=_,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)}).call(this,__webpack_require__(80)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indent=indent,exports.default=function(base,extra,hint){const hints=base[$$hints]||{},keysB=Object.keys(extra),extraHints=extra[$$hints]||{};for(const key of keysB){const newValue=extra[key],hintB=extraHints[key]||hint;if(key in base&&base[key]!==newValue){const hintA=hints[key],firstEntityDetails=hintA?"The first entity was:\n\n"+indent(_chalk.default.magenta(hintA)):"We don't have any information about the first entity.",secondEntityDetails=hintB?"The second entity was:\n\n"+indent(_chalk.default.yellow(hintB)):"We don't have any information about the second entity.";throw new Error(`A naming conflict has occurred - two entities have tried to define the same key '${_chalk.default.bold(key)}'.\n\n${indent(firstEntityDetails)}\n\n${indent(secondEntityDetails)}`)}hintB&&(hints[key]=hintB)}return Object.assign(base,extra,{[$$hints]:hints})};var obj,_chalk=(obj=__webpack_require__(39))&&obj.__esModule?obj:{default:obj};const $$hints=Symbol("hints");function indent(text){return"  "+text.replace(/\n/g,"\n  ").replace(/\n +(?=\n|$)/g,"\n")}},function(module){module.exports=JSON.parse('{"name":"graphile-build","version":"4.7.0","description":"Build a GraphQL schema from plugins","main":"node8plus/index.js","types":"node8plus/index.d.ts","scripts":{"test":"jest","prepack":"mkdir -p node8plus && babel --root-mode upward --copy-files -s true --out-dir node8plus src && flow-copy-source src node8plus","watch":"mkdir -p node8plus && babel --root-mode upward --copy-files -s true --watch --out-dir node8plus src"},"repository":{"type":"git","url":"git+https://github.com/graphile/graphile-build.git"},"keywords":["graphile","graphql","engine","apollo","graphqljs","plugin","build","extension"],"author":"Benjie Gillam <code@benjiegillam.com>","license":"MIT","bugs":{"url":"https://github.com/graphile/graphile-build/issues"},"homepage":"https://graphile.org/graphile-build/","dependencies":{"@graphile/lru":"4.5.0","chalk":"^2.4.2","debug":"^4.1.1","graphql-parse-resolve-info":"4.7.0","iterall":"^1.2.2","lodash":">=4 <5","lru-cache":"^5.0.0","pluralize":"^7.0.0","semver":"^6.0.0"},"engines":{"node":">=8.6"},"devDependencies":{"@babel/cli":"^7.0.0","eslint_d":"^8.0.0","flow-copy-source":"^1.2.0","jest":"^24.8.0","jest-serializer-graphql-schema":"4.6.0"},"peerDependencies":{"graphql":">=0.9 <0.14 || ^14.0.2"},"files":["node8plus","index.js"],"gitHead":"b3d7a1ea967f970936a2dcdd61f94a02dea3b7fe"}')},function(module){module.exports=JSON.parse('{"name":"graphql","version":"14.6.0","description":"A Query Language and Runtime which can target any service.","license":"MIT","main":"index","module":"index.mjs","types":"index.d.ts","sideEffects":false,"homepage":"https://github.com/graphql/graphql-js","bugs":{"url":"https://github.com/graphql/graphql-js/issues"},"repository":{"type":"git","url":"https://github.com/graphql/graphql-js.git"},"keywords":["graphql","graphql-js"],"engines":{"node":">= 6.x"},"dependencies":{"iterall":"^1.2.2"}}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ClientMutationIdDescriptionPlugin",{enumerable:!0,get:function(){return _ClientMutationIdDescriptionPlugin.default}}),Object.defineProperty(exports,"MutationPayloadQueryPlugin",{enumerable:!0,get:function(){return _MutationPayloadQueryPlugin.default}}),Object.defineProperty(exports,"MutationPlugin",{enumerable:!0,get:function(){return _MutationPlugin.default}}),Object.defineProperty(exports,"SubscriptionPlugin",{enumerable:!0,get:function(){return _SubscriptionPlugin.default}}),Object.defineProperty(exports,"NodePlugin",{enumerable:!0,get:function(){return _NodePlugin.default}}),Object.defineProperty(exports,"QueryPlugin",{enumerable:!0,get:function(){return _QueryPlugin.default}}),Object.defineProperty(exports,"StandardTypesPlugin",{enumerable:!0,get:function(){return _StandardTypesPlugin.default}}),Object.defineProperty(exports,"SwallowErrorsPlugin",{enumerable:!0,get:function(){return _SwallowErrorsPlugin.default}}),Object.defineProperty(exports,"AddQueriesToSubscriptionsPlugin",{enumerable:!0,get:function(){return _AddQueriesToSubscriptionsPlugin.default}});var _ClientMutationIdDescriptionPlugin=_interopRequireDefault(__webpack_require__(374)),_MutationPayloadQueryPlugin=_interopRequireDefault(__webpack_require__(375)),_MutationPlugin=_interopRequireDefault(__webpack_require__(376)),_SubscriptionPlugin=_interopRequireDefault(__webpack_require__(377)),_NodePlugin=_interopRequireDefault(__webpack_require__(378)),_QueryPlugin=_interopRequireDefault(__webpack_require__(379)),_StandardTypesPlugin=_interopRequireDefault(__webpack_require__(380)),_SwallowErrorsPlugin=_interopRequireDefault(__webpack_require__(381)),_AddQueriesToSubscriptionsPlugin=_interopRequireDefault(__webpack_require__(382));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLInputObjectType:fields:field",(field,build,context)=>{const{extend:extend}=build,{scope:{isMutationInput:isMutationInput,fieldName:fieldName},Self:Self}=context;return!isMutationInput||"clientMutationId"!==fieldName||field.description?field:extend(field,{description:"An arbitrary string value with no semantic meaning. Will be included in the payload verbatim. May be used to track mutations by the client."},`Tweaking '${fieldName}' field in '${Self.name}'`)},["ClientMutationIdDescription"]),builder.hook("GraphQLObjectType:fields:field",(field,build,context)=>{const{extend:extend}=build,{scope:{isMutationPayload:isMutationPayload,fieldName:fieldName},Self:Self}=context;return!isMutationPayload||"clientMutationId"!==fieldName||field.description?field:extend(field,{description:"The exact same `clientMutationId` that was provided in the mutation input, unchanged and unused. May be used by a client to track mutations."},`Tweaking '${fieldName}' field in '${Self.name}'`)},["ClientMutationIdDescription"]),builder.hook("GraphQLObjectType:fields:field:args",(args,build,context)=>{const{extend:extend}=build,{scope:{isRootMutation:isRootMutation,fieldName:fieldName},Self:Self}=context;return isRootMutation&&args.input&&!args.input.description?{...args,input:extend(args.input,{description:"The exclusive input argument for this mutation. An object type, make sure to see documentation for this objects fields."},`Adding a description to input arg for field '${fieldName}' field in '${Self.name}'`)}:args},["ClientMutationIdDescription"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{$$isQuery:$$isQuery,extend:extend,getTypeByName:getTypeByName,inflection:inflection}=build,{scope:{isMutationPayload:isMutationPayload},Self:Self}=context;if(!isMutationPayload)return fields;return extend(fields,{query:{description:"Our root query field type. Allows us to run any query from our mutation payload.",type:getTypeByName(inflection.builtin("Query")),resolve:()=>$$isQuery}},"Adding 'query' field to mutation payload "+Self.name)},["MutationPayloadQuery"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=async function(builder){builder.hook("GraphQLSchema",(schema,build)=>{const{newWithHooks:newWithHooks,extend:extend,graphql:{GraphQLObjectType:GraphQLObjectType},inflection:inflection}=build,Mutation=newWithHooks(GraphQLObjectType,{name:inflection.builtin("Mutation"),description:"The root mutation type which contains root level fields which mutate data."},{__origin:"graphile-build built-in (root mutation type)",isRootMutation:!0},!0);return function(Mutation){try{if(!Mutation)return!1;if(0===Object.keys(Mutation.getFields()).length)return!1}catch(e){return!1}return!0}(Mutation)?extend(schema,{mutation:Mutation},"Adding mutation type to schema"):schema},["Mutation"],[],["Query"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=async function(builder,{live:live}){builder.hook("GraphQLSchema",(schema,build)=>{const{newWithHooks:newWithHooks,extend:extend,graphql:{GraphQLObjectType:GraphQLObjectType},inflection:inflection}=build,Subscription=newWithHooks(GraphQLObjectType,{name:inflection.builtin("Subscription"),description:live?"The root subscription type: contains events and live queries you can subscribe to with the `subscription` operation.\n\n#### Live Queries\n\nLive query fields are differentiated by containing `(live)` at the end of their description, they are added for each field in the `Query` type. When you subscribe to a live query field, the selection set will be evaluated and sent to the client, and then most things\\* that would cause the output of the selection set to change will trigger the selection set to be re-evaluated and the results to be re-sent to the client.\n\n_(\\* Not everything: typically only changes to persisted data referenced by the query are detected, not computed fields.)_\n\nLive queries can be very expensive, so try and keep them small and focussed.\n\n#### Events\n\nEvent fields will run their selection set when, and only when, the specified server-side event occurs. This makes them a lot more efficient than Live Queries, but it is still recommended that you keep payloads fairly small.":"The root subscription type: contains realtime events you can subscribe to with the `subscription` operation."},{__origin:"graphile-build built-in (root subscription type)",isRootSubscription:!0},!0);return function(Subscription){try{if(!Subscription)return!1;if(0===Object.keys(Subscription.getFields()).length)return!1}catch(e){return!1}return!0}(Subscription)?extend(schema,{subscription:Subscription},"Adding subscription type to schema"):schema},["Subscription"],[],["Query"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder,{nodeIdFieldName:inNodeIdFieldName}){const nodeIdFieldName=inNodeIdFieldName?String(inNodeIdFieldName):"id";builder.hook("build",build=>{const nodeFetcherByTypeName={},nodeAliasByTypeName={},nodeTypeNameByAlias={};return build.extend(build,{nodeIdFieldName:nodeIdFieldName,$$nodeType:Symbol("nodeType"),nodeFetcherByTypeName:nodeFetcherByTypeName,getNodeIdForTypeAndIdentifiers(Type,...identifiers){return str=JSON.stringify([this.getNodeAlias(Type),...identifiers]),Buffer.from(String(str)).toString("base64");var str},getTypeAndIdentifiersFromNodeId(nodeId){const[alias,...identifiers]=JSON.parse((str=nodeId,Buffer.from(String(str),"base64").toString("utf8")));var str;return{Type:this.getNodeType(alias),identifiers:identifiers}},addNodeFetcherForTypeName(typeName,fetcher){if(nodeFetcherByTypeName[typeName])throw new Error("There's already a fetcher for this type");if(!fetcher)throw new Error("No fetcher specified");nodeFetcherByTypeName[typeName]=fetcher},getNodeAlias:typeName=>nodeAliasByTypeName[typeName]||typeName,getNodeType(alias){return this.getTypeByName(nodeTypeNameByAlias[alias]||alias)},setNodeAlias(typeName,alias){nodeTypeNameByAlias[alias]&&nodeTypeNameByAlias[alias]!==typeName&&console.warn(`SERIOUS WARNING: two GraphQL types (${typeName} and ${nodeTypeNameByAlias[alias]}) are trying to use the same node alias '${alias}' which may mean that the Relay Global Object Identification identifiers in your schema may not be unique. To solve this, you should skip the PgNodeAliasPostGraphile plugin, but note this will change all your existing Node IDs. For alternative solutions, get in touch via GitHub or Discord`),nodeAliasByTypeName[typeName]=alias,nodeTypeNameByAlias[alias]=typeName}},"Adding 'Node' interface support to the Build")},["Node"]),builder.hook("init",(function(_,build){const{$$isQuery:$$isQuery,$$nodeType:$$nodeType,getTypeByName:getTypeByName,newWithHooks:newWithHooks,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLID:GraphQLID,GraphQLInterfaceType:GraphQLInterfaceType,getNullableType:getNullableType},inflection:inflection}=build;let Query;return newWithHooks(GraphQLInterfaceType,{name:inflection.builtin("Node"),description:"An object with a globally unique `ID`.",resolveType:value=>value===$$isQuery?(Query||(Query=getTypeByName(inflection.builtin("Query"))),Query):value[$$nodeType]?getNullableType(value[$$nodeType]):void 0,fields:{[nodeIdFieldName]:{description:"A globally unique identifier. Can be used in various places throughout the system to identify this single value.",type:new GraphQLNonNull(GraphQLID)}}},{__origin:"graphile-build built-in (NodePlugin); you can omit this plugin if you like, but you'll lose compatibility with Relay"}),_}),["Node"]),builder.hook("GraphQLObjectType:interfaces",(function(interfaces,build,context){const{getTypeByName:getTypeByName,inflection:inflection}=build,{scope:{isRootQuery:isRootQuery}}=context;if(!isRootQuery)return interfaces;const Type=getTypeByName(inflection.builtin("Node"));return Type?[...interfaces,Type]:interfaces}),["Node"]),builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{scope:{isRootQuery:isRootQuery},fieldWithHooks:fieldWithHooks}=context;if(!isRootQuery)return fields;const{getTypeByName:getTypeByName,extend:extend,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLID:GraphQLID},inflection:inflection,resolveNode:resolveNode}=build;return extend(fields,{[nodeIdFieldName]:{description:"The root query type must be a `Node` to work well with Relay 1 mutations. This just resolves to `query`.",type:new GraphQLNonNull(GraphQLID),resolve:()=>"query"},node:fieldWithHooks("node",({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment})=>({description:"Fetches an object given its globally unique `ID`.",type:getTypeByName(inflection.builtin("Node")),args:{[nodeIdFieldName]:{description:"The globally unique `ID`.",type:new GraphQLNonNull(GraphQLID)}},resolve(data,args,context,resolveInfo){const nodeId=args[nodeIdFieldName];return resolveNode(nodeId,build,{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment},data,context,resolveInfo)}}),{isRootNodeField:!0})},`Adding Relay Global Object Identification support to the root Query via 'node' and '${nodeIdFieldName}' fields`)},["Node"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=async function(builder){builder.hook("build",build=>build.extend(build,{$$isQuery:Symbol("isQuery")},"Extending Build"),["Query"]),builder.hook("GraphQLSchema",(schema,build)=>{const{$$isQuery:$$isQuery,newWithHooks:newWithHooks,extend:extend,graphql:{GraphQLObjectType:GraphQLObjectType,GraphQLNonNull:GraphQLNonNull},inflection:inflection}=build,queryType=newWithHooks(GraphQLObjectType,{description:"The root query type which gives access points into the data universe.",name:inflection.builtin("Query"),isTypeOf:(value,_context,info)=>null==info.parentType||value===$$isQuery,fields:({Self:Self})=>({query:{description:"Exposes the root query type nested one level down. This is helpful for Relay 1 which can only query top level fields if they are in a particular form.",type:new GraphQLNonNull(Self),resolve:()=>$$isQuery}})},{__origin:"graphile-build built-in (root query type)",isRootQuery:!0},!0);return queryType?extend(schema,{query:queryType},"Adding 'query' type to Schema"):schema},["Query"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _language=__webpack_require__(164);exports.default=function(builder){builder.hook("build",build=>{const Cursor=(name="Cursor",description="A location in a connection that can be used for resuming pagination.",new build.graphql.GraphQLScalarType({name:name,description:description,serialize:value=>String(value),parseValue:value=>String(value),parseLiteral:ast=>{if(ast.kind!==_language.Kind.STRING)throw new Error("Can only parse string values");return ast.value}}));var name,description;return build.addType(Cursor,"graphile-build built-in"),build},["StandardTypes"]),builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLObjectType:GraphQLObjectType,GraphQLBoolean:GraphQLBoolean},inflection:inflection}=build;return newWithHooks(GraphQLObjectType,{name:inflection.builtin("PageInfo"),description:"Information about pagination in a connection.",fields:({fieldWithHooks:fieldWithHooks})=>({hasNextPage:fieldWithHooks("hasNextPage",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({calculateHasNextPage:!0})),{description:"When paginating forwards, are there more items?",type:new GraphQLNonNull(GraphQLBoolean)}),{isPageInfoHasNextPageField:!0}),hasPreviousPage:fieldWithHooks("hasPreviousPage",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({calculateHasPreviousPage:!0})),{description:"When paginating backwards, are there more items?",type:new GraphQLNonNull(GraphQLBoolean)}),{isPageInfoHasPreviousPageField:!0})})},{__origin:"graphile-build built-in",isPageInfo:!0}),_},["StandardTypes","PageInfo"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder,{dontSwallowErrors:dontSwallowErrors=!1}){builder.hook("build",build=>dontSwallowErrors?Object.assign(build,{swallowError(e){throw e.recoverable=!0,e}}):build,["SwallowErrors"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(builder,{subscriptions:subscriptions,live:live}){subscriptions&&live&&builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,getTypeByName:getTypeByName,inflection:inflection}=build,{scope:{isRootSubscription:isRootSubscription},fieldWithHooks:fieldWithHooks}=context;if(!isRootSubscription)return fields;const queryFields=getTypeByName(inflection.builtin("Query")).getFields();return extend(fields,Object.keys(queryFields).reduce((memo,queryFieldName)=>{const queryField=queryFields[queryFieldName],oldResolve=queryField.resolve;return memo[queryFieldName]=fieldWithHooks(inflection.live(queryFieldName),{description:(queryField.description||"")+" (live)",type:queryField.type,args:(queryField.args||[]).reduce((newArgs,arg)=>{const{name:name,description:description,type:type,defaultValue:defaultValue}=arg;return newArgs[name]={description:description,type:type,defaultValue:defaultValue},newArgs},{}),...oldResolve?{resolve:async(...args)=>{try{return await oldResolve(...args)}catch(e){const info=args[3];throw info.rootValue&&"function"==typeof info.rootValue.liveAbort&&info.rootValue.liveAbort(e),e}}}:null,subscribe:build.liveCoordinator.subscribe,deprecationReason:queryField.isDeprecated?queryField.deprecationReason:void 0},{isLiveField:!0,originalField:queryField}),memo},{}))},["AddQueriesToSubscriptions"])};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(pgClient,text,values){const connection=pgClient.connection;if(!values||POSTGRAPHILE_PREPARED_STATEMENT_CACHE_SIZE<1||!connection||!connection.parsedStatements)return pgClient.query(text,values);{const name=(str=>{str!==lastString&&(lastString=str,lastHash=(0,_crypto.createHash)("sha1").update(str).digest("base64"));return lastHash})(text);return connection._graphilePreparedStatementCache||(connection._graphilePreparedStatementCache=new _lru.default({maxLength:POSTGRAPHILE_PREPARED_STATEMENT_CACHE_SIZE,dispose(key){connection.parsedStatements[key]&&pgClient.query("deallocate "+pgClient.escapeIdentifier(key)).then(()=>{delete connection.parsedStatements[key]}).catch(e=>{console.error("Error releasing prepared query",e)})}})),connection._graphilePreparedStatementCache.get(name)||connection._graphilePreparedStatementCache.set(name,!0),pgClient.query({name:name,text:text,values:values})}};var obj,_crypto=__webpack_require__(28),_lru=(obj=__webpack_require__(53))&&obj.__esModule?obj:{default:obj};const POSTGRAPHILE_PREPARED_STATEMENT_CACHE_SIZE=parseInt(process.env.POSTGRAPHILE_PREPARED_STATEMENT_CACHE_SIZE,10)||100;let lastString,lastHash},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PgEntityKind=exports.default=void 0;var _withPgClient=function(obj){if(obj&&obj.__esModule)return obj;var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={};if(null!=obj){var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(165)),_utils=__webpack_require__(175),_fs=__webpack_require__(43),_debug=_interopRequireDefault(__webpack_require__(19)),_chalk=_interopRequireDefault(__webpack_require__(39)),_throttle=_interopRequireDefault(__webpack_require__(407)),_flatMap=_interopRequireDefault(__webpack_require__(410)),_introspectionQuery=__webpack_require__(420),_package=__webpack_require__(133),_queryFromResolveDataFactory=_interopRequireDefault(__webpack_require__(134));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}const debug=(0,_debug.default)("graphile-build-pg"),WATCH_FIXTURES_PATH=__dirname+"/../../res/watch-fixtures.sql";const removeQuotes=str=>{const trimmed=str.trim();if('"'===trimmed[0]){if('"'!==trimmed[trimmed.length-1])throw new Error(`We failed to parse a quoted identifier '${str}'. Please avoid putting quotes or commas in smart comment identifiers (or file a PR to fix the parser).`);return trimmed.substr(1,trimmed.length-2)}return trimmed.toLowerCase()},parseSqlColumnArray=str=>{if(!str)throw new Error(`Cannot parse '${str}'`);return str.split(",").map(removeQuotes)},parseSqlColumnString=str=>{if(!str)throw new Error(`Cannot parse '${str}'`);return removeQuotes(str)};function parseConstraintSpec(rawSpec){const[spec,...tagComponents]=rawSpec.split(/\|/),parsed=(0,_utils.parseTags)(tagComponents.join("\n"));return{spec:spec,tags:parsed.tags,description:parsed.text}}function smartCommentConstraints(introspectionResults){const attributesByNames=(tbl,cols,debugStr)=>{const attributes=introspectionResults.attribute.filter(a=>a.classId===tbl.id).sort((a,b)=>a.num-b.num);if(!cols){const pk=introspectionResults.constraint.find(c=>c.classId==tbl.id&&"p"===c.type);if(pk)return pk.keyAttributeNums.map(n=>attributes.find(a=>a.num===n));throw new Error(`No columns specified for '${tbl.namespaceName}.${tbl.name}' (oid: ${tbl.id}) and no PK found (${debugStr}).`)}return cols.map(colName=>{const attr=attributes.find(a=>a.name===colName);if(!attr)throw new Error(`Could not find attribute '${colName}' in '${tbl.namespaceName}.${tbl.name}'`);return attr})};introspectionResults.class.forEach(klass=>{if(introspectionResults.namespace.find(n=>n.id===klass.namespaceId)&&klass.tags.primaryKey){if("string"!=typeof klass.tags.primaryKey)throw new Error(`@primaryKey configuration of '${klass.namespaceName}.${klass.name}' is invalid; please specify just once "@primaryKey col1,col2"`);const{spec:pkSpec,tags:tags,description:description}=parseConstraintSpec(klass.tags.primaryKey),columns=parseSqlColumnArray(pkSpec),attributes=attributesByNames(klass,columns,"@primaryKey "+klass.tags.primaryKey);attributes.forEach(attr=>{attr.tags.notNull=!0});const keyAttributeNums=attributes.map(a=>a.num),fakeConstraint={kind:"constraint",isFake:!0,isIndexed:!0,id:Math.random(),name:`FAKE_${klass.namespaceName}_${klass.name}_primaryKey`,type:"p",classId:klass.id,foreignClassId:null,comment:null,description:description,keyAttributeNums:keyAttributeNums,foreignKeyAttributeNums:null,tags:tags};introspectionResults.constraint.push(fakeConstraint)}}),introspectionResults.class.forEach(klass=>{if(!introspectionResults.namespace.find(n=>n.id===klass.namespaceId))return;const foreignKey=klass.tags.foreignKey||introspectionResults.type.find(t=>t.id===klass.typeId).tags.foreignKey;if(foreignKey){const foreignKeys="string"==typeof foreignKey?[foreignKey]:foreignKey;if(!Array.isArray(foreignKeys))throw new Error(`Invalid foreign key smart comment specified on '${klass.namespaceName}.${klass.name}'`);foreignKeys.forEach((fkSpecRaw,index)=>{if("string"!=typeof fkSpecRaw)throw new Error(`Invalid foreign key spec (${index}) on '${klass.namespaceName}.${klass.name}'`);const{spec:fkSpec,tags:tags,description:description}=parseConstraintSpec(fkSpecRaw),matches=fkSpec.match(/^\(([^()]+)\) references ([^().]+)(?:\.([^().]+))?(?:\s*\(([^()]+)\))?$/i);if(!matches)throw new Error(`Invalid foreignKey syntax for '${klass.namespaceName}.${klass.name}'; expected something like "(col1,col2) references schema.table (c1, c2)", you passed '${fkSpecRaw}'`);const[,rawColumns,rawSchemaOrTable,rawTableOnly,rawForeignColumns]=matches,rawSchema=rawTableOnly?rawSchemaOrTable:`"${klass.namespaceName}"`,rawTable=rawTableOnly||rawSchemaOrTable,columns=parseSqlColumnArray(rawColumns),foreignSchema=parseSqlColumnString(rawSchema),foreignTable=parseSqlColumnString(rawTable),foreignColumns=rawForeignColumns?parseSqlColumnArray(rawForeignColumns):null,foreignKlass=introspectionResults.class.find(k=>k.name===foreignTable&&k.namespaceName===foreignSchema);if(!foreignKlass)throw new Error(`@foreignKey smart comment referenced non-existant table/view '${foreignSchema}'.'${foreignTable}'. Note that this reference must use *database names* (i.e. it does not respect @name). (${fkSpecRaw})`);if(!introspectionResults.namespace.find(n=>n.id===foreignKlass.namespaceId))return;const keyAttributeNums=attributesByNames(klass,columns,"@foreignKey "+fkSpecRaw).map(a=>a.num),foreignKeyAttributeNums=attributesByNames(foreignKlass,foreignColumns,"@foreignKey "+fkSpecRaw).map(a=>a.num),fakeConstraint={kind:"constraint",isFake:!0,isIndexed:!0,id:Math.random(),name:`FAKE_${klass.namespaceName}_${klass.name}_foreignKey_${index}`,type:"f",classId:klass.id,foreignClassId:foreignKlass.id,comment:null,description:description,keyAttributeNums:keyAttributeNums,foreignKeyAttributeNums:foreignKeyAttributeNums,tags:tags};introspectionResults.constraint.push(fakeConstraint)})}})}const deepClone=value=>Array.isArray(value)?value.map(val=>deepClone(val)):"object"==typeof value&&value?Object.keys(value).reduce((memo,k)=>(memo[k]=deepClone(value[k]),memo),{}):value;exports.default=async function(builder,{pgConfig:pgConfig,pgSchemas:schemas,pgEnableTags:pgEnableTags,persistentMemoizeWithKey:persistentMemoizeWithKey=((key,fn)=>fn()),pgThrowOnMissingSchema:pgThrowOnMissingSchema=!1,pgIncludeExtensionResources:pgIncludeExtensionResources=!1,pgLegacyFunctionsOnly:pgLegacyFunctionsOnly=!1,pgIgnoreRBAC:pgIgnoreRBAC=!0,pgSkipInstallingWatchFixtures:pgSkipInstallingWatchFixtures=!1,pgOwnerConnectionString:pgOwnerConnectionString}){async function introspect(){if(!Array.isArray(schemas))throw new Error("Argument 'schemas' (array) is required");const cacheKey="PgIntrospectionPlugin-introspectionResultsByKind-v"+_package.version,introspectionResultsByKind=deepClone(await persistentMemoizeWithKey(cacheKey,()=>(0,_withPgClient.default)(pgConfig,async pgClient=>{const versionResult=await pgClient.query("show server_version_num;"),serverVersionNum=parseInt(versionResult.rows[0].server_version_num,10),introspectionQuery=(0,_introspectionQuery.makeIntrospectionQuery)(serverVersionNum,{pgLegacyFunctionsOnly:pgLegacyFunctionsOnly,pgIgnoreRBAC:pgIgnoreRBAC}),{rows:rows}=await pgClient.query(introspectionQuery,[schemas,pgIncludeExtensionResources]),result={__pgVersion:serverVersionNum,namespace:[],class:[],attribute:[],type:[],constraint:[],procedure:[],extension:[],index:[]};for(const{object:object}of rows)result[object.kind].push(object);["namespace","class","attribute","type","constraint","procedure","extension","index"].forEach(kind=>{result[kind].forEach(object=>{if(object.comment=object.description,pgEnableTags&&object.description){const parsed=(0,_utils.parseTags)(object.description);object.tags=parsed.tags,object.description=parsed.text}else object.tags={}})});const extensionConfigurationClassIds=(0,_flatMap.default)(result.extension,e=>e.configurationClassIds);return result.class.forEach(klass=>{klass.isExtensionConfigurationTable=extensionConfigurationClassIds.indexOf(klass.id)>=0}),["namespace","class","attribute","type","constraint","procedure","extension","index"].forEach(k=>{result[k].forEach(Object.freeze)}),Object.freeze(result)}))),knownSchemas=introspectionResultsByKind.namespace.map(n=>n.name),missingSchemas=schemas.filter(s=>knownSchemas.indexOf(s)<0);if(missingSchemas.length){const errorMessage=`You requested to use schema '${schemas.join("', '")}'; however we couldn't find some of those! Missing schemas are: '${missingSchemas.join("', '")}'`;if(pgThrowOnMissingSchema)throw new Error(errorMessage);console.warn(" WARNING  "+errorMessage)}return introspectionResultsByKind}let listener,rawIntrospectionResultsByKind=await introspect();class Listener{constructor(triggerRebuild){this.stopped=!1,this._handleChange=(0,_throttle.default)(async()=>{debug("Schema change detected: re-inspecting schema...");try{rawIntrospectionResultsByKind=await introspect(),debug("Schema change detected: re-inspecting schema complete"),triggerRebuild()}catch(e){console.error("Schema introspection failed: "+e.message)}},750,{leading:!0,trailing:!0}),this._listener=this._listener.bind(this),this._handleClientError=this._handleClientError.bind(this),this._start()}async _start(isReconnect=!1){var filename,encoding;if(!this.stopped)try{const{pgClient:pgClient,releasePgClient:releasePgClient}=await(0,_withPgClient.getPgClientAndReleaserFromConfig)(pgConfig);if(this.client=pgClient,this._reallyReleaseClient=releasePgClient,pgClient.on("notification",this._listener),pgClient.on("error",this._handleClientError),this.stopped)return this._releaseClient();if(await pgClient.query("listen postgraphile_watch"),!pgSkipInstallingWatchFixtures){const sql=`begin; ${await(filename=WATCH_FIXTURES_PATH,encoding="utf8",new Promise((resolve,reject)=>{(0,_fs.readFile)(filename,encoding,(err,res)=>{err?reject(err):resolve(res)})}))};`;await(0,_withPgClient.default)(pgOwnerConnectionString||pgConfig,async pgClient=>{try{await pgClient.query(sql)}catch(error){this._haveDisplayedError||(this._haveDisplayedError=!0,console.warn(_chalk.default.bold.yellow("Failed to setup watch fixtures in Postgres database")+" "),console.warn(_chalk.default.yellow("This is likely because the PostgreSQL user in the connection string does not have sufficient privileges; you can solve this by passing the 'owner' connection string via '--owner-connection' / 'ownerConnectionString'. If the fixtures already exist, the watch functionality may still work.")),console.warn(_chalk.default.yellow("Enable DEBUG='graphile-build-pg' to see the error"))),debug(error)}finally{await pgClient.query("commit;")}})}isReconnect&&this._handleChange()}catch(e){this._reconnect(e)}}_handleClientError(e){this.client=null,this._reallyReleaseClient=null,this._reconnect(e)}async _reconnect(e){this.stopped||(console.error("Error occurred for PG watching client; reconnecting in 2 seconds.",e.message),await this._releaseClient(),setTimeout(()=>{this.stopped||this._start(!0)},2e3))}async _listener(notification){if("postgraphile_watch"===notification.channel)try{const payload=JSON.parse(notification.payload);if(payload.payload=payload.payload||[],"ddl"===payload.type){payload.payload.filter(({schema:schema})=>null==schema||schemas.indexOf(schema)>=0).map(({command:command})=>command).length&&this._handleChange()}else if("drop"===payload.type){payload.payload.some(schemaName=>schemas.indexOf(schemaName)>=0)&&this._handleChange()}else{if("manual"!==payload.type)throw new Error(`Payload type '${payload.type}' not recognised`);this._handleChange()}}catch(e){debug("Error occurred parsing notification payload: "+e)}}async stop(){this.stopped=!0,await this._releaseClient()}async _releaseClient(){this._handleChange.cancel();const pgClient=this.client,reallyReleaseClient=this._reallyReleaseClient;this.client=null,this._reallyReleaseClient=null,pgClient&&(pgClient.query("unlisten postgraphile_watch").catch(e=>{debug("Error occurred trying to unlisten watch: "+e)}),pgClient.removeListener("notification",this._listener),pgClient.removeListener("error",this._handleClientError),reallyReleaseClient&&await reallyReleaseClient())}}builder.registerWatcher(async triggerRebuild=>{listener&&await listener.stop(),listener=new Listener(triggerRebuild)},async()=>{const l=listener;listener=null,l&&await l.stop()}),builder.hook("build",build=>{const introspectionResultsByKind=function(rawResults,pgAugmentIntrospectionResults){const introspectionResultsByKind=deepClone(rawResults),xByY=(arrayOfX,attrKey)=>arrayOfX.reduce((memo,x)=>(memo[x[attrKey]]=x,memo),{});var arrayOfX,attrKey,attrKey2;introspectionResultsByKind.namespaceById=xByY(introspectionResultsByKind.namespace,"id"),introspectionResultsByKind.classById=xByY(introspectionResultsByKind.class,"id"),introspectionResultsByKind.typeById=xByY(introspectionResultsByKind.type,"id"),introspectionResultsByKind.attributeByClassIdAndNum=(arrayOfX=introspectionResultsByKind.attribute,attrKey="classId",attrKey2="num",arrayOfX.reduce((memo,x)=>(memo[x[attrKey]]||(memo[x[attrKey]]={}),memo[x[attrKey]][x[attrKey2]]=x,memo),{})),introspectionResultsByKind.extensionById=xByY(introspectionResultsByKind.extension,"id");const relate=(array,newAttr,lookupAttr,lookup,missingOk=!1)=>{array.forEach(entry=>{const key=entry[lookupAttr];if(Array.isArray(key))entry[newAttr]=key.map(innerKey=>{const result=lookup[innerKey];if(innerKey&&!result){if(missingOk)return;throw new Error(`Could not look up '${newAttr}' by '${lookupAttr}' ('${innerKey}') on '${JSON.stringify(entry)}'`)}return result}).filter(_=>_);else{const result=lookup[key];if(key&&!result){if(missingOk)return;throw new Error(`Could not look up '${newAttr}' by '${lookupAttr}' on '${JSON.stringify(entry)}'`)}entry[newAttr]=result}})};var introspectionResults;return introspectionResults=introspectionResultsByKind,[pgAugmentIntrospectionResults,smartCommentConstraints].forEach(fn=>fn?fn(introspectionResults):null),relate(introspectionResultsByKind.class,"namespace","namespaceId",introspectionResultsByKind.namespaceById,!0),relate(introspectionResultsByKind.class,"type","typeId",introspectionResultsByKind.typeById),relate(introspectionResultsByKind.attribute,"class","classId",introspectionResultsByKind.classById),relate(introspectionResultsByKind.attribute,"type","typeId",introspectionResultsByKind.typeById),relate(introspectionResultsByKind.procedure,"namespace","namespaceId",introspectionResultsByKind.namespaceById),relate(introspectionResultsByKind.type,"class","classId",introspectionResultsByKind.classById,!0),relate(introspectionResultsByKind.type,"domainBaseType","domainBaseTypeId",introspectionResultsByKind.typeById,!0),relate(introspectionResultsByKind.type,"arrayItemType","arrayItemTypeId",introspectionResultsByKind.typeById,!0),relate(introspectionResultsByKind.constraint,"class","classId",introspectionResultsByKind.classById),relate(introspectionResultsByKind.constraint,"foreignClass","foreignClassId",introspectionResultsByKind.classById,!0),relate(introspectionResultsByKind.extension,"namespace","namespaceId",introspectionResultsByKind.namespaceById,!0),relate(introspectionResultsByKind.extension,"configurationClasses","configurationClassIds",introspectionResultsByKind.classById,!0),relate(introspectionResultsByKind.index,"class","classId",introspectionResultsByKind.classById),introspectionResultsByKind.type.forEach(type=>{type.arrayItemType&&(type.arrayItemType.arrayType=type)}),introspectionResultsByKind.class.forEach(klass=>{klass.attributes=introspectionResultsByKind.attribute.filter(attr=>attr.classId===klass.id),klass.canUseAsterisk=!klass.attributes.some(attr=>attr.columnLevelSelectGrant),klass.constraints=introspectionResultsByKind.constraint.filter(constraint=>constraint.classId===klass.id),klass.foreignConstraints=introspectionResultsByKind.constraint.filter(constraint=>constraint.foreignClassId===klass.id),klass.primaryKeyConstraint=klass.constraints.find(constraint=>"p"===constraint.type)}),introspectionResultsByKind.constraint.forEach(constraint=>{constraint.keyAttributeNums&&constraint.class?constraint.keyAttributes=constraint.keyAttributeNums.map(nr=>constraint.class.attributes.find(attr=>attr.num===nr)):constraint.keyAttributes=[],constraint.foreignKeyAttributeNums&&constraint.foreignClass?constraint.foreignKeyAttributes=constraint.foreignKeyAttributeNums.map(nr=>constraint.foreignClass.attributes.find(attr=>attr.num===nr)):constraint.foreignKeyAttributes=[]}),introspectionResultsByKind.index.forEach(index=>{const columns=index.attributeNums.map(nr=>index.class.attributes.find(attr=>attr.num===nr));columns[0]&&(columns[0].isIndexed=!0),columns[0]&&1===columns.length&&index.isUnique&&(columns[0].isUnique=!0),index.class.constraints.filter(constraint=>"f"===constraint.type).forEach(constraint=>{constraint.keyAttributeNums.every((nr,idx)=>index.attributeNums[idx]===nr)&&(constraint.isIndexed=!0)})}),introspectionResultsByKind}(rawIntrospectionResultsByKind,build.pgAugmentIntrospectionResults);return introspectionResultsByKind.__pgVersion<90500&&(build.pgQueryFromResolveData=(0,_queryFromResolveDataFactory.default)({supportsJSONB:!1})),build.extend(build,{pgIntrospectionResultsByKind:introspectionResultsByKind})},["PgIntrospection"],[],["PgBasics"])};exports.PgEntityKind={NAMESPACE:"namespace",PROCEDURE:"procedure",CLASS:"class",TYPE:"type",ATTRIBUTE:"attribute",CONSTRAINT:"constraint",EXTENSION:"extension",INDEX:"index"}},function(module,exports,__webpack_require__){"use strict";var EventEmitter=__webpack_require__(29).EventEmitter,util=__webpack_require__(17),utils=__webpack_require__(111),sasl=__webpack_require__(169),pgPass=__webpack_require__(170),TypeOverrides=__webpack_require__(172),ConnectionParameters=__webpack_require__(173),Query=__webpack_require__(174),defaults=__webpack_require__(70),Connection=__webpack_require__(112),Client=function(config){EventEmitter.call(this),this.connectionParameters=new ConnectionParameters(config),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var c=config||{};this._Promise=c.Promise||global.Promise,this._types=new TypeOverrides(c.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=c.connection||new Connection({stream:c.stream,ssl:this.connectionParameters.ssl,keepAlive:c.keepAlive||!1,keepAliveInitialDelayMillis:c.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=c.binary||defaults.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=c.connectionTimeoutMillis||0};util.inherits(Client,EventEmitter),Client.prototype._errorAllQueries=function(err){const enqueueError=query=>{process.nextTick(()=>{query.handleError(err,this.connection)})};this.activeQuery&&(enqueueError(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(enqueueError),this.queryQueue.length=0},Client.prototype._connect=function(callback){var connectionTimeoutHandle,saslSession,self=this,con=this.connection;if(this._connecting||this._connected){const err=new Error("Client has already been connected. You cannot reuse a client.");return void process.nextTick(()=>{callback(err)})}function checkPgPass(cb){return function(msg){"function"==typeof self.password?self._Promise.resolve().then(()=>self.password()).then(pass=>{if(void 0!==pass){if("string"!=typeof pass)return void con.emit("error",new TypeError("Password must be a string"));self.connectionParameters.password=self.password=pass}else self.connectionParameters.password=self.password=null;cb(msg)}).catch(err=>{con.emit("error",err)}):null!==self.password?cb(msg):pgPass(self.connectionParameters,(function(pass){void 0!==pass&&(self.connectionParameters.password=self.password=pass),cb(msg)}))}}this._connecting=!0,this._connectionTimeoutMillis>0&&(connectionTimeoutHandle=setTimeout(()=>{con._ending=!0,con.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?con.connect(this.host+"/.s.PGSQL."+this.port):con.connect(this.port,this.host),con.on("connect",(function(){self.ssl?con.requestSsl():con.startup(self.getStartupConf())})),con.on("sslconnect",(function(){con.startup(self.getStartupConf())})),con.on("authenticationCleartextPassword",checkPgPass((function(){con.password(self.password)}))),con.on("authenticationMD5Password",checkPgPass((function(msg){con.password(utils.postgresMd5PasswordHash(self.user,self.password,msg.salt))}))),con.on("authenticationSASL",checkPgPass((function(msg){saslSession=sasl.startSession(msg.mechanisms),con.sendSASLInitialResponseMessage(saslSession.mechanism,saslSession.response)}))),con.on("authenticationSASLContinue",(function(msg){sasl.continueSession(saslSession,self.password,msg.data),con.sendSCRAMClientFinalMessage(saslSession.response)})),con.on("authenticationSASLFinal",(function(msg){sasl.finalizeSession(saslSession,msg.data),saslSession=null})),con.once("backendKeyData",(function(msg){self.processID=msg.processID,self.secretKey=msg.secretKey}));const connectingErrorHandler=err=>{if(!this._connectionError){if(this._connectionError=!0,clearTimeout(connectionTimeoutHandle),callback)return callback(err);this.emit("error",err)}},connectedErrorHandler=err=>{this._queryable=!1,this._errorAllQueries(err),this.emit("error",err)},connectedErrorMessageHandler=msg=>{const activeQuery=this.activeQuery;activeQuery?(this.activeQuery=null,activeQuery.handleError(msg,con)):connectedErrorHandler(msg)};con.on("error",connectingErrorHandler),con.on("errorMessage",connectingErrorHandler),con.once("readyForQuery",(function(){self._connecting=!1,self._connected=!0,self._attachListeners(con),con.removeListener("error",connectingErrorHandler),con.removeListener("errorMessage",connectingErrorHandler),con.on("error",connectedErrorHandler),con.on("errorMessage",connectedErrorMessageHandler),clearTimeout(connectionTimeoutHandle),callback&&(callback(null,self),callback=null),self.emit("connect")})),con.on("readyForQuery",(function(){var activeQuery=self.activeQuery;self.activeQuery=null,self.readyForQuery=!0,activeQuery&&activeQuery.handleReadyForQuery(con),self._pulseQueryQueue()})),con.once("end",()=>{const error=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(connectionTimeoutHandle),this._errorAllQueries(error),this._ending||(this._connecting&&!this._connectionError?callback?callback(error):connectedErrorHandler(error):this._connectionError||connectedErrorHandler(error)),process.nextTick(()=>{this.emit("end")})}),con.on("notice",(function(msg){self.emit("notice",msg)}))},Client.prototype.connect=function(callback){if(!callback)return new this._Promise((resolve,reject)=>{this._connect(error=>{error?reject(error):resolve()})});this._connect(callback)},Client.prototype._attachListeners=function(con){const self=this;con.on("rowDescription",(function(msg){self.activeQuery.handleRowDescription(msg)})),con.on("dataRow",(function(msg){self.activeQuery.handleDataRow(msg)})),con.on("portalSuspended",(function(msg){self.activeQuery.handlePortalSuspended(con)})),con.on("emptyQuery",(function(msg){self.activeQuery.handleEmptyQuery(con)})),con.on("commandComplete",(function(msg){self.activeQuery.handleCommandComplete(msg,con)})),con.on("parseComplete",(function(msg){self.activeQuery.name&&(con.parsedStatements[self.activeQuery.name]=self.activeQuery.text)})),con.on("copyInResponse",(function(msg){self.activeQuery.handleCopyInResponse(self.connection)})),con.on("copyData",(function(msg){self.activeQuery.handleCopyData(msg,self.connection)})),con.on("notification",(function(msg){self.emit("notification",msg)}))},Client.prototype.getStartupConf=function(){var params=this.connectionParameters,data={user:params.user,database:params.database},appName=params.application_name||params.fallback_application_name;return appName&&(data.application_name=appName),params.replication&&(data.replication=""+params.replication),params.statement_timeout&&(data.statement_timeout=String(parseInt(params.statement_timeout,10))),params.idle_in_transaction_session_timeout&&(data.idle_in_transaction_session_timeout=String(parseInt(params.idle_in_transaction_session_timeout,10))),data},Client.prototype.cancel=function(client,query){if(client.activeQuery===query){var con=this.connection;this.host&&0===this.host.indexOf("/")?con.connect(this.host+"/.s.PGSQL."+this.port):con.connect(this.port,this.host),con.on("connect",(function(){con.cancel(client.processID,client.secretKey)}))}else-1!==client.queryQueue.indexOf(query)&&client.queryQueue.splice(client.queryQueue.indexOf(query),1)},Client.prototype.setTypeParser=function(oid,format,parseFn){return this._types.setTypeParser(oid,format,parseFn)},Client.prototype.getTypeParser=function(oid,format){return this._types.getTypeParser(oid,format)},Client.prototype.escapeIdentifier=function(str){return'"'+str.replace(/"/g,'""')+'"'},Client.prototype.escapeLiteral=function(str){for(var hasBackslash=!1,escaped="'",i=0;i<str.length;i++){var c=str[i];"'"===c?escaped+=c+c:"\\"===c?(escaped+=c+c,hasBackslash=!0):escaped+=c}return escaped+="'",!0===hasBackslash&&(escaped=" E"+escaped),escaped},Client.prototype._pulseQueryQueue=function(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const queryError=this.activeQuery.submit(this.connection);queryError&&process.nextTick(()=>{this.activeQuery.handleError(queryError,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))},Client.prototype.query=function(config,values,callback){var query,result,readTimeout,readTimeoutTimer,queryCallback;if(null==config)throw new TypeError("Client was passed a null or undefined query");return"function"==typeof config.submit?(readTimeout=config.query_timeout||this.connectionParameters.query_timeout,result=query=config,"function"==typeof values&&(query.callback=query.callback||values)):(readTimeout=this.connectionParameters.query_timeout,(query=new Query(config,values,callback)).callback||(result=new this._Promise((resolve,reject)=>{query.callback=(err,res)=>err?reject(err):resolve(res)}))),readTimeout&&(queryCallback=query.callback,readTimeoutTimer=setTimeout(()=>{var error=new Error("Query read timeout");process.nextTick(()=>{query.handleError(error,this.connection)}),queryCallback(error),query.callback=()=>{};var index=this.queryQueue.indexOf(query);index>-1&&this.queryQueue.splice(index,1),this._pulseQueryQueue()},readTimeout),query.callback=(err,res)=>{clearTimeout(readTimeoutTimer),queryCallback(err,res)}),this.binary&&!query.binary&&(query.binary=!0),query._result&&!query._result._types&&(query._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{query.handleError(new Error("Client was closed and is not queryable"),this.connection)}),result):(this.queryQueue.push(query),this._pulseQueryQueue(),result):(process.nextTick(()=>{query.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),result)},Client.prototype.end=function(cb){if(this._ending=!0,!this.connection._connecting){if(!cb)return this._Promise.resolve();cb()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!cb)return new this._Promise(resolve=>{this.connection.once("end",resolve)});this.connection.once("end",cb)},Client.Query=Query,module.exports=Client},function(module,exports,__webpack_require__){var array=__webpack_require__(166),arrayParser=__webpack_require__(167),parseDate=__webpack_require__(387),parseInterval=__webpack_require__(168),parseByteA=__webpack_require__(389);function allowNull(fn){return function(value){return null===value?value:fn(value)}}function parseBool(value){return null===value?value:"TRUE"===value||"t"===value||"true"===value||"y"===value||"yes"===value||"on"===value||"1"===value}function parseBoolArray(value){return value?array.parse(value,parseBool):null}function parseBaseTenInt(string){return parseInt(string,10)}function parseIntegerArray(value){return value?array.parse(value,allowNull(parseBaseTenInt)):null}function parseBigIntegerArray(value){return value?array.parse(value,allowNull((function(entry){return parseBigInteger(entry).trim()}))):null}var parsePointArray=function(value){return value?arrayParser.create(value,(function(entry){return null!==entry&&(entry=parsePoint(entry)),entry})).parse():null},parseFloatArray=function(value){return value?arrayParser.create(value,(function(entry){return null!==entry&&(entry=parseFloat(entry)),entry})).parse():null},parseStringArray=function(value){return value?arrayParser.create(value).parse():null},parseDateArray=function(value){return value?arrayParser.create(value,(function(entry){return null!==entry&&(entry=parseDate(entry)),entry})).parse():null},parseIntervalArray=function(value){return value?arrayParser.create(value,(function(entry){return null!==entry&&(entry=parseInterval(entry)),entry})).parse():null},parseByteAArray=function(value){return value?array.parse(value,allowNull(parseByteA)):null},parseInteger=function(value){return parseInt(value,10)},parseBigInteger=function(value){var valStr=String(value);return/^\d+$/.test(valStr)?valStr:value},parseJsonArray=function(value){return value?array.parse(value,allowNull(JSON.parse)):null},parsePoint=function(value){return"("!==value[0]?null:(value=value.substring(1,value.length-1).split(","),{x:parseFloat(value[0]),y:parseFloat(value[1])})},parseCircle=function(value){if("<"!==value[0]&&"("!==value[1])return null;for(var point="(",radius="",pointParsed=!1,i=2;i<value.length-1;i++)pointParsed||(point+=value[i]),")"!==value[i]?pointParsed&&","!==value[i]&&(radius+=value[i]):pointParsed=!0;var result=parsePoint(point);return result.radius=parseFloat(radius),result};module.exports={init:function(register){register(20,parseBigInteger),register(21,parseInteger),register(23,parseInteger),register(26,parseInteger),register(700,parseFloat),register(701,parseFloat),register(16,parseBool),register(1082,parseDate),register(1114,parseDate),register(1184,parseDate),register(600,parsePoint),register(651,parseStringArray),register(718,parseCircle),register(1e3,parseBoolArray),register(1001,parseByteAArray),register(1005,parseIntegerArray),register(1007,parseIntegerArray),register(1028,parseIntegerArray),register(1016,parseBigIntegerArray),register(1017,parsePointArray),register(1021,parseFloatArray),register(1022,parseFloatArray),register(1231,parseFloatArray),register(1014,parseStringArray),register(1015,parseStringArray),register(1008,parseStringArray),register(1009,parseStringArray),register(1040,parseStringArray),register(1041,parseStringArray),register(1115,parseDateArray),register(1182,parseDateArray),register(1185,parseDateArray),register(1186,parseInterval),register(1187,parseIntervalArray),register(17,parseByteA),register(114,JSON.parse.bind(JSON)),register(3802,JSON.parse.bind(JSON)),register(199,parseJsonArray),register(3807,parseJsonArray),register(3907,parseStringArray),register(2951,parseStringArray),register(791,parseStringArray),register(1183,parseStringArray),register(1270,parseStringArray)}}},function(module,exports,__webpack_require__){"use strict";var DATE_TIME=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,DATE=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,TIME_ZONE=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,INFINITY=/^-?infinity$/;function bcYearToNegativeYear(year){return-(year-1)}function is0To99(num){return num>=0&&num<100}module.exports=function(isoDate){if(INFINITY.test(isoDate))return Number(isoDate.replace("i","I"));var matches=DATE_TIME.exec(isoDate);if(!matches)return function(isoDate){var matches=DATE.exec(isoDate);if(!matches)return;var year=parseInt(matches[1],10);matches[4]&&(year=bcYearToNegativeYear(year));var month=parseInt(matches[2],10)-1,day=matches[3],date=new Date(year,month,day);is0To99(year)&&date.setFullYear(year);return date}(isoDate)||null;var isBC=!!matches[8],year=parseInt(matches[1],10);isBC&&(year=bcYearToNegativeYear(year));var date,month=parseInt(matches[2],10)-1,day=matches[3],hour=parseInt(matches[4],10),minute=parseInt(matches[5],10),second=parseInt(matches[6],10),ms=matches[7];ms=ms?Math.round(1e3*parseFloat(ms)):0;var offset=function(isoDate){var zone=TIME_ZONE.exec(isoDate.split(" ")[1]);if(!zone)return;var type=zone[1];if("Z"===type)return 0;var sign="-"===type?-1:1;return(3600*parseInt(zone[2],10)+60*parseInt(zone[3]||0,10)+parseInt(zone[4]||0,10))*sign*1e3}(isoDate);return null!=offset?(date=new Date(Date.UTC(year,month,day,hour,minute,second,ms)),is0To99(year)&&date.setUTCFullYear(year),date.setTime(date.getTime()-offset)):(date=new Date(year,month,day,hour,minute,second,ms),is0To99(year)&&date.setFullYear(year)),date}},function(module,exports){module.exports=function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports,__webpack_require__){"use strict";module.exports=function(input){if(/^\\x/.test(input))return new Buffer(input.substr(2),"hex");for(var output="",i=0;i<input.length;)if("\\"!==input[i])output+=input[i],++i;else if(/[0-7]{3}/.test(input.substr(i+1,3)))output+=String.fromCharCode(parseInt(input.substr(i+1,3),8)),i+=4;else{for(var backslashes=1;i+backslashes<input.length&&"\\"===input[i+backslashes];)backslashes++;for(var k=0;k<Math.floor(backslashes/2);++k)output+="\\";i+=2*Math.floor(backslashes/2)}return new Buffer(output,"binary")}},function(module,exports,__webpack_require__){var parseInt64=__webpack_require__(391),parseBits=function(data,bits,offset,invert,callback){invert=invert||!1,callback=callback||function(lastValue,newValue,bits){return lastValue*Math.pow(2,bits)+newValue};var offsetBytes=(offset=offset||0)>>3,inv=function(value){return invert?255&~value:value},mask=255,firstBits=8-offset%8;bits<firstBits&&(mask=255<<8-bits&255,firstBits=bits),offset&&(mask>>=offset%8);var result=0;offset%8+bits>=8&&(result=callback(0,inv(data[offsetBytes])&mask,firstBits));for(var bytes=bits+offset>>3,i=offsetBytes+1;i<bytes;i++)result=callback(result,inv(data[i]),8);var lastBits=(bits+offset)%8;return lastBits>0&&(result=callback(result,inv(data[bytes])>>8-lastBits,lastBits)),result},parseFloatFromBits=function(data,precisionBits,exponentBits){var bias=Math.pow(2,exponentBits-1)-1,sign=parseBits(data,1),exponent=parseBits(data,exponentBits,1);if(0===exponent)return 0;var precisionBitsCounter=1,mantissa=parseBits(data,precisionBits,exponentBits+1,!1,(function(lastValue,newValue,bits){0===lastValue&&(lastValue=1);for(var i=1;i<=bits;i++)precisionBitsCounter/=2,(newValue&1<<bits-i)>0&&(lastValue+=precisionBitsCounter);return lastValue}));return exponent==Math.pow(2,exponentBits+1)-1?0===mantissa?0===sign?1/0:-1/0:NaN:(0===sign?1:-1)*Math.pow(2,exponent-bias)*mantissa},parseInt16=function(value){return 1==parseBits(value,1)?-1*(parseBits(value,15,1,!0)+1):parseBits(value,15,1)},parseInt32=function(value){return 1==parseBits(value,1)?-1*(parseBits(value,31,1,!0)+1):parseBits(value,31,1)},parseFloat32=function(value){return parseFloatFromBits(value,23,8)},parseFloat64=function(value){return parseFloatFromBits(value,52,11)},parseNumeric=function(value){var sign=parseBits(value,16,32);if(49152==sign)return NaN;for(var weight=Math.pow(1e4,parseBits(value,16,16)),result=0,ndigits=parseBits(value,16),i=0;i<ndigits;i++)result+=parseBits(value,16,64+16*i)*weight,weight/=1e4;var scale=Math.pow(10,parseBits(value,16,48));return(0===sign?1:-1)*Math.round(result*scale)/scale},parseDate=function(isUTC,value){var sign=parseBits(value,1),rawValue=parseBits(value,63,1),result=new Date((0===sign?1:-1)*rawValue/1e3+9466848e5);return isUTC||result.setTime(result.getTime()+6e4*result.getTimezoneOffset()),result.usec=rawValue%1e3,result.getMicroSeconds=function(){return this.usec},result.setMicroSeconds=function(value){this.usec=value},result.getUTCMicroSeconds=function(){return this.usec},result},parseArray=function(value){for(var dim=parseBits(value,32),elementType=(parseBits(value,32,32),parseBits(value,32,64)),offset=96,dims=[],i=0;i<dim;i++)dims[i]=parseBits(value,32,offset),offset+=32,offset+=32;var parseElement=function(elementType){var result,length=parseBits(value,32,offset);return offset+=32,4294967295==length?null:23==elementType||20==elementType?(result=parseBits(value,8*length,offset),offset+=8*length,result):25==elementType?result=value.toString(this.encoding,offset>>3,(offset+=length<<3)>>3):void console.log("ERROR: ElementType not implemented: "+elementType)},parse=function(dimension,elementType){var i,array=[];if(dimension.length>1){var count=dimension.shift();for(i=0;i<count;i++)array[i]=parse(dimension,elementType);dimension.unshift(count)}else for(i=0;i<dimension[0];i++)array[i]=parseElement(elementType);return array};return parse(dims,elementType)},parseText=function(value){return value.toString("utf8")},parseBool=function(value){return null===value?null:parseBits(value,8)>0};module.exports={init:function(register){register(20,parseInt64),register(21,parseInt16),register(23,parseInt32),register(26,parseInt32),register(1700,parseNumeric),register(700,parseFloat32),register(701,parseFloat64),register(16,parseBool),register(1114,parseDate.bind(null,!1)),register(1184,parseDate.bind(null,!0)),register(1e3,parseArray),register(1007,parseArray),register(1016,parseArray),register(1008,parseArray),register(1009,parseArray),register(25,parseText)}}},function(module,exports,__webpack_require__){"use strict";var BASE=1e6;module.exports=function(buffer){var high=buffer.readInt32BE(0),low=buffer.readUInt32BE(4),sign="";high<0&&(high=~high+(0===low),low=1+~low>>>0,sign="-");var carry,t,digits,pad,l,i,result="";if(carry=high%BASE,high=high/BASE>>>0,digits=""+((t=4294967296*carry+low)-BASE*(low=t/BASE>>>0)),0===low&&0===high)return sign+digits+result;for(pad="",l=6-digits.length,i=0;i<l;i++)pad+="0";if(result=pad+digits+result,carry=high%BASE,high=high/BASE>>>0,digits=""+((t=4294967296*carry+low)-BASE*(low=t/BASE>>>0)),0===low&&0===high)return sign+digits+result;for(pad="",l=6-digits.length,i=0;i<l;i++)pad+="0";if(result=pad+digits+result,carry=high%BASE,high=high/BASE>>>0,digits=""+((t=4294967296*carry+low)-BASE*(low=t/BASE>>>0)),0===low&&0===high)return sign+digits+result;for(pad="",l=6-digits.length,i=0;i<l;i++)pad+="0";return result=pad+digits+result,sign+(digits=""+(t=4294967296*(carry=high%BASE)+low)%BASE)+result}},function(module,exports){module.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}},function(module,exports,__webpack_require__){"use strict";var path=__webpack_require__(63),Stream=__webpack_require__(32).Stream,Split=__webpack_require__(394),util=__webpack_require__(17),isWin="win32"===process.platform,warnStream=process.stderr;var fieldNames=["host","port","database","user","password"],nrOfFields=fieldNames.length,passKey=fieldNames[nrOfFields-1];function warn(){var isWritable=warnStream instanceof Stream&&!0===warnStream.writable;if(isWritable){var args=Array.prototype.slice.call(arguments).concat("\n");warnStream.write(util.format.apply(util,args))}}Object.defineProperty(module.exports,"isWin",{get:function(){return isWin},set:function(val){isWin=val}}),module.exports.warnTo=function(stream){var old=warnStream;return warnStream=stream,old},module.exports.getFileName=function(env){return(env=env||process.env).PGPASSFILE||(isWin?path.join(env.APPDATA,"postgresql","pgpass.conf"):path.join(env.HOME,".pgpass"))},module.exports.usePgPass=function(stats,fname){return!Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")&&(!!isWin||(fname=fname||"<unkn>",32768!=(61440&stats.mode)?(warn('WARNING: password file "%s" is not a plain file',fname),!1):!(63&stats.mode)||(warn('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',fname),!1)))};var matcher=module.exports.match=function(connInfo,entry){return fieldNames.slice(0,-1).reduce((function(prev,field,idx){return 1==idx&&Number(connInfo[field]||5432)===Number(entry[field])?prev&&!0:prev&&("*"===entry[field]||entry[field]===connInfo[field])}),!0)};module.exports.getPassword=function(connInfo,stream,cb){var pass,lineStream=stream.pipe(new Split);var onErr=function(err){stream.destroy(),warn("WARNING: error on reading file: %s",err),cb(void 0)};stream.on("error",onErr),lineStream.on("data",(function(line){var entry=parseLine(line);entry&&isValidEntry(entry)&&matcher(connInfo,entry)&&(pass=entry[passKey],lineStream.end())})).on("end",(function(){stream.destroy(),cb(pass)})).on("error",onErr)};var parseLine=module.exports.parseLine=function(line){if(line.length<11||line.match(/^\s+#/))return null;for(var curChar="",prevChar="",fieldIdx=0,startIdx=0,obj={},addToObj=function(idx,i0,i1){var field=line.substring(i0,i1);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(field=field.replace(/\\([:\\])/g,"$1")),obj[fieldNames[idx]]=field},i=0;i<line.length-1;i+=1){if(curChar=line.charAt(i+1),prevChar=line.charAt(i),fieldIdx==nrOfFields-1){addToObj(fieldIdx,startIdx);break}i>=0&&":"==curChar&&"\\"!==prevChar&&(addToObj(fieldIdx,startIdx,i+1),startIdx=i+2,fieldIdx+=1)}return obj=Object.keys(obj).length===nrOfFields?obj:null},isValidEntry=module.exports.isValidEntry=function(entry){for(var rules={0:function(x){return x.length>0},1:function(x){return"*"===x||(x=Number(x),isFinite(x)&&x>0&&x<9007199254740992&&Math.floor(x)===x)},2:function(x){return x.length>0},3:function(x){return x.length>0},4:function(x){return x.length>0}},idx=0;idx<fieldNames.length;idx+=1){if(!(0,rules[idx])(entry[fieldNames[idx]]||""))return!1}return!0}},function(module,exports,__webpack_require__){var through=__webpack_require__(395),Decoder=__webpack_require__(171).StringDecoder;module.exports=function(matcher,mapper,options){var decoder=new Decoder,soFar="",maxLength=options&&options.maxLength,trailing=!options||!1!==options.trailing;"function"==typeof matcher&&(mapper=matcher,matcher=null);matcher||(matcher=/\r?\n/);function emit(stream,piece){if(mapper){try{piece=mapper(piece)}catch(err){return stream.emit("error",err)}void 0!==piece&&stream.queue(piece)}else stream.queue(piece)}function next(stream,buffer){var pieces=((null!=soFar?soFar:"")+buffer).split(matcher);if(soFar=pieces.pop(),maxLength&&soFar.length>maxLength)return stream.emit("error",new Error("maximum buffer reached"));for(var i=0;i<pieces.length;i++){emit(stream,pieces[i])}}return through((function(b){next(this,decoder.write(b))}),(function(){decoder.end&&next(this,decoder.end()),trailing&&null!=soFar&&emit(this,soFar),this.queue(null)}))}},function(module,exports,__webpack_require__){var Stream=__webpack_require__(32);function through(write,end,opts){write=write||function(data){this.queue(data)},end=end||function(){this.queue(null)};var ended=!1,destroyed=!1,buffer=[],_ended=!1,stream=new Stream;function drain(){for(;buffer.length&&!stream.paused;){var data=buffer.shift();if(null===data)return stream.emit("end");stream.emit("data",data)}}function _end(){stream.writable=!1,end.call(stream),!stream.readable&&stream.autoDestroy&&stream.destroy()}return stream.readable=stream.writable=!0,stream.paused=!1,stream.autoDestroy=!(opts&&!1===opts.autoDestroy),stream.write=function(data){return write.call(this,data),!stream.paused},stream.queue=stream.push=function(data){return _ended||(null===data&&(_ended=!0),buffer.push(data),drain()),stream},stream.on("end",(function(){stream.readable=!1,!stream.writable&&stream.autoDestroy&&process.nextTick((function(){stream.destroy()}))})),stream.end=function(data){if(!ended)return ended=!0,arguments.length&&stream.write(data),_end(),stream},stream.destroy=function(){if(!destroyed)return destroyed=!0,ended=!0,buffer.length=0,stream.writable=stream.readable=!1,stream.emit("close"),stream},stream.pause=function(){if(!stream.paused)return stream.paused=!0,stream},stream.resume=function(){return stream.paused&&(stream.paused=!1,stream.emit("resume")),drain(),stream.paused||stream.emit("drain"),stream},stream}module.exports=through,through.through=through},function(module,exports){module.exports=require("dns")},function(module,exports,__webpack_require__){"use strict";var url=__webpack_require__(51),fs=__webpack_require__(43);function parse(str){if("/"===str.charAt(0))return{host:(config=str.split(" "))[0],database:config[1]};var result=url.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str)?encodeURI(str).replace(/\%25(\d\d)/g,"%$1"):str,!0),config=result.query;for(var k in config)Array.isArray(config[k])&&(config[k]=config[k][config[k].length-1]);var auth=(result.auth||":").split(":");if(config.user=auth[0],config.password=auth.splice(1).join(":"),config.port=result.port,"socket:"==result.protocol)return config.host=decodeURI(result.pathname),config.database=result.query.db,config.client_encoding=result.query.encoding,config;config.host||(config.host=result.hostname);var pathname=result.pathname;if(!config.host&&pathname&&/^%2f/i.test(pathname)){var pathnameSplit=pathname.split("/");config.host=decodeURIComponent(pathnameSplit[0]),pathname=pathnameSplit.splice(1).join("/")}return pathname&&"/"===pathname.charAt(0)&&(pathname=pathname.slice(1)||null),config.database=pathname&&decodeURI(pathname),"true"!==config.ssl&&"1"!==config.ssl||(config.ssl=!0),"0"===config.ssl&&(config.ssl=!1),(config.sslcert||config.sslkey||config.sslrootcert)&&(config.ssl={}),config.sslcert&&(config.ssl.cert=fs.readFileSync(config.sslcert).toString()),config.sslkey&&(config.ssl.key=fs.readFileSync(config.sslkey).toString()),config.sslrootcert&&(config.ssl.ca=fs.readFileSync(config.sslrootcert).toString()),config}module.exports=parse,parse.parse=parse},function(module,exports,__webpack_require__){"use strict";var types=__webpack_require__(87),Result=function(rowMode,types){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=types,this.RowCtor=null,this.rowAsArray="array"===rowMode,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)},matchRegexp=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;Result.prototype.addCommandComplete=function(msg){var match;(match=msg.text?matchRegexp.exec(msg.text):matchRegexp.exec(msg.command))&&(this.command=match[1],match[3]?(this.oid=parseInt(match[2],10),this.rowCount=parseInt(match[3],10)):match[2]&&(this.rowCount=parseInt(match[2],10)))},Result.prototype._parseRowAsArray=function(rowData){for(var row=new Array(rowData.length),i=0,len=rowData.length;i<len;i++){var rawValue=rowData[i];row[i]=null!==rawValue?this._parsers[i](rawValue):null}return row},Result.prototype.parseRow=function(rowData){for(var row={},i=0,len=rowData.length;i<len;i++){var rawValue=rowData[i],field=this.fields[i].name;row[field]=null!==rawValue?this._parsers[i](rawValue):null}return row},Result.prototype.addRow=function(row){this.rows.push(row)},Result.prototype.addFields=function(fieldDescriptions){this.fields=fieldDescriptions,this.fields.length&&(this._parsers=new Array(fieldDescriptions.length));for(var i=0;i<fieldDescriptions.length;i++){var desc=fieldDescriptions[i];this._types?this._parsers[i]=this._types.getTypeParser(desc.dataTypeID,desc.format||"text"):this._parsers[i]=types.getTypeParser(desc.dataTypeID,desc.format||"text")}},module.exports=Result},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const serializer_1=__webpack_require__(400);exports.serialize=serializer_1.serialize;const parser_1=__webpack_require__(402);exports.parse=function(stream,callback){const parser=new parser_1.Parser;return stream.on("data",buffer=>parser.parse(buffer,callback)),new Promise(resolve=>stream.on("end",()=>resolve()))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const buffer_writer_1=__webpack_require__(401),writer=new buffer_writer_1.Writer,emptyArray=[],emptyExecute=Buffer.from([69,0,0,0,9,0,0,0,0,0]),cstringMessage=(code,string)=>{const len=4+Buffer.byteLength(string)+1,buffer=Buffer.allocUnsafe(1+len);return buffer[0]=code,buffer.writeInt32BE(len,1),buffer.write(string,5,"utf-8"),buffer[len]=0,buffer},emptyDescribePortal=writer.addCString("P").flush(68),emptyDescribeStatement=writer.addCString("S").flush(68),codeOnlyBuffer=code=>Buffer.from([code,0,0,0,4]),flushBuffer=codeOnlyBuffer(72),syncBuffer=codeOnlyBuffer(83),endBuffer=codeOnlyBuffer(88),copyDoneBuffer=codeOnlyBuffer(99),serialize={startup:opts=>{writer.addInt16(3).addInt16(0);for(const key of Object.keys(opts))writer.addCString(key).addCString(opts[key]);writer.addCString("client_encoding").addCString("UTF8");var bodyBuffer=writer.addCString("").flush(),length=bodyBuffer.length+4;return(new buffer_writer_1.Writer).addInt32(length).add(bodyBuffer).flush()},password:password=>writer.addCString(password).flush(112),requestSsl:()=>{const response=Buffer.allocUnsafe(8);return response.writeInt32BE(8,0),response.writeInt32BE(80877103,4),response},sendSASLInitialResponseMessage:function(mechanism,initialResponse){return writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse),writer.flush(112)},sendSCRAMClientFinalMessage:function(additionalData){return writer.addString(additionalData).flush(112)},query:text=>writer.addCString(text).flush(81),parse:query=>{const name=query.name||"";name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",name,name.length),console.error("This can cause conflicts and silent errors executing queries"));const types=query.types||emptyArray;for(var len=types.length,buffer=writer.addCString(name).addCString(query.text).addInt16(len),i=0;i<len;i++)buffer.addInt32(types[i]);return writer.flush(80)},bind:(config={})=>{const portal=config.portal||"",statement=config.statement||"",binary=config.binary||!1;for(var values=config.values||emptyArray,len=values.length,useBinary=!1,j=0;j<len;j++)useBinary=useBinary||values[j]instanceof Buffer;var buffer=writer.addCString(portal).addCString(statement);if(useBinary)for(buffer.addInt16(len),j=0;j<len;j++)buffer.addInt16(values[j]instanceof Buffer?1:0);else buffer.addInt16(0);buffer.addInt16(len);for(var i=0;i<len;i++){var val=values[i];null==val?buffer.addInt32(-1):val instanceof Buffer?(buffer.addInt32(val.length),buffer.add(val)):(buffer.addInt32(Buffer.byteLength(val)),buffer.addString(val))}return binary?(buffer.addInt16(1),buffer.addInt16(1)):buffer.addInt16(0),writer.flush(66)},execute:config=>{if(!config||!config.portal&&!config.rows)return emptyExecute;const portal=config.portal||"",rows=config.rows||0,portalLength=Buffer.byteLength(portal),len=4+portalLength+1+4,buff=Buffer.allocUnsafe(1+len);return buff[0]=69,buff.writeInt32BE(len,1),buff.write(portal,5,"utf-8"),buff[portalLength+5]=0,buff.writeUInt32BE(rows,buff.length-4),buff},describe:msg=>msg.name?cstringMessage(68,`${msg.type}${msg.name||""}`):"P"===msg.type?emptyDescribePortal:emptyDescribeStatement,close:msg=>{const text=`${msg.type}${msg.name||""}`;return cstringMessage(67,text)},flush:()=>flushBuffer,sync:()=>syncBuffer,end:()=>endBuffer,copyData:chunk=>writer.add(chunk).flush(100),copyDone:()=>copyDoneBuffer,copyFail:message=>cstringMessage(102,message),cancel:(processID,secretKey)=>{const buffer=Buffer.allocUnsafe(16);return buffer.writeInt32BE(16,0),buffer.writeInt16BE(1234,4),buffer.writeInt16BE(5678,6),buffer.writeInt32BE(processID,8),buffer.writeInt32BE(secretKey,12),buffer}};exports.serialize=serialize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Writer=class{constructor(size=256){this.size=size,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(size)}ensure(size){if(this.buffer.length-this.offset<size){var oldBuffer=this.buffer,newSize=oldBuffer.length+(oldBuffer.length>>1)+size;this.buffer=Buffer.alloc(newSize),oldBuffer.copy(this.buffer)}}addInt32(num){return this.ensure(4),this.buffer[this.offset++]=num>>>24&255,this.buffer[this.offset++]=num>>>16&255,this.buffer[this.offset++]=num>>>8&255,this.buffer[this.offset++]=num>>>0&255,this}addInt16(num){return this.ensure(2),this.buffer[this.offset++]=num>>>8&255,this.buffer[this.offset++]=num>>>0&255,this}addCString(string){if(string){var len=Buffer.byteLength(string);this.ensure(len+1),this.buffer.write(string,this.offset,"utf-8"),this.offset+=len}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(string=""){var len=Buffer.byteLength(string);return this.ensure(len),this.buffer.write(string,this.offset),this.offset+=len,this}add(otherBuffer){return this.ensure(otherBuffer.length),otherBuffer.copy(this.buffer,this.offset),this.offset+=otherBuffer.length,this}join(code){if(code){this.buffer[this.headerPosition]=code;const length=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(length,this.headerPosition+1)}return this.buffer.slice(code?0:5,this.offset)}flush(code){var result=this.join(code);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),result}}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const messages_1=__webpack_require__(403),buffer_reader_1=__webpack_require__(404),assert_1=__importDefault(__webpack_require__(67)),emptyBuffer=Buffer.allocUnsafe(0);exports.Parser=class{constructor(opts){var _a,_b;if(this.remainingBuffer=emptyBuffer,this.reader=new buffer_reader_1.BufferReader,"binary"===(null===(_a=opts)||void 0===_a?void 0:_a.mode))throw new Error("Binary mode not supported yet");this.mode=(null===(_b=opts)||void 0===_b?void 0:_b.mode)||"text"}parse(buffer,callback){let combinedBuffer=buffer;this.remainingBuffer.byteLength&&(combinedBuffer=Buffer.allocUnsafe(this.remainingBuffer.byteLength+buffer.byteLength),this.remainingBuffer.copy(combinedBuffer),buffer.copy(combinedBuffer,this.remainingBuffer.byteLength));let offset=0;for(;offset+5<=combinedBuffer.byteLength;){const code=combinedBuffer[offset],length=combinedBuffer.readUInt32BE(offset+1),fullMessageLength=1+length;if(!(fullMessageLength+offset<=combinedBuffer.byteLength))break;callback(this.handlePacket(offset+5,code,length,combinedBuffer)),offset+=fullMessageLength}offset===combinedBuffer.byteLength?this.remainingBuffer=emptyBuffer:this.remainingBuffer=combinedBuffer.slice(offset)}handlePacket(offset,code,length,bytes){switch(code){case 50:return messages_1.bindComplete;case 49:return messages_1.parseComplete;case 51:return messages_1.closeComplete;case 110:return messages_1.noData;case 115:return messages_1.portalSuspended;case 99:return messages_1.copyDone;case 87:return messages_1.replicationStart;case 73:return messages_1.emptyQuery;case 68:return this.parseDataRowMessage(offset,length,bytes);case 67:return this.parseCommandCompleteMessage(offset,length,bytes);case 90:return this.parseReadyForQueryMessage(offset,length,bytes);case 65:return this.parseNotificationMessage(offset,length,bytes);case 82:return this.parseAuthenticationResponse(offset,length,bytes);case 83:return this.parseParameterStatusMessage(offset,length,bytes);case 75:return this.parseBackendKeyData(offset,length,bytes);case 69:return this.parseErrorMessage(offset,length,bytes,"error");case 78:return this.parseErrorMessage(offset,length,bytes,"notice");case 84:return this.parseRowDescriptionMessage(offset,length,bytes);case 71:return this.parseCopyInMessage(offset,length,bytes);case 72:return this.parseCopyOutMessage(offset,length,bytes);case 100:return this.parseCopyData(offset,length,bytes);default:assert_1.default.fail("unknown message code: "+code.toString(16))}}parseReadyForQueryMessage(offset,length,bytes){this.reader.setBuffer(offset,bytes);const status=this.reader.string(1);return new messages_1.ReadyForQueryMessage(length,status)}parseCommandCompleteMessage(offset,length,bytes){this.reader.setBuffer(offset,bytes);const text=this.reader.cstring();return new messages_1.CommandCompleteMessage(length,text)}parseCopyData(offset,length,bytes){const chunk=bytes.slice(offset,offset+(length-4));return new messages_1.CopyDataMessage(length,chunk)}parseCopyInMessage(offset,length,bytes){return this.parseCopyMessage(offset,length,bytes,"copyInResponse")}parseCopyOutMessage(offset,length,bytes){return this.parseCopyMessage(offset,length,bytes,"copyOutResponse")}parseCopyMessage(offset,length,bytes,messageName){this.reader.setBuffer(offset,bytes);const isBinary=0!==this.reader.byte(),columnCount=this.reader.int16(),message=new messages_1.CopyResponse(length,messageName,isBinary,columnCount);for(let i=0;i<columnCount;i++)message.columnTypes[i]=this.reader.int16();return message}parseNotificationMessage(offset,length,bytes){this.reader.setBuffer(offset,bytes);const processId=this.reader.int32(),channel=this.reader.cstring(),payload=this.reader.cstring();return new messages_1.NotificationResponseMessage(length,processId,channel,payload)}parseRowDescriptionMessage(offset,length,bytes){this.reader.setBuffer(offset,bytes);const fieldCount=this.reader.int16(),message=new messages_1.RowDescriptionMessage(length,fieldCount);for(let i=0;i<fieldCount;i++)message.fields[i]=this.parseField();return message}parseField(){const name=this.reader.cstring(),tableID=this.reader.int32(),columnID=this.reader.int16(),dataTypeID=this.reader.int32(),dataTypeSize=this.reader.int16(),dataTypeModifier=this.reader.int32(),mode=0===this.reader.int16()?"text":"binary";return new messages_1.Field(name,tableID,columnID,dataTypeID,dataTypeSize,dataTypeModifier,mode)}parseDataRowMessage(offset,length,bytes){this.reader.setBuffer(offset,bytes);const fieldCount=this.reader.int16(),fields=new Array(fieldCount);for(let i=0;i<fieldCount;i++){const len=this.reader.int32();fields[i]=-1===len?null:this.reader.string(len)}return new messages_1.DataRowMessage(length,fields)}parseParameterStatusMessage(offset,length,bytes){this.reader.setBuffer(offset,bytes);const name=this.reader.cstring(),value=this.reader.cstring();return new messages_1.ParameterStatusMessage(length,name,value)}parseBackendKeyData(offset,length,bytes){this.reader.setBuffer(offset,bytes);const processID=this.reader.int32(),secretKey=this.reader.int32();return new messages_1.BackendKeyDataMessage(length,processID,secretKey)}parseAuthenticationResponse(offset,length,bytes){this.reader.setBuffer(offset,bytes);const code=this.reader.int32(),message={name:"authenticationOk",length:length};switch(code){case 0:break;case 3:8===message.length&&(message.name="authenticationCleartextPassword");break;case 5:if(12===message.length){message.name="authenticationMD5Password";const salt=this.reader.bytes(4);return new messages_1.AuthenticationMD5Password(length,salt)}break;case 10:let mechanism;message.name="authenticationSASL",message.mechanisms=[];do{mechanism=this.reader.cstring(),mechanism&&message.mechanisms.push(mechanism)}while(mechanism);break;case 11:message.name="authenticationSASLContinue",message.data=this.reader.string(length-8);break;case 12:message.name="authenticationSASLFinal",message.data=this.reader.string(length-8);break;default:throw new Error("Unknown authenticationOk message type "+code)}return message}parseErrorMessage(offset,length,bytes,name){this.reader.setBuffer(offset,bytes);const fields={};let fieldType=this.reader.string(1);for(;"\0"!==fieldType;)fields[fieldType]=this.reader.cstring(),fieldType=this.reader.string(1);const messageValue=fields.M,message="notice"===name?new messages_1.NoticeMessage(length,messageValue):new messages_1.DatabaseError(messageValue,length,name);return message.severity=fields.S,message.code=fields.C,message.detail=fields.D,message.hint=fields.H,message.position=fields.P,message.internalPosition=fields.p,message.internalQuery=fields.q,message.where=fields.W,message.schema=fields.s,message.table=fields.t,message.column=fields.c,message.dataType=fields.d,message.constraint=fields.n,message.file=fields.F,message.line=fields.L,message.routine=fields.R,message}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseComplete={name:"parseComplete",length:5},exports.bindComplete={name:"bindComplete",length:5},exports.closeComplete={name:"closeComplete",length:5},exports.noData={name:"noData",length:5},exports.portalSuspended={name:"portalSuspended",length:5},exports.replicationStart={name:"replicationStart",length:4},exports.emptyQuery={name:"emptyQuery",length:4},exports.copyDone={name:"copyDone",length:4};class DatabaseError extends Error{constructor(message,length,name){super(message),this.length=length,this.name=name}}exports.DatabaseError=DatabaseError;exports.CopyDataMessage=class{constructor(length,chunk){this.length=length,this.chunk=chunk,this.name="copyData"}};exports.CopyResponse=class{constructor(length,name,binary,columnCount){this.length=length,this.name=name,this.binary=binary,this.columnTypes=new Array(columnCount)}};exports.Field=class{constructor(name,tableID,columnID,dataTypeID,dataTypeSize,dataTypeModifier,format){this.name=name,this.tableID=tableID,this.columnID=columnID,this.dataTypeID=dataTypeID,this.dataTypeSize=dataTypeSize,this.dataTypeModifier=dataTypeModifier,this.format=format}};exports.RowDescriptionMessage=class{constructor(length,fieldCount){this.length=length,this.fieldCount=fieldCount,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};exports.ParameterStatusMessage=class{constructor(length,parameterName,parameterValue){this.length=length,this.parameterName=parameterName,this.parameterValue=parameterValue,this.name="parameterStatus"}};exports.AuthenticationMD5Password=class{constructor(length,salt){this.length=length,this.salt=salt,this.name="authenticationMD5Password"}};exports.BackendKeyDataMessage=class{constructor(length,processID,secretKey){this.length=length,this.processID=processID,this.secretKey=secretKey,this.name="backendKeyData"}};exports.NotificationResponseMessage=class{constructor(length,processId,channel,payload){this.length=length,this.processId=processId,this.channel=channel,this.payload=payload,this.name="notification"}};exports.ReadyForQueryMessage=class{constructor(length,status){this.length=length,this.status=status,this.name="readyForQuery"}};exports.CommandCompleteMessage=class{constructor(length,text){this.length=length,this.text=text,this.name="commandComplete"}};exports.DataRowMessage=class{constructor(length,fields){this.length=length,this.fields=fields,this.name="dataRow",this.fieldCount=fields.length}};exports.NoticeMessage=class{constructor(length,message){this.length=length,this.message=message,this.name="notice"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const emptyBuffer=Buffer.allocUnsafe(0);exports.BufferReader=class{constructor(offset=0){this.offset=offset,this.buffer=emptyBuffer,this.encoding="utf-8"}setBuffer(offset,buffer){this.offset=offset,this.buffer=buffer}int16(){const result=this.buffer.readInt16BE(this.offset);return this.offset+=2,result}byte(){const result=this.buffer[this.offset];return this.offset++,result}int32(){const result=this.buffer.readInt32BE(this.offset);return this.offset+=4,result}string(length){const result=this.buffer.toString(this.encoding,this.offset,this.offset+length);return this.offset+=length,result}cstring(){const start=this.offset;let end=start;for(;0!==this.buffer[end++];);return this.offset=end,this.buffer.toString(this.encoding,start,end-1)}bytes(length){const result=this.buffer.slice(this.offset,this.offset+length);return this.offset+=length,result}}},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(29).EventEmitter,NOOP=function(){},removeWhere=(list,predicate)=>{const i=list.findIndex(predicate);return-1===i?void 0:list.splice(i,1)[0]};class IdleItem{constructor(client,idleListener,timeoutId){this.client=client,this.idleListener=idleListener,this.timeoutId=timeoutId}}class PendingItem{constructor(callback){this.callback=callback}}function promisify(Promise,callback){if(callback)return{callback:callback,result:void 0};let rej,res;return{callback:function(err,client){err?rej(err):res(client)},result:new Promise((function(resolve,reject){res=resolve,rej=reject}))}}module.exports=class extends EventEmitter{constructor(options,Client){super(),this.options=Object.assign({},options),null!=options&&"password"in options&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:options.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.log=this.options.log||function(){},this.Client=this.options.Client||Client||__webpack_require__(57).Client,this.Promise=this.options.Promise||global.Promise,void 0===this.options.idleTimeoutMillis&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending)return this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(item=>{this._remove(item.client)}),void(this._clients.length||(this.ended=!0,this._endCallback()));if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;const pendingItem=this._pendingQueue.shift();if(this._idle.length){const idleItem=this._idle.pop();clearTimeout(idleItem.timeoutId);const client=idleItem.client,idleListener=idleItem.idleListener;return this._acquireClient(client,pendingItem,idleListener,!1)}if(!this._isFull())return this.newClient(pendingItem);throw new Error("unexpected condition")}_remove(client){const removed=removeWhere(this._idle,item=>item.client===client);void 0!==removed&&clearTimeout(removed.timeoutId),this._clients=this._clients.filter(c=>c!==client),client.end(),this.emit("remove",client)}connect(cb){if(this.ending){const err=new Error("Cannot use a pool after calling end on the pool");return cb?cb(err):this.Promise.reject(err)}const response=promisify(this.Promise,cb),result=response.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new PendingItem(response.callback)),result;const queueCallback=(err,res,done)=>{clearTimeout(tid),response.callback(err,res,done)},pendingItem=new PendingItem(queueCallback),tid=setTimeout(()=>{removeWhere(this._pendingQueue,i=>i.callback===queueCallback),pendingItem.timedOut=!0,response.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(pendingItem),result}return this.newClient(new PendingItem(response.callback)),result}newClient(pendingItem){const client=new this.Client(this.options);this._clients.push(client);const idleListener=function(pool,client){return function idleListener(err){err.client=client,client.removeListener("error",idleListener),client.on("error",()=>{pool.log("additional client error after disconnection due to error",err)}),pool._remove(client),pool.emit("error",err,client)}}(this,client);let tid;this.log("checking client timeout");let timeoutHit=!1;this.options.connectionTimeoutMillis&&(tid=setTimeout(()=>{this.log("ending client due to timeout"),timeoutHit=!0,client.connection?client.connection.stream.destroy():client.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),client.connect(err=>{if(tid&&clearTimeout(tid),client.on("error",idleListener),!err)return this.log("new client connected"),this._acquireClient(client,pendingItem,idleListener,!0);this.log("client failed to connect",err),this._clients=this._clients.filter(c=>c!==client),timeoutHit&&(err.message="Connection terminated due to connection timeout"),this._pulseQueue(),pendingItem.timedOut||pendingItem.callback(err,void 0,NOOP)})}_acquireClient(client,pendingItem,idleListener,isNew){isNew&&this.emit("connect",client),this.emit("acquire",client),client.release=this._releaseOnce(client,idleListener),client.removeListener("error",idleListener),pendingItem.timedOut?isNew&&this.options.verify?this.options.verify(client,client.release):client.release():isNew&&this.options.verify?this.options.verify(client,err=>{if(err)return client.release(err),pendingItem.callback(err,void 0,NOOP);pendingItem.callback(void 0,client,client.release)}):pendingItem.callback(void 0,client,client.release)}_releaseOnce(client,idleListener){let released=!1;return err=>{released&&function(){throw new Error("Release called on client which has already been released to the pool.")}(),released=!0,this._release(client,idleListener,err)}}_release(client,idleListener,err){if(client.on("error",idleListener),client._poolUseCount=(client._poolUseCount||0)+1,err||this.ending||!client._queryable||client._ending||client._poolUseCount>=this.options.maxUses)return client._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(client),void this._pulseQueue();let tid;this.options.idleTimeoutMillis&&(tid=setTimeout(()=>{this.log("remove idle client"),this._remove(client)},this.options.idleTimeoutMillis)),this._idle.push(new IdleItem(client,idleListener,tid)),this._pulseQueue()}query(text,values,cb){if("function"==typeof text){const response=promisify(this.Promise,text);return setImmediate((function(){return response.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))})),response.result}"function"==typeof values&&(cb=values,values=void 0);const response=promisify(this.Promise,cb);return cb=response.callback,this.connect((err,client)=>{if(err)return cb(err);let clientReleased=!1;const onError=err=>{clientReleased||(clientReleased=!0,client.release(err),cb(err))};client.once("error",onError),this.log("dispatching query"),client.query(text,values,(err,res)=>{if(this.log("query dispatched"),client.removeListener("error",onError),!clientReleased)return clientReleased=!0,client.release(err),err?cb(err):cb(void 0,res)})}),response.result}end(cb){if(this.log("ending"),this.ending){const err=new Error("Called end on pool more than once");return cb?cb(err):this.Promise.reject(err)}this.ending=!0;const promised=promisify(this.Promise,cb);return this._endCallback=promised.callback,this._pulseQueue(),promised.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}}},function(module,exports,__webpack_require__){"use strict";var EventEmitter=__webpack_require__(29).EventEmitter,util=__webpack_require__(17),utils=__webpack_require__(111),sasl=__webpack_require__(169),pgPass=__webpack_require__(170),TypeOverrides=__webpack_require__(172),ConnectionParameters=__webpack_require__(173),Query=__webpack_require__(174),defaults=__webpack_require__(70),Connection=__webpack_require__(112),Client=function(config){EventEmitter.call(this),this.connectionParameters=new ConnectionParameters(config),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var c=config||{};this._Promise=c.Promise||global.Promise,this._types=new TypeOverrides(c.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=c.connection||new Connection({stream:c.stream,ssl:this.connectionParameters.ssl,keepAlive:c.keepAlive||!1,keepAliveInitialDelayMillis:c.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=c.binary||defaults.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=c.connectionTimeoutMillis||0};util.inherits(Client,EventEmitter),Client.prototype._errorAllQueries=function(err){const enqueueError=query=>{process.nextTick(()=>{query.handleError(err,this.connection)})};this.activeQuery&&(enqueueError(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(enqueueError),this.queryQueue.length=0},Client.prototype._connect=function(callback){var connectionTimeoutHandle,saslSession,self=this,con=this.connection;if(this._connecting||this._connected){const err=new Error("Client has already been connected. You cannot reuse a client.");return void process.nextTick(()=>{callback(err)})}function checkPgPass(cb){return function(msg){"function"==typeof self.password?self._Promise.resolve().then(()=>self.password()).then(pass=>{if(void 0!==pass){if("string"!=typeof pass)return void con.emit("error",new TypeError("Password must be a string"));self.connectionParameters.password=self.password=pass}else self.connectionParameters.password=self.password=null;cb(msg)}).catch(err=>{con.emit("error",err)}):null!==self.password?cb(msg):pgPass(self.connectionParameters,(function(pass){void 0!==pass&&(self.connectionParameters.password=self.password=pass),cb(msg)}))}}this._connecting=!0,this._connectionTimeoutMillis>0&&(connectionTimeoutHandle=setTimeout(()=>{con._ending=!0,con.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?con.connect(this.host+"/.s.PGSQL."+this.port):con.connect(this.port,this.host),con.on("connect",(function(){self.ssl?con.requestSsl():con.startup(self.getStartupConf())})),con.on("sslconnect",(function(){con.startup(self.getStartupConf())})),con.on("authenticationCleartextPassword",checkPgPass((function(){con.password(self.password)}))),con.on("authenticationMD5Password",checkPgPass((function(msg){con.password(utils.postgresMd5PasswordHash(self.user,self.password,msg.salt))}))),con.on("authenticationSASL",checkPgPass((function(msg){saslSession=sasl.startSession(msg.mechanisms),con.sendSASLInitialResponseMessage(saslSession.mechanism,saslSession.response)}))),con.on("authenticationSASLContinue",(function(msg){sasl.continueSession(saslSession,self.password,msg.data),con.sendSCRAMClientFinalMessage(saslSession.response)})),con.on("authenticationSASLFinal",(function(msg){sasl.finalizeSession(saslSession,msg.data),saslSession=null})),con.once("backendKeyData",(function(msg){self.processID=msg.processID,self.secretKey=msg.secretKey}));const connectingErrorHandler=err=>{if(!this._connectionError){if(this._connectionError=!0,clearTimeout(connectionTimeoutHandle),callback)return callback(err);this.emit("error",err)}},connectedErrorHandler=err=>{this._queryable=!1,this._errorAllQueries(err),this.emit("error",err)},connectedErrorMessageHandler=msg=>{const activeQuery=this.activeQuery;activeQuery?(this.activeQuery=null,activeQuery.handleError(msg,con)):connectedErrorHandler(msg)};con.on("error",connectingErrorHandler),con.on("errorMessage",connectingErrorHandler),con.once("readyForQuery",(function(){self._connecting=!1,self._connected=!0,self._attachListeners(con),con.removeListener("error",connectingErrorHandler),con.removeListener("errorMessage",connectingErrorHandler),con.on("error",connectedErrorHandler),con.on("errorMessage",connectedErrorMessageHandler),clearTimeout(connectionTimeoutHandle),callback&&(callback(null,self),callback=null),self.emit("connect")})),con.on("readyForQuery",(function(){var activeQuery=self.activeQuery;self.activeQuery=null,self.readyForQuery=!0,activeQuery&&activeQuery.handleReadyForQuery(con),self._pulseQueryQueue()})),con.once("end",()=>{const error=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(connectionTimeoutHandle),this._errorAllQueries(error),this._ending||(this._connecting&&!this._connectionError?callback?callback(error):connectedErrorHandler(error):this._connectionError||connectedErrorHandler(error)),process.nextTick(()=>{this.emit("end")})}),con.on("notice",(function(msg){self.emit("notice",msg)}))},Client.prototype.connect=function(callback){if(!callback)return new this._Promise((resolve,reject)=>{this._connect(error=>{error?reject(error):resolve()})});this._connect(callback)},Client.prototype._attachListeners=function(con){const self=this;con.on("rowDescription",(function(msg){self.activeQuery.handleRowDescription(msg)})),con.on("dataRow",(function(msg){self.activeQuery.handleDataRow(msg)})),con.on("portalSuspended",(function(msg){self.activeQuery.handlePortalSuspended(con)})),con.on("emptyQuery",(function(msg){self.activeQuery.handleEmptyQuery(con)})),con.on("commandComplete",(function(msg){self.activeQuery.handleCommandComplete(msg,con)})),con.on("parseComplete",(function(msg){self.activeQuery.name&&(con.parsedStatements[self.activeQuery.name]=self.activeQuery.text)})),con.on("copyInResponse",(function(msg){self.activeQuery.handleCopyInResponse(self.connection)})),con.on("copyData",(function(msg){self.activeQuery.handleCopyData(msg,self.connection)})),con.on("notification",(function(msg){self.emit("notification",msg)}))},Client.prototype.getStartupConf=function(){var params=this.connectionParameters,data={user:params.user,database:params.database},appName=params.application_name||params.fallback_application_name;return appName&&(data.application_name=appName),params.replication&&(data.replication=""+params.replication),params.statement_timeout&&(data.statement_timeout=String(parseInt(params.statement_timeout,10))),params.idle_in_transaction_session_timeout&&(data.idle_in_transaction_session_timeout=String(parseInt(params.idle_in_transaction_session_timeout,10))),data},Client.prototype.cancel=function(client,query){if(client.activeQuery===query){var con=this.connection;this.host&&0===this.host.indexOf("/")?con.connect(this.host+"/.s.PGSQL."+this.port):con.connect(this.port,this.host),con.on("connect",(function(){con.cancel(client.processID,client.secretKey)}))}else-1!==client.queryQueue.indexOf(query)&&client.queryQueue.splice(client.queryQueue.indexOf(query),1)},Client.prototype.setTypeParser=function(oid,format,parseFn){return this._types.setTypeParser(oid,format,parseFn)},Client.prototype.getTypeParser=function(oid,format){return this._types.getTypeParser(oid,format)},Client.prototype.escapeIdentifier=function(str){return'"'+str.replace(/"/g,'""')+'"'},Client.prototype.escapeLiteral=function(str){for(var hasBackslash=!1,escaped="'",i=0;i<str.length;i++){var c=str[i];"'"===c?escaped+=c+c:"\\"===c?(escaped+=c+c,hasBackslash=!0):escaped+=c}return escaped+="'",!0===hasBackslash&&(escaped=" E"+escaped),escaped},Client.prototype._pulseQueryQueue=function(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const queryError=this.activeQuery.submit(this.connection);queryError&&process.nextTick(()=>{this.activeQuery.handleError(queryError,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))},Client.prototype.query=function(config,values,callback){var query,result,readTimeout,readTimeoutTimer,queryCallback;if(null==config)throw new TypeError("Client was passed a null or undefined query");return"function"==typeof config.submit?(readTimeout=config.query_timeout||this.connectionParameters.query_timeout,result=query=config,"function"==typeof values&&(query.callback=query.callback||values)):(readTimeout=this.connectionParameters.query_timeout,(query=new Query(config,values,callback)).callback||(result=new this._Promise((resolve,reject)=>{query.callback=(err,res)=>err?reject(err):resolve(res)}))),readTimeout&&(queryCallback=query.callback,readTimeoutTimer=setTimeout(()=>{var error=new Error("Query read timeout");process.nextTick(()=>{query.handleError(error,this.connection)}),queryCallback(error),query.callback=()=>{};var index=this.queryQueue.indexOf(query);index>-1&&this.queryQueue.splice(index,1),this._pulseQueryQueue()},readTimeout),query.callback=(err,res)=>{clearTimeout(readTimeoutTimer),queryCallback(err,res)}),this.binary&&!query.binary&&(query.binary=!0),query._result&&!query._result._types&&(query._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{query.handleError(new Error("Client was closed and is not queryable"),this.connection)}),result):(this.queryQueue.push(query),this._pulseQueryQueue(),result):(process.nextTick(()=>{query.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),result)},Client.prototype.end=function(cb){if(this._ending=!0,!this.connection._connecting){if(!cb)return this._Promise.resolve();cb()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!cb)return new this._Promise(resolve=>{this.connection.once("end",resolve)});this.connection.once("end",cb)},Client.Query=Query,module.exports=Client},function(module,exports,__webpack_require__){var debounce=__webpack_require__(408),isObject=__webpack_require__(40);module.exports=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(40),now=__webpack_require__(409),toNumber=__webpack_require__(137),nativeMax=Math.max,nativeMin=Math.min;module.exports=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}},function(module,exports,__webpack_require__){var root=__webpack_require__(38);module.exports=function(){return root.Date.now()}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(411),map=__webpack_require__(413);module.exports=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(105),isFlattenable=__webpack_require__(412);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(65),isArguments=__webpack_require__(107),isArray=__webpack_require__(34),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(102),baseIteratee=__webpack_require__(144),baseMap=__webpack_require__(414),isArray=__webpack_require__(34);module.exports=function(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(415),isArrayLike=__webpack_require__(66);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(416),baseEach=__webpack_require__(419)(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(417),keys=__webpack_require__(106);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(418)();module.exports=baseFor},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(66);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},function(module,exports,__webpack_require__){"use strict";module.exports={makeIntrospectionQuery:function(serverVersionNum,options={}){const{pgLegacyFunctionsOnly:pgLegacyFunctionsOnly=!1,pgIgnoreRBAC:pgIgnoreRBAC=!0}=options;return`-- @see https://www.postgresql.org/docs/9.5/static/catalogs.html\n-- @see https://github.com/graphile/graphile-engine/blob/master/packages/graphile-build-pg/src/plugins/introspectionQuery.js\n--\n-- ## Parameters\n-- - \`$1\`: An array of strings that represent the namespaces we are introspecting.\n-- - \`$2\`: set true to include functions/tables/etc that come from extensions\nwith\n  ${pgIgnoreRBAC?"":"recursive"} accessible_roles(_oid) as (\n    select oid _oid, pg_roles.*\n    from pg_roles\n    where rolname = current_user\n    ${pgIgnoreRBAC?"":"\n    union all\n      select pg_roles.oid _oid, pg_roles.*\n      from pg_roles, accessible_roles, pg_auth_members\n      where pg_auth_members.roleid = pg_roles.oid\n        and pg_auth_members.member = accessible_roles._oid \n  "}\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-namespace.html\n  namespace as (\n    select\n      'namespace' as "kind",\n      nsp.oid as "id",\n      nsp.nspname as "name",\n      dsc.description as "description"\n    from\n      pg_catalog.pg_namespace as nsp\n      left join pg_catalog.pg_description as dsc on dsc.objoid = nsp.oid and dsc.classoid = 'pg_catalog.pg_namespace'::regclass\n    where\n      nsp.nspname = any ($1)\n    order by\n      nsp.nspname\n  ),\n  -- Select all of the remote procedures we can use in this schema. This comes\n  -- first so that we can select types and classes using the information we get\n  -- from it.\n  --\n  -- @see https://www.postgresql.org/docs/9.6/static/catalog-pg-proc.html\n  procedure as (\n    select\n      'procedure' as "kind",\n      pro.oid as "id",\n      pro.proname as "name",\n      dsc.description as "description",\n      pro.pronamespace as "namespaceId",\n      nsp.nspname as "namespaceName",\n      pro.proisstrict as "isStrict",\n      pro.proretset as "returnsSet",\n      case\n        when pro.provolatile = 'i' then true\n        when pro.provolatile = 's' then true\n        else false\n      end as "isStable",\n      pro.prorettype as "returnTypeId",\n      coalesce(pro.proallargtypes, pro.proargtypes) as "argTypeIds",\n      coalesce(pro.proargmodes, array[]::text[]) as "argModes",\n      coalesce(pro.proargnames, array[]::text[]) as "argNames",\n      pro.pronargs as "inputArgsCount",\n      pro.pronargdefaults as "argDefaultsNum",\n      pro.procost as "cost",\n      exists(select 1 from accessible_roles where has_function_privilege(accessible_roles.oid, pro.oid, 'EXECUTE')) as "aclExecutable",\n      (select lanname from pg_catalog.pg_language where pg_language.oid = pro.prolang) as "language"\n    from\n      pg_catalog.pg_proc as pro\n      left join pg_catalog.pg_description as dsc on dsc.objoid = pro.oid and dsc.classoid = 'pg_catalog.pg_proc'::regclass\n      left join pg_catalog.pg_namespace as nsp on nsp.oid = pro.pronamespace\n    where\n      pro.pronamespace in (select "id" from namespace) and\n      -- Currently we dont support functions with variadic arguments. In the\n      -- future we may, but for now lets just ignore functions with variadic\n      -- arguments.\n      -- TODO: Variadic arguments.\n      pro.provariadic = 0 and\n      -- Filter our aggregate functions and window functions.\n      ${serverVersionNum>=11e4?"pro.prokind = 'f'":"pro.proisagg = false and pro.proiswindow = false"} and\n      ${pgLegacyFunctionsOnly?"      -- We want to make sure the argument mode for all of our arguments is\n      -- `IN` which means `proargmodes` will be null.\n      pro.proargmodes is null and\n      -- Do not select procedures that return `RECORD` (oid 2249).\n      pro.prorettype operator(pg_catalog.<>) 2249 and":"      -- We want to make sure the argument modes for all of our arguments are\n      -- `IN`, `OUT`, `INOUT`, or `TABLE` (not `VARIADIC`).\n      (pro.proargmodes is null or pro.proargmodes operator(pg_catalog.<@) array['i','o','b','t']::\"char\"[]) and\n      -- Do not select procedures that return `RECORD` (oid 2249) unless they\n      -- have `OUT`, `INOUT`, or `TABLE` arguments to define the return type.\n      (pro.prorettype operator(pg_catalog.<>) 2249 or pro.proargmodes && array['o','b','t']::\"char\"[]) and\n      -- Do not select procedures that have `RECORD` arguments.\n      (pro.proallargtypes is null or not (pro.proallargtypes operator(pg_catalog.@>) array[2249::oid])) and"}\n      -- Do not select procedures that create range types. These are utility\n      -- functions that really dont need to be exposed in an API.\n      pro.proname not in (\n        select typ.typname\n        from pg_catalog.pg_type as typ\n        where typ.typtype = 'r'\n        and typ.typnamespace = pro.pronamespace\n      ) and\n      -- Do not expose trigger functions (type trigger has oid 2279)\n      pro.prorettype operator(pg_catalog.<>) 2279 and\n      -- We don't want functions that will clash with GraphQL (treat them as private)\n      pro.proname not like E'\\\\_\\\\_%' and\n      -- We also dont want procedures that have been defined in our namespace\n      -- twice. This leads to duplicate fields in the API which throws an\n      -- error. In the future we may support this case. For now though, it is\n      -- too complex.\n      (\n        select count(pro2.*)\n        from pg_catalog.pg_proc as pro2\n        where pro2.pronamespace = pro.pronamespace\n        and pro2.proname = pro.proname\n      ) = 1 and\n      ($2 is true or not exists(\n        select 1\n        from pg_catalog.pg_depend\n        where pg_depend.refclassid = 'pg_catalog.pg_extension'::pg_catalog.regclass\n        and pg_depend.deptype = 'e'\n        and pg_depend.classid = 'pg_catalog.pg_proc'::pg_catalog.regclass\n        and pg_depend.objid = pro.oid\n      ))\n    order by\n      pro.pronamespace, pro.proname\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-class.html\n  class as (\n    select\n      'class' as "kind",\n      rel.oid as "id",\n      rel.relname as "name",\n      rel.relkind as "classKind",\n      dsc.description as "description",\n      rel.relnamespace as "namespaceId",\n      nsp.nspname as "namespaceName",\n      rel.reltype as "typeId",\n      -- Here we determine whether or not we can use this class in a\n      -- \`SELECT\`s \`FROM\` clause. In order to determine this we look at them\n      -- \`relkind\` column, if it is \`i\` (index) or \`c\` (composite), we cannot\n      -- select this class. Otherwise we can.\n      rel.relkind not in ('i', 'c') as "isSelectable",\n      -- Here we are determining whether we can insert/update/delete a class.\n      -- This is helpful as it lets us detect non-updatable views and then\n      -- exclude them from being inserted/updated/deleted into. For more info\n      -- on how \`pg_catalog.pg_relation_is_updatable\` works:\n      --\n      -- - https://www.postgresql.org/message-id/CAEZATCV2_qN9P3zbvADwME_TkYf2gR_X2cLQR4R+pqkwxGxqJg@mail.gmail.com\n      -- - https://github.com/postgres/postgres/blob/2410a2543e77983dab1f63f48b2adcd23dba994e/src/backend/utils/adt/misc.c#L684\n      -- - https://github.com/postgres/postgres/blob/3aff33aa687e47d52f453892498b30ac98a296af/src/backend/rewrite/rewriteHandler.c#L2351\n      (pg_catalog.pg_relation_is_updatable(rel.oid, true)::bit(8) operator(pg_catalog.&) B'00010000') = B'00010000' as "isDeletable",\n      (pg_catalog.pg_relation_is_updatable(rel.oid, true)::bit(8) operator(pg_catalog.&) B'00001000') = B'00001000' as "isInsertable",\n      (pg_catalog.pg_relation_is_updatable(rel.oid, true)::bit(8) operator(pg_catalog.&) B'00000100') = B'00000100' as "isUpdatable",\n      exists(select 1 from accessible_roles where has_table_privilege(accessible_roles.oid, rel.oid, 'SELECT')) as "aclSelectable",\n      exists(select 1 from accessible_roles where has_table_privilege(accessible_roles.oid, rel.oid, 'INSERT')) as "aclInsertable",\n      exists(select 1 from accessible_roles where has_table_privilege(accessible_roles.oid, rel.oid, 'UPDATE')) as "aclUpdatable",\n      exists(select 1 from accessible_roles where has_table_privilege(accessible_roles.oid, rel.oid, 'DELETE')) as "aclDeletable"\n    from\n      pg_catalog.pg_class as rel\n      left join pg_catalog.pg_description as dsc on dsc.objoid = rel.oid and dsc.objsubid = 0 and dsc.classoid = 'pg_catalog.pg_class'::regclass\n      left join pg_catalog.pg_namespace as nsp on nsp.oid = rel.relnamespace\n    where\n      rel.relpersistence in ('p') and\n      -- We don't want classes that will clash with GraphQL (treat them as private)\n      rel.relname not like E'\\\\_\\\\_%' and\n      rel.relkind in ('r', 'v', 'm', 'c', 'f') and\n      ($2 is true or not exists(\n        select 1\n        from pg_catalog.pg_depend\n        where pg_depend.refclassid = 'pg_catalog.pg_extension'::pg_catalog.regclass\n        and pg_depend.deptype = 'e'\n        and pg_depend.classid = 'pg_catalog.pg_class'::pg_catalog.regclass\n        and pg_depend.objid = rel.oid\n      ))\n    order by\n      rel.relnamespace, rel.relname\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-attribute.html\n  attribute as (\n    select\n      'attribute' as "kind",\n      att.attrelid as "classId",\n      att.attnum as "num",\n      att.attname as "name",\n      dsc.description as "description",\n      att.atttypid as "typeId",\n      nullif(att.atttypmod, -1) as "typeModifier",\n      att.attnotnull as "isNotNull",\n      att.atthasdef as "hasDefault",\n      ${serverVersionNum>=1e5?"att.attidentity":"''"} as "identity",\n      exists(select 1 from accessible_roles where has_column_privilege(accessible_roles.oid, att.attrelid, att.attname, 'SELECT')) as "aclSelectable",\n      exists(select 1 from accessible_roles where has_column_privilege(accessible_roles.oid, att.attrelid, att.attname, 'INSERT')) as "aclInsertable",\n      exists(select 1 from accessible_roles where has_column_privilege(accessible_roles.oid, att.attrelid, att.attname, 'UPDATE')) as "aclUpdatable",\n      -- https://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=c62dd80cdf149e2792b13c13777a539f5abb0370\n      att.attacl is not null and exists(select 1 from aclexplode(att.attacl) aclitem where aclitem.privilege_type = 'SELECT' and grantee in (select oid from accessible_roles)) as "columnLevelSelectGrant"\n    from\n      pg_catalog.pg_attribute as att\n      left join pg_catalog.pg_description as dsc on dsc.objoid = att.attrelid and dsc.objsubid = att.attnum and dsc.classoid = 'pg_catalog.pg_class'::regclass\n    where\n      att.attrelid in (select "id" from class) and\n      att.attnum > 0 and\n      -- We don't want attributes that will clash with GraphQL (treat them as private)\n      att.attname not like E'\\\\_\\\\_%' and\n      not att.attisdropped\n    order by\n      att.attrelid, att.attnum\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-type.html\n  type as (\n    -- Use another \`WITH\` statement here, because our \`WHERE\` clause will need\n    -- to use it.\n    with type_all as (\n      select\n        'type' as "kind",\n        typ.oid as "id",\n        typ.typname as "name",\n        dsc.description as "description",\n        typ.typnamespace as "namespaceId",\n        -- We include the namespace name in types only because we select so\n        -- many types that are outside of our core set of namespaces. Having\n        -- the namespace name is super helpful when generating SQL, so\n        -- conditionally having namespace names for types is a pain.\n        nsp.nspname as "namespaceName",\n        typ.typtype as "type",\n        typ.typcategory as "category",\n        typ.typnotnull as "domainIsNotNull",\n        nullif(typ.typelem, 0) as "arrayItemTypeId",\n        typ.typlen as "typeLength",\n        (typ.typelem <> 0 and typ.typlen = -1) as "isPgArray",\n        nullif(typ.typrelid, 0) as "classId",\n        nullif(typ.typbasetype, 0) as "domainBaseTypeId",\n        nullif(typ.typtypmod, -1) as "domainTypeModifier",\n        typ.typdefaultbin is not null as "domainHasDefault",\n        -- If this type is an enum type, lets select all of its enum variants.\n        --\n        -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-enum.html\n        case\n          when typ.typtype = 'e' then array(\n            select enm.enumlabel\n            from pg_catalog.pg_enum as enm\n            where enm.enumtypid = typ.oid\n            order by enm.enumsortorder\n          )\n          else null\n        end as "enumVariants",\n        -- If this type is a range type, we want to select the sub type of the\n        -- range.\n        --\n        -- @see https://www.postgresql.org/docs/9.6/static/catalog-pg-range.html\n        case\n          when typ.typtype = 'r' then (\n            select rng.rngsubtype\n            from pg_catalog.pg_range as rng\n            where rng.rngtypid = typ.oid\n            limit 1\n          )\n          else null\n        end as "rangeSubTypeId"\n      from\n        pg_catalog.pg_type as typ\n        left join pg_catalog.pg_description as dsc on dsc.objoid = typ.oid and dsc.classoid = 'pg_catalog.pg_type'::regclass\n        left join pg_catalog.pg_namespace as nsp on nsp.oid = typ.typnamespace\n    )\n    select\n      *\n    from\n      type_all as typ\n    where\n      typ.id in (\n        select "typeId" from class\n      union all\n        select "typeId" from attribute\n      union all\n        select "returnTypeId" from procedure\n      union all\n        select unnest("argTypeIds") from procedure\n      union all\n      -- If this type is a base type for *any* domain type, we will include it\n      -- in our selection. This may mean we fetch more types than we need, but\n      -- the alternative is to do some funky SQL recursion which would be hard\n      -- code to read. So we prefer code readability over selecting like 3 or\n      -- 4 less type rows.\n      --\n      -- We also do this for range sub types and array item types.\n        select "domainBaseTypeId" from type_all\n      union all\n        select "rangeSubTypeId" from type_all\n      union all\n        select "arrayItemTypeId" from type_all\n      )\n    order by\n      "namespaceId", "name"\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-constraint.html\n  "constraint" as (\n    select distinct on (con.conrelid, con.conkey, con.confrelid, con.confkey)\n      'constraint' as "kind",\n      con.oid as "id",\n      con.conname as "name",\n      con.contype as "type",\n      con.conrelid as "classId",\n      nullif(con.confrelid, 0) as "foreignClassId",\n      dsc.description as "description",\n      con.conkey as "keyAttributeNums",\n      con.confkey as "foreignKeyAttributeNums"\n    from\n      pg_catalog.pg_constraint as con\n      inner join class on (con.conrelid = class.id)\n      left join pg_catalog.pg_description as dsc on dsc.objoid = con.oid and dsc.classoid = 'pg_catalog.pg_constraint'::regclass\n    where\n      -- Only get constraints for classes we have selected.\n      con.conrelid in (select "id" from class where "namespaceId" in (select "id" from namespace)) and\n      case\n        -- If this is a foreign key constraint, we want to ensure that the\n        -- foreign class is also in the list of classes we have already\n        -- selected.\n        when con.contype = 'f' then con.confrelid in (select "id" from class where "namespaceId" in (select "id" from namespace))\n        -- Otherwise, this should be true.\n        else true\n      end and\n      -- We only want foreign key, primary key, and unique constraints. We\n      -- made add support for more constraints in the future.\n      con.contype in ('f', 'p', 'u')\n    order by\n      con.conrelid, con.conkey, con.confrelid, con.confkey, con.conname\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-extension.html\n  "extension" as (\n    select\n      'extension' as "kind",\n      ext.oid as "id",\n      ext.extname as "name",\n      ext.extnamespace as "namespaceId",\n      nsp.nspname as "namespaceName",\n      ext.extrelocatable as "relocatable",\n      ext.extversion as "version",\n      ext.extconfig as "configurationClassIds",\n      dsc.description as "description"\n    from\n      pg_catalog.pg_extension as ext\n      left join pg_catalog.pg_description as dsc on dsc.objoid = ext.oid and dsc.classoid = 'pg_catalog.pg_extension'::regclass\n      left join pg_catalog.pg_namespace as nsp on nsp.oid = ext.extnamespace\n    order by\n      ext.extname, ext.oid\n  ),\n  -- @see https://www.postgresql.org/docs/9.5/static/catalog-pg-index.html\n  "indexes" as (\n    select\n      'index' as "kind",\n      idx.indexrelid as "id",\n      idx_more.relname as "name",\n      nsp.nspname as "namespaceName",\n      idx.indrelid as "classId",\n      idx.indnatts as "numberOfAttributes",\n      idx.indisunique as "isUnique",\n      idx.indisprimary as "isPrimary",\n      idx.indimmediate as "isImmediate", -- enforce uniqueness immediately on insert\n      idx.indisreplident as "isReplicaIdentity",\n      idx.indisvalid as "isValid", -- if false, don't use for queries\n      idx.indpred is not null as "isPartial", -- if true, index is not on on rows.\n      idx.indkey as "attributeNums",\n      am.amname as "indexType",\n      ${serverVersionNum>=90600?"      (\n        select array_agg(pg_index_column_has_property(idx.indexrelid,n::int2,'asc'))\n        from unnest(idx.indkey) with ordinality as ord(key,n)\n      ) as \"attributePropertiesAsc\",\n      (\n        select array_agg(pg_index_column_has_property(idx.indexrelid,n::int2,'nulls_first'))\n        from unnest(idx.indkey) with ordinality as ord(key,n)\n      ) as \"attributePropertiesNullsFirst\",":""}\n      dsc.description as "description"\n    from\n      pg_catalog.pg_index as idx\n      inner join pg_catalog.pg_class idx_more on (idx.indexrelid = idx_more.oid)\n      inner join class on (idx.indrelid = class.id)\n      inner join pg_catalog.pg_namespace as nsp on (nsp.oid = idx_more.relnamespace)\n      inner join pg_catalog.pg_am as am on (am.oid = idx_more.relam)\n      left join pg_catalog.pg_description as dsc on dsc.objoid = idx.indexrelid and dsc.objsubid = 0 and dsc.classoid = 'pg_catalog.pg_class'::regclass\n    where\n      idx.indislive is not false and\n      idx.indisexclusion is not true and -- exclusion index\n      idx.indcheckxmin is not true and -- always valid?\n      idx.indpred is null -- no partial index predicate\n    order by\n      idx.indrelid, idx.indexrelid\n  )\nselect row_to_json(x) as object from namespace as x\nunion all\nselect row_to_json(x) as object from class as x\nunion all\nselect row_to_json(x) as object from attribute as x\nunion all\nselect row_to_json(x) as object from type as x\nunion all\nselect row_to_json(x) as object from "constraint" as x\nunion all\nselect row_to_json(x) as object from procedure as x\nunion all\nselect row_to_json(x) as object from extension as x\nunion all\nselect row_to_json(x) as object from indexes as x\n;\n`}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _GraphQLJSON=_interopRequireDefault(__webpack_require__(422)),_postgresInterval=_interopRequireDefault(__webpack_require__(168));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function identity(value){return value}const parseCache=new(_interopRequireDefault(__webpack_require__(53)).default)({maxLength:500});function toHstoreString(str){return'"'+str.replace(/(["\\])/g,"\\$1")+'"'}exports.default=function(builder,{pgExtendedTypes:pgExtendedTypes=!0,pgSkipHstore:pgSkipHstore=!1,pgUseCustomNetworkScalars:pgUseCustomNetworkScalars=!1,disableIssue390Fix:disableIssue390Fix=!1}){builder.hook("build",build=>{const{pgIntrospectionResultsByKind:introspectionResultsByKind,getTypeByName:getTypeByName,pgSql:sql,inflection:inflection,graphql:graphql}=build,newWithHooks=(...args)=>build.newWithHooks(...args),addType=(...args)=>build.addType(...args),{GraphQLNonNull:GraphQLNonNull,GraphQLString:GraphQLString,GraphQLInt:GraphQLInt,GraphQLFloat:GraphQLFloat,GraphQLBoolean:GraphQLBoolean,GraphQLList:GraphQLList,GraphQLEnumType:GraphQLEnumType,GraphQLObjectType:GraphQLObjectType,GraphQLInputObjectType:GraphQLInputObjectType,GraphQLScalarType:GraphQLScalarType,isInputType:isInputType,getNamedType:getNamedType,Kind:Kind}=graphql,gqlTypeByTypeIdGenerator={},gqlInputTypeByTypeIdGenerator={};if(build.pgGqlTypeByTypeId||build.pgGqlInputTypeByTypeId)throw new Error("Sorry! This interface is no longer supported because it is not granular enough. It's not hard to port it to the new system - please contact Benjie and he'll walk you through it.");const gqlTypeByTypeIdAndModifier={...build.pgGqlTypeByTypeIdAndModifier},gqlInputTypeByTypeIdAndModifier={...build.pgGqlInputTypeByTypeIdAndModifier},isNull=val=>null==val||val.__isNull,pg2GqlMapper={},pg2gqlForType=type=>{if(pg2GqlMapper[type.id]){const map=pg2GqlMapper[type.id].map;return val=>isNull(val)?null:map(val)}if(type.domainBaseType)return pg2gqlForType(type.domainBaseType);if(type.isPgArray){const elementHandler=pg2gqlForType(type.arrayItemType);return val=>{if(isNull(val))return null;if(!Array.isArray(val))throw new Error(`Expected array when converting PostgreSQL data into GraphQL; failing type: '${type.namespaceName}.${type.name}'`);return val.map(elementHandler)}}return identity},gql2pg=(val,type,modifier)=>{if(void 0===modifier){let stack;try{throw new Error}catch(e){stack=e.stack}console.warn("gql2pg should be called with three arguments, the third being the type modifier (or `null`); "+(stack||"")),modifier=null}if(null==val)return sql.null;if(pg2GqlMapper[type.id])return pg2GqlMapper[type.id].unmap(val,modifier);if(type.domainBaseType)return gql2pg(val,type.domainBaseType,type.domainTypeModifier);if(type.isPgArray){if(!Array.isArray(val))throw new Error(`Expected array when converting GraphQL data into PostgreSQL data; failing type: '${type.namespaceName}.${type.name}' (type: ${null===type?"null":typeof type})`);return sql.fragment`array[${sql.join(val.map(v=>gql2pg(v,type.arrayItemType,modifier)),", ")}]::${sql.identifier(type.namespaceName)}.${sql.identifier(type.name)}`}return sql.value(val)},makeIntervalFields=()=>({seconds:{description:"A quantity of seconds. This is the only non-integer field, as all the other fields will dump their overflow into a smaller unit of time. Intervals dont have a smaller unit than seconds.",type:GraphQLFloat},minutes:{description:"A quantity of minutes.",type:GraphQLInt},hours:{description:"A quantity of hours.",type:GraphQLInt},days:{description:"A quantity of days.",type:GraphQLInt},months:{description:"A quantity of months.",type:GraphQLInt},years:{description:"A quantity of years.",type:GraphQLInt}}),GQLInterval=newWithHooks(GraphQLObjectType,{name:inflection.builtin("Interval"),description:"An interval of time that has passed where the smallest distinct unit is a second.",fields:makeIntervalFields()},{isIntervalType:!0});addType(GQLInterval,"graphile-build-pg built-in");const GQLIntervalInput=newWithHooks(GraphQLInputObjectType,{name:inflection.inputType(inflection.builtin("Interval")),description:"An interval of time that has passed where the smallest distinct unit is a second.",fields:makeIntervalFields()},{isIntervalInputType:!0});addType(GQLIntervalInput,"graphile-build-pg built-in");const stringType=(name,description)=>new GraphQLScalarType({name:name,description:description,serialize:value=>String(value),parseValue:value=>String(value),parseLiteral:ast=>{if(ast.kind!==Kind.STRING)throw new Error("Can only parse string values");return ast.value}}),BigFloat=stringType(inflection.builtin("BigFloat"),"A floating point number that requires more precision than IEEE 754 binary 64"),BitString=stringType(inflection.builtin("BitString"),"A string representing a series of binary bits");addType(BigFloat,"graphile-build-pg built-in"),addType(BitString,"graphile-build-pg built-in");const tweakToJson=fragment=>fragment,tweakToText=fragment=>sql.fragment`(${fragment})::text`,pgTweaksByTypeIdAndModifer={},pgTweaksByTypeId={...[1186,1082,1114,1184,1083,1266].reduce((memo,typeId)=>(memo[typeId]=tweakToText,memo),{}),20:tweakToText,1700:tweakToText,1082:tweakToJson,1114:tweakToJson,1184:tweakToJson,1083:tweakToJson,1266:tweakToJson,790:fragment=>sql.fragment`(${fragment})::numeric::text`},pgTweakFragmentForTypeAndModifier=(fragment,type,typeModifier=null,resolveData)=>{const typeModifierKey=null!=typeModifier?typeModifier:-1,tweaker=pgTweaksByTypeIdAndModifer[type.id]&&pgTweaksByTypeIdAndModifer[type.id][typeModifierKey]||pgTweaksByTypeId[type.id];if(tweaker)return tweaker(fragment,resolveData);if(type.domainBaseType)return pgTweakFragmentForTypeAndModifier(fragment,type.domainBaseType,type.domainBaseTypeModifier,resolveData);if(type.isPgArray){const error=new Error(`Internal graphile-build-pg error: should not attempt to tweak an array, please process array before tweaking (type: "${type.namespaceName}.${type.name}")`);return console.error(error),fragment}return fragment},SimpleDate=stringType(inflection.builtin("Date"),"The day, does not include a time."),SimpleDatetime=stringType(inflection.builtin("Datetime"),"A point in time as described by the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standard. May or may not include a timezone."),SimpleTime=stringType(inflection.builtin("Time"),"The exact time of day, does not include the date. May or may not have a timezone offset."),SimpleJSON=stringType(inflection.builtin("JSON"),"A JavaScript object encoded in the JSON format as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf)."),SimpleUUID=stringType(inflection.builtin("UUID"),"A universally unique identifier as defined by [RFC 4122](https://tools.ietf.org/html/rfc4122)."),InetType=stringType(inflection.builtin("InternetAddress"),"An IPv4 or IPv6 host address, and optionally its subnet."),CidrType=pgUseCustomNetworkScalars?stringType(inflection.builtin("CidrAddress"),"An IPv4 or IPv6 CIDR address."):GraphQLString,MacAddrType=pgUseCustomNetworkScalars?stringType(inflection.builtin("MacAddress"),"A 6-byte MAC address."):GraphQLString,MacAddr8Type=pgUseCustomNetworkScalars?stringType(inflection.builtin("MacAddress8"),"An 8-byte MAC address."):GraphQLString,JSONType=pgExtendedTypes?(0,_GraphQLJSON.default)(graphql,inflection.builtin("JSON")):SimpleJSON,UUIDType=SimpleUUID,DateType=SimpleDate,DateTimeType=SimpleDatetime,TimeType=SimpleTime,Point=newWithHooks(GraphQLObjectType,{name:inflection.builtin("Point"),fields:{x:{type:new GraphQLNonNull(GraphQLFloat)},y:{type:new GraphQLNonNull(GraphQLFloat)}}},{isPointType:!0}),PointInput=newWithHooks(GraphQLInputObjectType,{name:inflection.inputType(inflection.builtin("Point")),fields:{x:{type:new GraphQLNonNull(GraphQLFloat)},y:{type:new GraphQLNonNull(GraphQLFloat)}}},{isPointInputType:!0});addType(JSONType,"graphile-build-pg built-in"),addType(UUIDType,"graphile-build-pg built-in"),addType(DateType,"graphile-build-pg built-in"),addType(DateTimeType,"graphile-build-pg built-in"),addType(TimeType,"graphile-build-pg built-in");const oidLookup={20:stringType(inflection.builtin("BigInt"),"A signed eight-byte integer. The upper big integer values are greater than the max value for a JavaScript number. Therefore all big integers will be output as strings and not numbers."),21:GraphQLInt,23:GraphQLInt,700:GraphQLFloat,701:GraphQLFloat,1700:BigFloat,790:GraphQLFloat,1186:GQLInterval,1082:DateType,1114:DateTimeType,1184:DateTimeType,1083:TimeType,1266:TimeType,114:JSONType,3802:JSONType,2950:UUIDType,1560:BitString,1562:BitString,18:GraphQLString,25:GraphQLString,1043:GraphQLString,600:Point,869:InetType,650:CidrType,829:MacAddrType,774:MacAddr8Type},oidInputLookup={1186:GQLIntervalInput,600:PointInput},jsonStringify=o=>JSON.stringify(o);pg2GqlMapper[114]=pgExtendedTypes?{map:identity,unmap:o=>sql.value(jsonStringify(o))}:{map:jsonStringify,unmap:str=>sql.value(str)},pg2GqlMapper[3802]=pg2GqlMapper[114],pg2GqlMapper[1186]={map:str=>function(str){let result=parseCache.get(str);return result||(result=(0,_postgresInterval.default)(str),Object.freeze(result),parseCache.set(str,result)),result}(str),unmap:o=>{const keys=["seconds","minutes","hours","days","months","years"],parts=[];for(const key of keys)o[key]&&parts.push(`${o[key]} ${key}`);return sql.value(parts.join(" ")||"0 seconds")}},pg2GqlMapper[790]={map:_=>_,unmap:val=>sql.fragment`(${sql.value(val)})::money`},pg2GqlMapper[600]={map:f=>{if("("===f[0]&&")"===f[f.length-1]){const[x,y]=f.substr(1,f.length-2).split(",").map(f=>parseFloat(f));return{x:x,y:y}}},unmap:o=>sql.fragment`point(${sql.value(o.x)}, ${sql.value(o.y)})`};let depth=0;const reallyEnforceGqlTypeByPgTypeAndModifier=(type,typeModifier)=>{if(!type.id)throw new Error(`Invalid argument to enforceGqlTypeByPgTypeId - expected a full type, received '${type}'`);gqlTypeByTypeIdAndModifier[type.id]||(gqlTypeByTypeIdAndModifier[type.id]={}),gqlInputTypeByTypeIdAndModifier[type.id]||(gqlInputTypeByTypeIdAndModifier[type.id]={});const typeModifierKey=null!=typeModifier?typeModifier:-1;if(!gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]){const gqlType=oidLookup[type.id];gqlType&&(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=gqlType)}if(!gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]){const gqlInputType=oidInputLookup[type.id];gqlInputType&&(gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=gqlInputType)}if(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]||"e"!==type.type||(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=newWithHooks(GraphQLEnumType,{name:inflection.enumType(type),description:type.description,values:type.enumVariants.reduce((memo,value)=>(memo[inflection.enumName(value)]={value:value},memo),{})},{pgIntrospection:type,isPgEnumType:!0})),!gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]&&"r"===type.type){const subtype=introspectionResultsByKind.typeById[type.rangeSubTypeId],gqlRangeSubType=getGqlTypeByTypeIdAndModifier(subtype.id,typeModifier),gqlRangeInputSubType=getGqlInputTypeByTypeIdAndModifier(subtype.id,typeModifier);if(!gqlRangeSubType)throw new Error("Range of unsupported");if(!gqlRangeInputSubType)throw new Error("Range of unsupported input type");let RangeInput,Range=getTypeByName(inflection.rangeType(gqlRangeSubType.name));if(Range)RangeInput=getTypeByName(inflection.inputType(Range.name));else{const RangeBound=newWithHooks(GraphQLObjectType,{name:inflection.rangeBoundType(gqlRangeSubType.name),description:"The value at one end of a range. A range can either include this value, or not.",fields:{value:{description:"The value at one end of our range.",type:new GraphQLNonNull(gqlRangeSubType)},inclusive:{description:"Whether or not the value of this bound is included in the range.",type:new GraphQLNonNull(GraphQLBoolean)}}},{isPgRangeBoundType:!0,pgIntrospection:type,pgSubtypeIntrospection:subtype,pgTypeModifier:typeModifier}),RangeBoundInput=newWithHooks(GraphQLInputObjectType,{name:inflection.inputType(RangeBound.name),description:"The value at one end of a range. A range can either include this value, or not.",fields:{value:{description:"The value at one end of our range.",type:new GraphQLNonNull(gqlRangeInputSubType)},inclusive:{description:"Whether or not the value of this bound is included in the range.",type:new GraphQLNonNull(GraphQLBoolean)}}},{isPgRangeBoundInputType:!0,pgIntrospection:type,pgSubtypeIntrospection:subtype,pgTypeModifier:typeModifier});Range=newWithHooks(GraphQLObjectType,{name:inflection.rangeType(gqlRangeSubType.name),description:`A range of \`${gqlRangeSubType.name}\`.`,fields:{start:{description:"The starting bound of our range.",type:RangeBound},end:{description:"The ending bound of our range.",type:RangeBound}}},{isPgRangeType:!0,pgIntrospection:type,pgSubtypeIntrospection:subtype,pgTypeModifier:typeModifier}),RangeInput=newWithHooks(GraphQLInputObjectType,{name:inflection.inputType(Range.name),description:`A range of \`${gqlRangeSubType.name}\`.`,fields:{start:{description:"The starting bound of our range.",type:RangeBoundInput},end:{description:"The ending bound of our range.",type:RangeBoundInput}}},{isPgRangeInputType:!0,pgIntrospection:type,pgSubtypeIntrospection:subtype,pgTypeModifier:typeModifier}),addType(Range,"graphile-build-pg built-in"),addType(RangeInput,"graphile-build-pg built-in")}gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=Range,gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=RangeInput,void 0===pgTweaksByTypeIdAndModifer[type.id]&&(pgTweaksByTypeIdAndModifer[type.id]={}),pgTweaksByTypeIdAndModifer[type.id][typeModifierKey]=fragment=>sql.fragment`\
case
when (${fragment}) is null then null
else json_build_object(
  'start',
  case when lower(${fragment}) is null then null
  else json_build_object('value', ${pgTweakFragmentForTypeAndModifier(sql.fragment`lower(${fragment})`,subtype,typeModifier,{})}, 'inclusive', lower_inc(${fragment}))
  end,
  'end',
  case when upper(${fragment}) is null then null
  else json_build_object('value', ${pgTweakFragmentForTypeAndModifier(sql.fragment`upper(${fragment})`,subtype,typeModifier,{})}, 'inclusive', upper_inc(${fragment}))
  end
)
end`,pg2GqlMapper[type.id]={map:identity,unmap:({start:start,end:end})=>{const lower=start&&gql2pg(start.value,subtype,null)||sql.null,upper=end&&gql2pg(end.value,subtype,null)||sql.null,lowerInclusive=start&&!start.inclusive?"(":"[",upperInclusive=end&&!end.inclusive?")":"]";return sql.fragment`${sql.identifier(type.namespaceName,type.name)}(${lower}, ${upper}, ${sql.literal(lowerInclusive+upperInclusive)})`}}}if(!gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]&&"d"===type.type&&type.domainBaseTypeId){const baseType=getGqlTypeByTypeIdAndModifier(type.domainBaseTypeId,typeModifier),baseInputType=gqlInputTypeByTypeIdAndModifier[type.domainBaseTypeId][typeModifierKey];gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=Object.assign(Object.create(baseType),{name:inflection.domainType(type),description:type.description}),baseInputType&&baseInputType!==baseType&&(gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=Object.assign(Object.create(baseInputType),{name:inflection.inputType(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]),description:type.description}))}if(!gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]&&"A"===type.category){const arrayEntryOutputType=getGqlTypeByTypeIdAndModifier(type.arrayItemTypeId,typeModifier);if(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=new GraphQLList(arrayEntryOutputType),!disableIssue390Fix){const arrayEntryInputType=getGqlInputTypeByTypeIdAndModifier(type.arrayItemTypeId,typeModifier);arrayEntryInputType&&(gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=new GraphQLList(arrayEntryInputType))}}return gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]||"B"!==type.category||(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=GraphQLBoolean),gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]||"N"!==type.category||(pgTweaksByTypeId[type.id]=tweakToText,gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=BigFloat),gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]||(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=GraphQLString),gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]||isInputType(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey])&&(gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]),addType(getNamedType(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey])),gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]};function getGqlTypeByTypeIdAndModifier(typeId,typeModifier=null,useFallback=!0){const typeModifierKey=null!=typeModifier?typeModifier:-1;if(gqlTypeByTypeIdAndModifier[typeId]||(gqlTypeByTypeIdAndModifier[typeId]={}),gqlInputTypeByTypeIdAndModifier[typeId]||(gqlInputTypeByTypeIdAndModifier[typeId]={}),!gqlTypeByTypeIdAndModifier[typeId][typeModifierKey]){const type=introspectionResultsByKind.type.find(t=>t.id===typeId);if(!type)throw new Error(`Type '${typeId}' not present in introspection results`);const gen=gqlTypeByTypeIdGenerator[type.id];if(gen){const result=gen(Type=>{gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=Type},typeModifier);if(result){if(gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]&&gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]!==result)throw new Error(`Callback and return types differ when defining type for '${type.id}'`);gqlTypeByTypeIdAndModifier[type.id][typeModifierKey]=result}}}if(!gqlTypeByTypeIdAndModifier[typeId][typeModifierKey]&&typeModifierKey>-1){const fallback=getGqlTypeByTypeIdAndModifier(typeId,null,!1);if(fallback)return fallback}return useFallback&&!gqlTypeByTypeIdAndModifier[typeId][typeModifierKey]?((typeId,typeModifier)=>{const type=introspectionResultsByKind.type.find(t=>t.id===typeId);if(depth++,depth>50)throw new Error("Type enforcement went too deep - infinite loop?");try{return reallyEnforceGqlTypeByPgTypeAndModifier(type,typeModifier)}catch(e){const error=new Error(`Error occurred when processing database type '${type.namespaceName}.${type.name}' (type=${type.type}):\n${str=e.message,"  "+str.replace(/\n/g,"\n  ")}`);throw error.originalError=e,error}finally{depth--}var str})(typeId,typeModifier):gqlTypeByTypeIdAndModifier[typeId][typeModifierKey]}function getGqlInputTypeByTypeIdAndModifier(typeId,typeModifier=null){getGqlTypeByTypeIdAndModifier(typeId,typeModifier);const typeModifierKey=null!=typeModifier?typeModifier:-1;if(gqlInputTypeByTypeIdAndModifier[typeId]||(gqlInputTypeByTypeIdAndModifier[typeId]={}),!gqlInputTypeByTypeIdAndModifier[typeId][typeModifierKey]){const type=introspectionResultsByKind.typeById[typeId];if(!type)throw new Error(`Type '${typeId}' not present in introspection results`);const gen=gqlInputTypeByTypeIdGenerator[type.id];if(gen){const result=gen(Type=>{gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=Type},typeModifier);if(result){if(gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]&&gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]!==result)throw new Error(`Callback and return types differ when defining type for '${type.id}'`);gqlInputTypeByTypeIdAndModifier[type.id][typeModifierKey]=result}}}return!gqlInputTypeByTypeIdAndModifier[typeId][typeModifierKey]&&gqlTypeByTypeIdAndModifier[typeId]&&gqlTypeByTypeIdAndModifier[typeId][typeModifierKey]&&isInputType(gqlTypeByTypeIdAndModifier[typeId][typeModifierKey])&&(gqlInputTypeByTypeIdAndModifier[typeId][typeModifierKey]=gqlTypeByTypeIdAndModifier[typeId][typeModifierKey]),!gqlInputTypeByTypeIdAndModifier[typeId][typeModifierKey]&&typeModifierKey>-1?getGqlInputTypeByTypeIdAndModifier(typeId,null):gqlInputTypeByTypeIdAndModifier[typeId][typeModifierKey]}return build.extend(build,{pgRegisterGqlTypeByTypeId:function(typeId,gen,yieldToExisting=!1){if(gqlTypeByTypeIdGenerator[typeId]){if(yieldToExisting)return;throw new Error(`There's already a type generator registered for '${typeId}'`)}gqlTypeByTypeIdGenerator[typeId]=gen},pgRegisterGqlInputTypeByTypeId:function(typeId,gen,yieldToExisting=!1){if(gqlInputTypeByTypeIdGenerator[typeId]){if(yieldToExisting)return;throw new Error(`There's already an input type generator registered for '${typeId}'`)}gqlInputTypeByTypeIdGenerator[typeId]=gen},pgGetGqlTypeByTypeIdAndModifier:getGqlTypeByTypeIdAndModifier,pgGetGqlInputTypeByTypeIdAndModifier:getGqlInputTypeByTypeIdAndModifier,pg2GqlMapper:pg2GqlMapper,pg2gql:(val,type)=>pg2gqlForType(type)(val),pg2gqlForType:pg2gqlForType,gql2pg:gql2pg,pgTweakFragmentForTypeAndModifier:pgTweakFragmentForTypeAndModifier,pgTweaksByTypeId:pgTweaksByTypeId,pgTweaksByTypeIdAndModifer:pgTweaksByTypeIdAndModifer,pgGetGqlTypeByTypeId:function(typeId,typeModifier){return void 0===typeModifier&&console.warn("DEPRECATION WARNING: getGqlTypeByTypeId should not be used - for some columns we also require typeModifier to be specified. Please update your code ASAP to pass `attribute.typeModifier` through as the second parameter (or null if it's not available)."),getGqlTypeByTypeIdAndModifier(typeId,typeModifier)},pgGetGqlInputTypeByTypeId:function(typeId,typeModifier){return void 0===typeModifier&&console.warn("DEPRECATION WARNING: getGqlInputTypeByTypeId should not be used - for some columns we also require typeModifier to be specified. Please update your code ASAP to pass `attribute.typeModifier` through as the second parameter (or null if it's not available)."),getGqlInputTypeByTypeIdAndModifier(typeId,typeModifier)},pgTweakFragmentForType:function(fragment,type,typeModifier,resolveData){return void 0===typeModifier&&console.warn("DEPRECATION WARNING: pgTweakFragmentForType should not be used - for some columns we also require typeModifier to be specified. Please update your code ASAP to pass `attribute.typeModifier` through as the third parameter (or null if it's not available)."),pgTweakFragmentForTypeAndModifier(fragment,type,typeModifier,resolveData)}})},["PgTypes"],[],["PgIntrospection","StandardTypes"]),builder.hook("inflection",(inflection,build)=>pgSkipHstore?build:build.extend(inflection,{hstoreType:()=>"KeyValueHash"}),["PgTypesHstore"]),builder.hook("build",build=>{if(pgSkipHstore)return build;const{pgIntrospectionResultsByKind:introspectionResultsByKind,pgRegisterGqlTypeByTypeId:pgRegisterGqlTypeByTypeId,pgRegisterGqlInputTypeByTypeId:pgRegisterGqlInputTypeByTypeId,pg2GqlMapper:pg2GqlMapper,pgSql:sql,graphql:graphql}=build,hstoreExtension=introspectionResultsByKind.extension.find(e=>"hstore"===e.name);if(!hstoreExtension)return build;const hstoreType=introspectionResultsByKind.type.find(t=>"hstore"===t.name&&t.namespaceId===hstoreExtension.namespaceId);if(!hstoreType)return build;const GraphQLHStoreType=function(graphql,hstoreTypeName){const{GraphQLScalarType:GraphQLScalarType,Kind:Kind}=graphql;function isValidHstoreObject(obj){if(null===obj)return!0;if("object"==typeof obj){const keys=Object.keys(obj);for(const key of keys){const val=obj[key];if(null===val);else if("string"!=typeof val)return!1}return!0}return!1}return new GraphQLScalarType({name:hstoreTypeName,description:"A set of key/value pairs, keys are strings, values may be a string or null. Exposed as a JSON object.",serialize:identity,parseValue:function(obj){if(isValidHstoreObject(obj))return obj;throw new TypeError(`This is not a valid ${hstoreTypeName} object, it must be a key/value hash where keys and values are both strings (or null).`)},parseLiteral:function(ast,variables){switch(ast.kind){case Kind.OBJECT:{const value=ast.fields.reduce((memo,field)=>(memo[field.name.value]=function(ast,variables){switch(ast.kind){case Kind.INT:case Kind.FLOAT:return String(parseFloat(ast.value));case Kind.STRING:return String(ast.value);case Kind.NULL:return null;case Kind.VARIABLE:{const name=ast.name.value,value=variables?variables[name]:void 0;return null===value||"string"==typeof value?value:void 0}default:return}}(field.value,variables),memo),Object.create(null));if(!isValidHstoreObject(value))return;return value}case Kind.NULL:return null;case Kind.VARIABLE:{const name=ast.name.value,value=variables?variables[name]:void 0;if(!isValidHstoreObject(value))return;return value}default:return}}})}(graphql,build.inflection.hstoreType());return pgRegisterGqlTypeByTypeId(hstoreType.id,()=>GraphQLHStoreType),pgRegisterGqlInputTypeByTypeId(hstoreType.id,()=>GraphQLHStoreType),pg2GqlMapper[hstoreType.id]={map:identity,unmap:o=>sql.fragment`(${sql.value(function(o){if(null===o)return null;if("object"!=typeof o)throw new TypeError("Expected an hstore object");const keys=Object.keys(o);return keys.map(key=>{const value=o[key];return null===value?toHstoreString(key)+" => NULL":`${toHstoreString(key)} => ${toHstoreString(String(value))}`}).join(", ")}(o))}::${sql.identifier(hstoreType.namespaceName,hstoreType.name)})`},build},["PgTypesHstore"],[],["PgTypes"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(graphql,name){const{GraphQLScalarType:GraphQLScalarType,Kind:Kind}=graphql;function identity(value){return value}return new GraphQLScalarType({name:name,description:`The \`${name}\` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).`,serialize:identity,parseValue:identity,parseLiteral:function parseLiteral(ast,variables){switch(ast.kind){case Kind.STRING:case Kind.BOOLEAN:return ast.value;case Kind.INT:case Kind.FLOAT:return parseFloat(ast.value);case Kind.OBJECT:{const value=Object.create(null);return ast.fields.forEach(field=>{value[field.name.value]=parseLiteral(field.value,variables)}),value}case Kind.LIST:return ast.values.map(n=>parseLiteral(n,variables));case Kind.NULL:return null;case Kind.VARIABLE:{const name=ast.name.value;return variables?variables[name]:void 0}default:return}}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jsonwebtoken=__webpack_require__(114);exports.default=function(builder,{pgJwtTypeIdentifier:pgJwtTypeIdentifier,pgJwtSecret:pgJwtSecret,pgJwtSignOptions:pgJwtSignOptions}){builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,pgSql:sql,pgIntrospectionResultsByKind:introspectionResultsByKind,pgRegisterGqlTypeByTypeId:pgRegisterGqlTypeByTypeId,pg2GqlMapper:pg2GqlMapper,pgTweaksByTypeId:pgTweaksByTypeId,pgTweakFragmentForTypeAndModifier:pgTweakFragmentForTypeAndModifier,graphql:{GraphQLScalarType:GraphQLScalarType},inflection:inflection,pgParseIdentifier:parseIdentifier,describePgEntity:describePgEntity}=build;if(!pgJwtTypeIdentifier)return _;if(!pgJwtSecret)throw new Error("pgJwtTypeIdentifier was specified without pgJwtSecret");const{namespaceName:namespaceName,entityName:typeName}=parseIdentifier(pgJwtTypeIdentifier),compositeClass=introspectionResultsByKind.class.find(table=>!(table.isSelectable||table.isInsertable||table.isUpdatable||table.isDeletable||table.name!==typeName||table.namespaceName!==namespaceName));if(!compositeClass)throw new Error(`Could not find JWT type '"${namespaceName}"."${typeName}"'`);const compositeType=compositeClass.type;if(!compositeType)throw new Error("Could not determine the type for JWT type");if(pg2GqlMapper[compositeType.id])throw new Error("JWT type has already been overridden?");const attributes=compositeClass.attributes,compositeTypeName=inflection.tableType(compositeClass);return pgRegisterGqlTypeByTypeId(compositeType.id,cb=>{cb(newWithHooks(GraphQLScalarType,{name:compositeTypeName,description:"A JSON Web Token defined by [RFC 7519](https://tools.ietf.org/html/rfc7519) which securely represents claims between two parties.",serialize(value){const token=attributes.reduce((memo,attr)=>("exp"===attr.name?memo[attr.name]=value[attr.name]?parseFloat(value[attr.name]):void 0:memo[attr.name]=value[attr.name],memo),{});return(0,_jsonwebtoken.sign)(token,pgJwtSecret,Object.assign({},pgJwtSignOptions,token.aud||pgJwtSignOptions&&pgJwtSignOptions.audience?null:{audience:"postgraphile"},token.iss||pgJwtSignOptions&&pgJwtSignOptions.issuer?null:{issuer:"postgraphile"},token.exp||pgJwtSignOptions&&pgJwtSignOptions.expiresIn?null:{expiresIn:"1 day"}))}},{__origin:"Adding JWT type based on "+describePgEntity(compositeType),isPgJwtType:!0})),pg2GqlMapper[compositeType.id]={map:value=>{if(!value)return null;return Object.values(value).some(v=>null!=v)?value:null},unmap:()=>{throw new Error("We don't support passing a JWT token into GraphQL currently")}},pgTweaksByTypeId[compositeType.id]=fragment=>sql.fragment`json_build_object(${sql.join(compositeClass.attributes.map(attr=>sql.fragment`${sql.literal(attr.name)}::text, ${pgTweakFragmentForTypeAndModifier(sql.fragment`(${fragment}).${sql.identifier(attr.name)}`,attr.type,attr.typeModifier,{})}`),", ")})`}),_},["PgJWT"],[],["PgIntrospection"])}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(72).Buffer,DataStream=__webpack_require__(177),jwa=__webpack_require__(178),Stream=__webpack_require__(32),toString=__webpack_require__(179),util=__webpack_require__(17);function base64url(string,encoding){return Buffer.from(string,encoding).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jwsSign(opts){var header=opts.header,payload=opts.payload,secretOrKey=opts.secret||opts.privateKey,encoding=opts.encoding,algo=jwa(header.alg),securedInput=function(header,payload,encoding){encoding=encoding||"utf8";var encodedHeader=base64url(toString(header),"binary"),encodedPayload=base64url(toString(payload),encoding);return util.format("%s.%s",encodedHeader,encodedPayload)}(header,payload,encoding),signature=algo.sign(securedInput,secretOrKey);return util.format("%s.%s",securedInput,signature)}function SignStream(opts){var secret=opts.secret||opts.privateKey||opts.key,secretStream=new DataStream(secret);this.readable=!0,this.header=opts.header,this.encoding=opts.encoding,this.secret=this.privateKey=this.key=secretStream,this.payload=new DataStream(opts.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}util.inherits(SignStream,Stream),SignStream.prototype.sign=function(){try{var signature=jwsSign({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",signature),this.emit("data",signature),this.emit("end"),this.readable=!1,signature}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},SignStream.sign=jwsSign,module.exports=SignStream},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(41).Buffer,SlowBuffer=__webpack_require__(41).SlowBuffer;function bufferEq(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))return!1;if(a.length!==b.length)return!1;for(var c=0,i=0;i<a.length;i++)c|=a[i]^b[i];return 0===c}module.exports=bufferEq,bufferEq.install=function(){Buffer.prototype.equal=SlowBuffer.prototype.equal=function(that){return bufferEq(this,that)}};var origBufEqual=Buffer.prototype.equal,origSlowBufEqual=SlowBuffer.prototype.equal;bufferEq.restore=function(){Buffer.prototype.equal=origBufEqual,SlowBuffer.prototype.equal=origSlowBufEqual}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(72).Buffer,getParamBytesForAlg=__webpack_require__(427);function signatureAsBuffer(signature){if(Buffer.isBuffer(signature))return signature;if("string"==typeof signature)return Buffer.from(signature,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function countPadding(buf,start,stop){for(var padding=0;start+padding<stop&&0===buf[start+padding];)++padding;return buf[start+padding]>=128&&--padding,padding}module.exports={derToJose:function(signature,alg){signature=signatureAsBuffer(signature);var paramBytes=getParamBytesForAlg(alg),maxEncodedParamLength=paramBytes+1,inputLength=signature.length,offset=0;if(48!==signature[offset++])throw new Error('Could not find expected "seq"');var seqLength=signature[offset++];if(129===seqLength&&(seqLength=signature[offset++]),inputLength-offset<seqLength)throw new Error('"seq" specified length of "'+seqLength+'", only "'+(inputLength-offset)+'" remaining');if(2!==signature[offset++])throw new Error('Could not find expected "int" for "r"');var rLength=signature[offset++];if(inputLength-offset-2<rLength)throw new Error('"r" specified length of "'+rLength+'", only "'+(inputLength-offset-2)+'" available');if(maxEncodedParamLength<rLength)throw new Error('"r" specified length of "'+rLength+'", max of "'+maxEncodedParamLength+'" is acceptable');var rOffset=offset;if(offset+=rLength,2!==signature[offset++])throw new Error('Could not find expected "int" for "s"');var sLength=signature[offset++];if(inputLength-offset!==sLength)throw new Error('"s" specified length of "'+sLength+'", expected "'+(inputLength-offset)+'"');if(maxEncodedParamLength<sLength)throw new Error('"s" specified length of "'+sLength+'", max of "'+maxEncodedParamLength+'" is acceptable');var sOffset=offset;if((offset+=sLength)!==inputLength)throw new Error('Expected to consume entire buffer, but "'+(inputLength-offset)+'" bytes remain');var rPadding=paramBytes-rLength,sPadding=paramBytes-sLength,dst=Buffer.allocUnsafe(rPadding+rLength+sPadding+sLength);for(offset=0;offset<rPadding;++offset)dst[offset]=0;signature.copy(dst,offset,rOffset+Math.max(-rPadding,0),rOffset+rLength);for(var o=offset=paramBytes;offset<o+sPadding;++offset)dst[offset]=0;return signature.copy(dst,offset,sOffset+Math.max(-sPadding,0),sOffset+sLength),dst=(dst=dst.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(signature,alg){signature=signatureAsBuffer(signature);var paramBytes=getParamBytesForAlg(alg),signatureBytes=signature.length;if(signatureBytes!==2*paramBytes)throw new TypeError('"'+alg+'" signatures must be "'+2*paramBytes+'" bytes, saw "'+signatureBytes+'"');var rPadding=countPadding(signature,0,paramBytes),sPadding=countPadding(signature,paramBytes,signature.length),rLength=paramBytes-rPadding,sLength=paramBytes-sPadding,rsBytes=2+rLength+1+1+sLength,shortLength=rsBytes<128,dst=Buffer.allocUnsafe((shortLength?2:3)+rsBytes),offset=0;return dst[offset++]=48,shortLength?dst[offset++]=rsBytes:(dst[offset++]=129,dst[offset++]=255&rsBytes),dst[offset++]=2,dst[offset++]=rLength,rPadding<0?(dst[offset++]=0,offset+=signature.copy(dst,offset,0,paramBytes)):offset+=signature.copy(dst,offset,rPadding,paramBytes),dst[offset++]=2,dst[offset++]=sLength,sPadding<0?(dst[offset++]=0,signature.copy(dst,offset,paramBytes)):signature.copy(dst,offset,paramBytes+sPadding),dst}}},function(module,exports,__webpack_require__){"use strict";function getParamSize(keySize){return(keySize/8|0)+(keySize%8==0?0:1)}var paramBytesForAlg={ES256:getParamSize(256),ES384:getParamSize(384),ES512:getParamSize(521)};module.exports=function(alg){var paramBytes=paramBytesForAlg[alg];if(paramBytes)return paramBytes;throw new Error('Unknown algorithm "'+alg+'"')}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(72).Buffer,DataStream=__webpack_require__(177),jwa=__webpack_require__(178),Stream=__webpack_require__(32),toString=__webpack_require__(179),util=__webpack_require__(17),JWS_REGEX=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function safeJsonParse(thing){if(function(thing){return"[object Object]"===Object.prototype.toString.call(thing)}(thing))return thing;try{return JSON.parse(thing)}catch(e){return}}function headerFromJWS(jwsSig){var encodedHeader=jwsSig.split(".",1)[0];return safeJsonParse(Buffer.from(encodedHeader,"base64").toString("binary"))}function signatureFromJWS(jwsSig){return jwsSig.split(".")[2]}function isValidJws(string){return JWS_REGEX.test(string)&&!!headerFromJWS(string)}function jwsVerify(jwsSig,algorithm,secretOrKey){if(!algorithm){var err=new Error("Missing algorithm parameter for jws.verify");throw err.code="MISSING_ALGORITHM",err}var signature=signatureFromJWS(jwsSig=toString(jwsSig)),securedInput=function(jwsSig){return jwsSig.split(".",2).join(".")}(jwsSig);return jwa(algorithm).verify(securedInput,signature,secretOrKey)}function jwsDecode(jwsSig,opts){if(opts=opts||{},!isValidJws(jwsSig=toString(jwsSig)))return null;var header=headerFromJWS(jwsSig);if(!header)return null;var payload=function(jwsSig,encoding){encoding=encoding||"utf8";var payload=jwsSig.split(".")[1];return Buffer.from(payload,"base64").toString(encoding)}(jwsSig);return("JWT"===header.typ||opts.json)&&(payload=JSON.parse(payload,opts.encoding)),{header:header,payload:payload,signature:signatureFromJWS(jwsSig)}}function VerifyStream(opts){var secretOrKey=(opts=opts||{}).secret||opts.publicKey||opts.key,secretStream=new DataStream(secretOrKey);this.readable=!0,this.algorithm=opts.algorithm,this.encoding=opts.encoding,this.secret=this.publicKey=this.key=secretStream,this.signature=new DataStream(opts.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}util.inherits(VerifyStream,Stream),VerifyStream.prototype.verify=function(){try{var valid=jwsVerify(this.signature.buffer,this.algorithm,this.key.buffer),obj=jwsDecode(this.signature.buffer,this.encoding);return this.emit("done",valid,obj),this.emit("data",valid),this.emit("end"),this.readable=!1,valid}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},VerifyStream.decode=jwsDecode,VerifyStream.isValid=isValidJws,VerifyStream.verify=jwsVerify,module.exports=VerifyStream},function(module,exports,__webpack_require__){var JsonWebTokenError=__webpack_require__(88),NotBeforeError=__webpack_require__(180),TokenExpiredError=__webpack_require__(181),decode=__webpack_require__(176),timespan=__webpack_require__(182),PS_SUPPORTED=__webpack_require__(183),jws=__webpack_require__(115),PUB_KEY_ALGS=["RS256","RS384","RS512","ES256","ES384","ES512"],RSA_KEY_ALGS=["RS256","RS384","RS512"],HS_ALGS=["HS256","HS384","HS512"];PS_SUPPORTED&&(PUB_KEY_ALGS.splice(3,0,"PS256","PS384","PS512"),RSA_KEY_ALGS.splice(3,0,"PS256","PS384","PS512")),module.exports=function(jwtString,secretOrPublicKey,options,callback){var done;if("function"!=typeof options||callback||(callback=options,options={}),options||(options={}),options=Object.assign({},options),done=callback||function(err,data){if(err)throw err;return data},options.clockTimestamp&&"number"!=typeof options.clockTimestamp)return done(new JsonWebTokenError("clockTimestamp must be a number"));if(void 0!==options.nonce&&("string"!=typeof options.nonce||""===options.nonce.trim()))return done(new JsonWebTokenError("nonce must be a non-empty string"));var clockTimestamp=options.clockTimestamp||Math.floor(Date.now()/1e3);if(!jwtString)return done(new JsonWebTokenError("jwt must be provided"));if("string"!=typeof jwtString)return done(new JsonWebTokenError("jwt must be a string"));var decodedToken,parts=jwtString.split(".");if(3!==parts.length)return done(new JsonWebTokenError("jwt malformed"));try{decodedToken=decode(jwtString,{complete:!0})}catch(err){return done(err)}if(!decodedToken)return done(new JsonWebTokenError("invalid token"));var getSecret,header=decodedToken.header;if("function"==typeof secretOrPublicKey){if(!callback)return done(new JsonWebTokenError("verify must be called asynchronous if secret or public key is provided as a callback"));getSecret=secretOrPublicKey}else getSecret=function(header,secretCallback){return secretCallback(null,secretOrPublicKey)};return getSecret(header,(function(err,secretOrPublicKey){if(err)return done(new JsonWebTokenError("error in secret or public key callback: "+err.message));var valid,hasSignature=""!==parts[2].trim();if(!hasSignature&&secretOrPublicKey)return done(new JsonWebTokenError("jwt signature is required"));if(hasSignature&&!secretOrPublicKey)return done(new JsonWebTokenError("secret or public key must be provided"));if(hasSignature||options.algorithms||(options.algorithms=["none"]),options.algorithms||(options.algorithms=~secretOrPublicKey.toString().indexOf("BEGIN CERTIFICATE")||~secretOrPublicKey.toString().indexOf("BEGIN PUBLIC KEY")?PUB_KEY_ALGS:~secretOrPublicKey.toString().indexOf("BEGIN RSA PUBLIC KEY")?RSA_KEY_ALGS:HS_ALGS),!~options.algorithms.indexOf(decodedToken.header.alg))return done(new JsonWebTokenError("invalid algorithm"));try{valid=jws.verify(jwtString,decodedToken.header.alg,secretOrPublicKey)}catch(e){return done(e)}if(!valid)return done(new JsonWebTokenError("invalid signature"));var payload=decodedToken.payload;if(void 0!==payload.nbf&&!options.ignoreNotBefore){if("number"!=typeof payload.nbf)return done(new JsonWebTokenError("invalid nbf value"));if(payload.nbf>clockTimestamp+(options.clockTolerance||0))return done(new NotBeforeError("jwt not active",new Date(1e3*payload.nbf)))}if(void 0!==payload.exp&&!options.ignoreExpiration){if("number"!=typeof payload.exp)return done(new JsonWebTokenError("invalid exp value"));if(clockTimestamp>=payload.exp+(options.clockTolerance||0))return done(new TokenExpiredError("jwt expired",new Date(1e3*payload.exp)))}if(options.audience){var audiences=Array.isArray(options.audience)?options.audience:[options.audience];if(!(Array.isArray(payload.aud)?payload.aud:[payload.aud]).some((function(targetAudience){return audiences.some((function(audience){return audience instanceof RegExp?audience.test(targetAudience):audience===targetAudience}))})))return done(new JsonWebTokenError("jwt audience invalid. expected: "+audiences.join(" or ")))}if(options.issuer&&("string"==typeof options.issuer&&payload.iss!==options.issuer||Array.isArray(options.issuer)&&-1===options.issuer.indexOf(payload.iss)))return done(new JsonWebTokenError("jwt issuer invalid. expected: "+options.issuer));if(options.subject&&payload.sub!==options.subject)return done(new JsonWebTokenError("jwt subject invalid. expected: "+options.subject));if(options.jwtid&&payload.jti!==options.jwtid)return done(new JsonWebTokenError("jwt jwtid invalid. expected: "+options.jwtid));if(options.nonce&&payload.nonce!==options.nonce)return done(new JsonWebTokenError("jwt nonce invalid. expected: "+options.nonce));if(options.maxAge){if("number"!=typeof payload.iat)return done(new JsonWebTokenError("iat required when maxAge is specified"));var maxAgeTimestamp=timespan(options.maxAge,payload.iat);if(void 0===maxAgeTimestamp)return done(new JsonWebTokenError('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(clockTimestamp>=maxAgeTimestamp+(options.clockTolerance||0))return done(new TokenExpiredError("maxAge exceeded",new Date(1e3*maxAgeTimestamp)))}if(!0===options.complete){var signature=decodedToken.signature;return done(null,{header:header,payload:payload,signature:signature})}return done(null,payload)}))}},function(module,exports){var debug;exports=module.exports=SemVer,debug="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var args=Array.prototype.slice.call(arguments,0);args.unshift("SEMVER"),console.log.apply(console,args)}:function(){},exports.SEMVER_SPEC_VERSION="2.0.0";var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,re=exports.re=[],src=exports.src=[],R=0,NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]="0|[1-9]\\d*";var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]="[0-9]+";var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var MAINVERSION=R++;src[MAINVERSION]="("+src[NUMERICIDENTIFIER]+")\\.("+src[NUMERICIDENTIFIER]+")\\.("+src[NUMERICIDENTIFIER]+")";var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]="("+src[NUMERICIDENTIFIERLOOSE]+")\\.("+src[NUMERICIDENTIFIERLOOSE]+")\\.("+src[NUMERICIDENTIFIERLOOSE]+")";var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]="(?:"+src[NUMERICIDENTIFIER]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]="(?:"+src[NUMERICIDENTIFIERLOOSE]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASE=R++;src[PRERELEASE]="(?:-("+src[PRERELEASEIDENTIFIER]+"(?:\\."+src[PRERELEASEIDENTIFIER]+")*))";var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]="(?:-?("+src[PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+src[PRERELEASEIDENTIFIERLOOSE]+")*))";var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]="[0-9A-Za-z-]+";var BUILD=R++;src[BUILD]="(?:\\+("+src[BUILDIDENTIFIER]+"(?:\\."+src[BUILDIDENTIFIER]+")*))";var FULL=R++,FULLPLAIN="v?"+src[MAINVERSION]+src[PRERELEASE]+"?"+src[BUILD]+"?";src[FULL]="^"+FULLPLAIN+"$";var LOOSEPLAIN="[v=\\s]*"+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+"?"+src[BUILD]+"?",LOOSE=R++;src[LOOSE]="^"+LOOSEPLAIN+"$";var GTLT=R++;src[GTLT]="((?:<|>)?=?)";var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+"|x|X|\\*";var XRANGEPLAIN=R++;src[XRANGEPLAIN]="[v=\\s]*("+src[XRANGEIDENTIFIER]+")(?:\\.("+src[XRANGEIDENTIFIER]+")(?:\\.("+src[XRANGEIDENTIFIER]+")(?:"+src[PRERELEASE]+")?"+src[BUILD]+"?)?)?";var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]="[v=\\s]*("+src[XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")(?:"+src[PRERELEASELOOSE]+")?"+src[BUILD]+"?)?)?";var XRANGE=R++;src[XRANGE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAIN]+"$";var XRANGELOOSE=R++;src[XRANGELOOSE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAINLOOSE]+"$";var COERCE=R++;src[COERCE]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var LONETILDE=R++;src[LONETILDE]="(?:~>?)";var TILDETRIM=R++;src[TILDETRIM]="(\\s*)"+src[LONETILDE]+"\\s+",re[TILDETRIM]=new RegExp(src[TILDETRIM],"g");var TILDE=R++;src[TILDE]="^"+src[LONETILDE]+src[XRANGEPLAIN]+"$";var TILDELOOSE=R++;src[TILDELOOSE]="^"+src[LONETILDE]+src[XRANGEPLAINLOOSE]+"$";var LONECARET=R++;src[LONECARET]="(?:\\^)";var CARETTRIM=R++;src[CARETTRIM]="(\\s*)"+src[LONECARET]+"\\s+",re[CARETTRIM]=new RegExp(src[CARETTRIM],"g");var CARET=R++;src[CARET]="^"+src[LONECARET]+src[XRANGEPLAIN]+"$";var CARETLOOSE=R++;src[CARETLOOSE]="^"+src[LONECARET]+src[XRANGEPLAINLOOSE]+"$";var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]="^"+src[GTLT]+"\\s*("+LOOSEPLAIN+")$|^$";var COMPARATOR=R++;src[COMPARATOR]="^"+src[GTLT]+"\\s*("+FULLPLAIN+")$|^$";var COMPARATORTRIM=R++;src[COMPARATORTRIM]="(\\s*)"+src[GTLT]+"\\s*("+LOOSEPLAIN+"|"+src[XRANGEPLAIN]+")",re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],"g");var HYPHENRANGE=R++;src[HYPHENRANGE]="^\\s*("+src[XRANGEPLAIN]+")\\s+-\\s+("+src[XRANGEPLAIN]+")\\s*$";var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]="^\\s*("+src[XRANGEPLAINLOOSE]+")\\s+-\\s+("+src[XRANGEPLAINLOOSE]+")\\s*$";var STAR=R++;src[STAR]="(<|>)?=?\\s*\\*";for(var i=0;i<35;i++)debug(i,src[i]),re[i]||(re[i]=new RegExp(src[i]));function parse(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer)return version;if("string"!=typeof version)return null;if(version.length>256)return null;if(!(options.loose?re[LOOSE]:re[FULL]).test(version))return null;try{return new SemVer(version,options)}catch(er){return null}}function SemVer(version,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),version instanceof SemVer){if(version.loose===options.loose)return version;version=version.version}else if("string"!=typeof version)throw new TypeError("Invalid Version: "+version);if(version.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof SemVer))return new SemVer(version,options);debug("SemVer",version,options),this.options=options,this.loose=!!options.loose;var m=version.trim().match(options.loose?re[LOOSE]:re[FULL]);if(!m)throw new TypeError("Invalid Version: "+version);if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map((function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num}return id})):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}exports.parse=parse,exports.valid=function(version,options){var v=parse(version,options);return v?v.version:null},exports.clean=function(version,options){var s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null},exports.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(other){return debug("SemVer.compare",this.version,this.options,other),other instanceof SemVer||(other=new SemVer(other,this.options)),this.compareMain(other)||this.comparePre(other)},SemVer.prototype.compareMain=function(other){return other instanceof SemVer||(other=new SemVer(other,this.options)),compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)},SemVer.prototype.comparePre=function(other){if(other instanceof SemVer||(other=new SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i],b=other.prerelease[i];if(debug("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers(a,b)}while(++i)},SemVer.prototype.inc=function(release,identifier){switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier),this.inc("pre",identifier);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",identifier),this.inc("pre",identifier);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}identifier&&(this.prerelease[0]===identifier?isNaN(this.prerelease[1])&&(this.prerelease=[identifier,0]):this.prerelease=[identifier,0]);break;default:throw new Error("invalid increment argument: "+release)}return this.format(),this.raw=this.version,this},exports.inc=function(version,release,loose,identifier){"string"==typeof loose&&(identifier=loose,loose=void 0);try{return new SemVer(version,loose).inc(release,identifier).version}catch(er){return null}},exports.diff=function(version1,version2){if(eq(version1,version2))return null;var v1=parse(version1),v2=parse(version2),prefix="";if(v1.prerelease.length||v2.prerelease.length){prefix="pre";var defaultResult="prerelease"}for(var key in v1)if(("major"===key||"minor"===key||"patch"===key)&&v1[key]!==v2[key])return prefix+key;return defaultResult},exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(a,b){var anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1}function compare(a,b,loose){return new SemVer(a,loose).compare(new SemVer(b,loose))}function gt(a,b,loose){return compare(a,b,loose)>0}function lt(a,b,loose){return compare(a,b,loose)<0}function eq(a,b,loose){return 0===compare(a,b,loose)}function neq(a,b,loose){return 0!==compare(a,b,loose)}function gte(a,b,loose){return compare(a,b,loose)>=0}function lte(a,b,loose){return compare(a,b,loose)<=0}function cmp(a,op,b,loose){switch(op){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a===b;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError("Invalid operator: "+op)}}function Comparator(comp,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),comp instanceof Comparator){if(comp.loose===!!options.loose)return comp;comp=comp.value}if(!(this instanceof Comparator))return new Comparator(comp,options);debug("comparator",comp,options),this.options=options,this.loose=!!options.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug("comp",this)}exports.rcompareIdentifiers=function(a,b){return compareIdentifiers(b,a)},exports.major=function(a,loose){return new SemVer(a,loose).major},exports.minor=function(a,loose){return new SemVer(a,loose).minor},exports.patch=function(a,loose){return new SemVer(a,loose).patch},exports.compare=compare,exports.compareLoose=function(a,b){return compare(a,b,!0)},exports.rcompare=function(a,b,loose){return compare(b,a,loose)},exports.sort=function(list,loose){return list.sort((function(a,b){return exports.compare(a,b,loose)}))},exports.rsort=function(list,loose){return list.sort((function(a,b){return exports.rcompare(a,b,loose)}))},exports.gt=gt,exports.lt=lt,exports.eq=eq,exports.neq=neq,exports.gte=gte,exports.lte=lte,exports.cmp=cmp,exports.Comparator=Comparator;var ANY={};function Range(range,options){if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),range instanceof Range)return range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease?range:new Range(range.raw,options);if(range instanceof Comparator)return new Range(range.value,options);if(!(this instanceof Range))return new Range(range,options);if(this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease,this.raw=range,this.set=range.split(/\s*\|\|\s*/).map((function(range){return this.parseRange(range.trim())}),this).filter((function(c){return c.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+range);this.format()}function isX(id){return!id||"x"===id.toLowerCase()||"*"===id}function hyphenReplace($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){return((from=isX(fM)?"":isX(fm)?">="+fM+".0.0":isX(fp)?">="+fM+"."+fm+".0":">="+from)+" "+(to=isX(tM)?"":isX(tm)?"<"+(+tM+1)+".0.0":isX(tp)?"<"+tM+"."+(+tm+1)+".0":tpr?"<="+tM+"."+tm+"."+tp+"-"+tpr:"<="+to)).trim()}function testSet(set,version,options){for(var i=0;i<set.length;i++)if(!set[i].test(version))return!1;if(version.prerelease.length&&!options.includePrerelease){for(i=0;i<set.length;i++)if(debug(set[i].semver),set[i].semver!==ANY&&set[i].semver.prerelease.length>0){var allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0}function satisfies(version,range,options){try{range=new Range(range,options)}catch(er){return!1}return range.test(version)}function outside(version,range,hilo,options){var gtfn,ltefn,ltfn,comp,ecomp;switch(version=new SemVer(version,options),range=new Range(range,options),hilo){case">":gtfn=gt,ltefn=lte,ltfn=lt,comp=">",ecomp=">=";break;case"<":gtfn=lt,ltefn=gte,ltfn=gt,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options))return!1;for(var i=0;i<range.set.length;++i){var comparators=range.set[i],high=null,low=null;if(comparators.forEach((function(comparator){comparator.semver===ANY&&(comparator=new Comparator(">=0.0.0")),high=high||comparator,low=low||comparator,gtfn(comparator.semver,high.semver,options)?high=comparator:ltfn(comparator.semver,low.semver,options)&&(low=comparator)})),high.operator===comp||high.operator===ecomp)return!1;if((!low.operator||low.operator===comp)&&ltefn(version,low.semver))return!1;if(low.operator===ecomp&&ltfn(version,low.semver))return!1}return!0}Comparator.prototype.parse=function(comp){var r=this.options.loose?re[COMPARATORLOOSE]:re[COMPARATOR],m=comp.match(r);if(!m)throw new TypeError("Invalid comparator: "+comp);this.operator=m[1],"="===this.operator&&(this.operator=""),m[2]?this.semver=new SemVer(m[2],this.options.loose):this.semver=ANY},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(version){return debug("Comparator.test",version,this.options.loose),this.semver===ANY||("string"==typeof version&&(version=new SemVer(version,this.options)),cmp(version,this.operator,this.semver,this.options))},Comparator.prototype.intersects=function(comp,options){if(!(comp instanceof Comparator))throw new TypeError("a Comparator is required");var rangeTmp;if(options&&"object"==typeof options||(options={loose:!!options,includePrerelease:!1}),""===this.operator)return rangeTmp=new Range(comp.value,options),satisfies(this.value,rangeTmp,options);if(""===comp.operator)return rangeTmp=new Range(this.value,options),satisfies(comp.semver,rangeTmp,options);var sameDirectionIncreasing=!(">="!==this.operator&&">"!==this.operator||">="!==comp.operator&&">"!==comp.operator),sameDirectionDecreasing=!("<="!==this.operator&&"<"!==this.operator||"<="!==comp.operator&&"<"!==comp.operator),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=!(">="!==this.operator&&"<="!==this.operator||">="!==comp.operator&&"<="!==comp.operator),oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,options)&&(">="===this.operator||">"===this.operator)&&("<="===comp.operator||"<"===comp.operator),oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,options)&&("<="===this.operator||"<"===this.operator)&&(">="===comp.operator||">"===comp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan},exports.Range=Range,Range.prototype.format=function(){return this.range=this.set.map((function(comps){return comps.join(" ").trim()})).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(range){var loose=this.options.loose;range=range.trim();var hr=loose?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];range=range.replace(hr,hyphenReplace),debug("hyphen replace",range),range=range.replace(re[COMPARATORTRIM],"$1$2$3"),debug("comparator trim",range,re[COMPARATORTRIM]),range=(range=(range=range.replace(re[TILDETRIM],"$1~")).replace(re[CARETTRIM],"$1^")).split(/\s+/).join(" ");var compRe=loose?re[COMPARATORLOOSE]:re[COMPARATOR],set=range.split(" ").map((function(comp){return function(comp,options){return debug("comp",comp,options),comp=function(comp,options){return comp.trim().split(/\s+/).map((function(comp){return function(comp,options){debug("caret",comp,options);var r=options.loose?re[CARETLOOSE]:re[CARET];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug("caret",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret="0"===M?">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":">="+M+"."+m+".0 <"+(+M+1)+".0.0":pr?(debug("replaceCaret pr",pr),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+"-"+pr+" <"+(+M+1)+".0.0"):(debug("no pr"),ret="0"===M?"0"===m?">="+M+"."+m+"."+p+" <"+M+"."+m+"."+(+p+1):">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0":">="+M+"."+m+"."+p+" <"+(+M+1)+".0.0"),debug("caret return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("caret",comp),comp=function(comp,options){return comp.trim().split(/\s+/).map((function(comp){return function(comp,options){var r=options.loose?re[TILDELOOSE]:re[TILDE];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug("tilde",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">="+M+".0.0 <"+(+M+1)+".0.0":isX(p)?ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0":pr?(debug("replaceTilde pr",pr),ret=">="+M+"."+m+"."+p+"-"+pr+" <"+M+"."+(+m+1)+".0"):ret=">="+M+"."+m+"."+p+" <"+M+"."+(+m+1)+".0",debug("tilde return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("tildes",comp),comp=function(comp,options){return debug("replaceXRanges",comp,options),comp.split(/\s+/).map((function(comp){return function(comp,options){comp=comp.trim();var r=options.loose?re[XRANGELOOSE]:re[XRANGE];return comp.replace(r,(function(ret,gtlt,M,m,p,pr){debug("xRange",comp,ret,gtlt,M,m,p,pr);var xM=isX(M),xm=xM||isX(m),xp=xm||isX(p);return"="===gtlt&&xp&&(gtlt=""),xM?ret=">"===gtlt||"<"===gtlt?"<0.0.0":"*":gtlt&&xp?(xm&&(m=0),p=0,">"===gtlt?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):"<="===gtlt&&(gtlt="<",xm?M=+M+1:m=+m+1),ret=gtlt+M+"."+m+"."+p):xm?ret=">="+M+".0.0 <"+(+M+1)+".0.0":xp&&(ret=">="+M+"."+m+".0 <"+M+"."+(+m+1)+".0"),debug("xRange return",ret),ret}))}(comp,options)})).join(" ")}(comp,options),debug("xrange",comp),comp=function(comp,options){return debug("replaceStars",comp,options),comp.trim().replace(re[STAR],"")}(comp,options),debug("stars",comp),comp}(comp,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(set=set.filter((function(comp){return!!comp.match(compRe)}))),set=set.map((function(comp){return new Comparator(comp,this.options)}),this)},Range.prototype.intersects=function(range,options){if(!(range instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(thisComparators){return thisComparators.every((function(thisComparator){return range.set.some((function(rangeComparators){return rangeComparators.every((function(rangeComparator){return thisComparator.intersects(rangeComparator,options)}))}))}))}))},exports.toComparators=function(range,options){return new Range(range,options).set.map((function(comp){return comp.map((function(c){return c.value})).join(" ").trim().split(" ")}))},Range.prototype.test=function(version){if(!version)return!1;"string"==typeof version&&(version=new SemVer(version,this.options));for(var i=0;i<this.set.length;i++)if(testSet(this.set[i],version,this.options))return!0;return!1},exports.satisfies=satisfies,exports.maxSatisfying=function(versions,range,options){var max=null,maxSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(max&&-1!==maxSV.compare(v)||(maxSV=new SemVer(max=v,options)))})),max},exports.minSatisfying=function(versions,range,options){var min=null,minSV=null;try{var rangeObj=new Range(range,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(min&&1!==minSV.compare(v)||(minSV=new SemVer(min=v,options)))})),min},exports.minVersion=function(range,loose){range=new Range(range,loose);var minver=new SemVer("0.0.0");if(range.test(minver))return minver;if(minver=new SemVer("0.0.0-0"),range.test(minver))return minver;minver=null;for(var i=0;i<range.set.length;++i){range.set[i].forEach((function(comparator){var compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":0===compver.prerelease.length?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":minver&&!gt(minver,compver)||(minver=compver);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+comparator.operator)}}))}if(minver&&range.test(minver))return minver;return null},exports.validRange=function(range,options){try{return new Range(range,options).range||"*"}catch(er){return null}},exports.ltr=function(version,range,options){return outside(version,range,"<",options)},exports.gtr=function(version,range,options){return outside(version,range,">",options)},exports.outside=outside,exports.prerelease=function(version,options){var parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null},exports.intersects=function(r1,r2,options){return r1=new Range(r1,options),r2=new Range(r2,options),r1.intersects(r2)},exports.coerce=function(version){if(version instanceof SemVer)return version;if("string"!=typeof version)return null;var match=version.match(re[COERCE]);if(null==match)return null;return parse(match[1]+"."+(match[2]||"0")+"."+(match[3]||"0"))}},function(module,exports,__webpack_require__){var timespan=__webpack_require__(182),PS_SUPPORTED=__webpack_require__(183),jws=__webpack_require__(115),includes=__webpack_require__(432),isBoolean=__webpack_require__(433),isInteger=__webpack_require__(434),isNumber=__webpack_require__(435),isPlainObject=__webpack_require__(436),isString=__webpack_require__(437),once=__webpack_require__(438),SUPPORTED_ALGS=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];PS_SUPPORTED&&SUPPORTED_ALGS.splice(3,0,"PS256","PS384","PS512");var sign_options_schema={expiresIn:{isValid:function(value){return isInteger(value)||isString(value)&&value},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(value){return isInteger(value)||isString(value)&&value},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(value){return isString(value)||Array.isArray(value)},message:'"audience" must be a string or array'},algorithm:{isValid:includes.bind(null,SUPPORTED_ALGS),message:'"algorithm" must be a valid string enum value'},header:{isValid:isPlainObject,message:'"header" must be an object'},encoding:{isValid:isString,message:'"encoding" must be a string'},issuer:{isValid:isString,message:'"issuer" must be a string'},subject:{isValid:isString,message:'"subject" must be a string'},jwtid:{isValid:isString,message:'"jwtid" must be a string'},noTimestamp:{isValid:isBoolean,message:'"noTimestamp" must be a boolean'},keyid:{isValid:isString,message:'"keyid" must be a string'},mutatePayload:{isValid:isBoolean,message:'"mutatePayload" must be a boolean'}},registered_claims_schema={iat:{isValid:isNumber,message:'"iat" should be a number of seconds'},exp:{isValid:isNumber,message:'"exp" should be a number of seconds'},nbf:{isValid:isNumber,message:'"nbf" should be a number of seconds'}};function validate(schema,allowUnknown,object,parameterName){if(!isPlainObject(object))throw new Error('Expected "'+parameterName+'" to be a plain object.');Object.keys(object).forEach((function(key){var validator=schema[key];if(validator){if(!validator.isValid(object[key]))throw new Error(validator.message)}else if(!allowUnknown)throw new Error('"'+key+'" is not allowed in "'+parameterName+'"')}))}var options_to_payload={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},options_for_objects=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];module.exports=function(payload,secretOrPrivateKey,options,callback){"function"==typeof options?(callback=options,options={}):options=options||{};var isObjectPayload="object"==typeof payload&&!Buffer.isBuffer(payload),header=Object.assign({alg:options.algorithm||"HS256",typ:isObjectPayload?"JWT":void 0,kid:options.keyid},options.header);function failure(err){if(callback)return callback(err);throw err}if(!secretOrPrivateKey&&"none"!==options.algorithm)return failure(new Error("secretOrPrivateKey must have a value"));if(void 0===payload)return failure(new Error("payload is required"));if(isObjectPayload){try{!function(payload){validate(registered_claims_schema,!0,payload,"payload")}(payload)}catch(error){return failure(error)}options.mutatePayload||(payload=Object.assign({},payload))}else{var invalid_options=options_for_objects.filter((function(opt){return void 0!==options[opt]}));if(invalid_options.length>0)return failure(new Error("invalid "+invalid_options.join(",")+" option for "+typeof payload+" payload"))}if(void 0!==payload.exp&&void 0!==options.expiresIn)return failure(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==payload.nbf&&void 0!==options.notBefore)return failure(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(options){validate(sign_options_schema,!1,options,"options")}(options)}catch(error){return failure(error)}var timestamp=payload.iat||Math.floor(Date.now()/1e3);if(options.noTimestamp?delete payload.iat:isObjectPayload&&(payload.iat=timestamp),void 0!==options.notBefore){try{payload.nbf=timespan(options.notBefore,timestamp)}catch(err){return failure(err)}if(void 0===payload.nbf)return failure(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==options.expiresIn&&"object"==typeof payload){try{payload.exp=timespan(options.expiresIn,timestamp)}catch(err){return failure(err)}if(void 0===payload.exp)return failure(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(options_to_payload).forEach((function(key){var claim=options_to_payload[key];if(void 0!==options[key]){if(void 0!==payload[claim])return failure(new Error('Bad "options.'+key+'" option. The payload already has an "'+claim+'" property.'));payload[claim]=options[key]}}));var encoding=options.encoding||"utf8";if("function"!=typeof callback)return jws.sign({header:header,payload:payload,secret:secretOrPrivateKey,encoding:encoding});callback=callback&&once(callback),jws.createSign({header:header,privateKey:secretOrPrivateKey,payload:payload,encoding:encoding}).once("error",callback).once("done",(function(signature){callback(null,signature)}))}},function(module,exports){var reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,freeParseInt=parseInt;function baseIsNaN(value){return value!=value}function baseValues(object,props){return function(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}(props,(function(key){return object[key]}))}var func,transform,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=(func=Object.keys,transform=Object,function(arg){return func(transform(arg))}),nativeMax=Math.max;function arrayLikeKeys(value,inherited){var result=isArray(value)||function(value){return function(value){return isObjectLike(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||"[object Arguments]"==objectToString.call(value))}(value)?function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function baseKeys(object){if(Ctor=(value=object)&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto,value!==proto)return nativeKeys(object);var value,Ctor,proto,result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function isIndex(value,length){return!!(length=null==length?9007199254740991:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}var isArray=Array.isArray;function isArrayLike(value){return null!=value&&function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}(value.length)&&!function(value){var tag=isObject(value)?objectToString.call(value):"";return"[object Function]"==tag||"[object GeneratorFunction]"==tag}(value)}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}module.exports=function(collection,value,fromIndex,guard){var object;collection=isArrayLike(collection)?collection:(object=collection)?baseValues(object,function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}(object)):[],fromIndex=fromIndex&&!guard?function(value){var result=function(value){if(!value)return 0===value?value:0;if((value=function(value){if("number"==typeof value)return value;if(function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==objectToString.call(value)}(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}(value))===1/0||value===-1/0){return 17976931348623157e292*(value<0?-1:1)}return value==value?value:0}(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),function(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==objectToString.call(value)}(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&function(array,value,fromIndex){if(value!=value)return function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}(array,baseIsNaN,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}(collection,value,fromIndex)>-1}},function(module,exports){var objectToString=Object.prototype.toString;module.exports=function(value){return!0===value||!1===value||function(value){return!!value&&"object"==typeof value}(value)&&"[object Boolean]"==objectToString.call(value)}},function(module,exports){var reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,objectToString=Object.prototype.toString;function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=function(value){return"number"==typeof value&&value==function(value){var result=function(value){if(!value)return 0===value?value:0;if((value=function(value){if("number"==typeof value)return value;if(function(value){return"symbol"==typeof value||function(value){return!!value&&"object"==typeof value}(value)&&"[object Symbol]"==objectToString.call(value)}(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}(value))===1/0||value===-1/0){return 17976931348623157e292*(value<0?-1:1)}return value==value?value:0}(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}(value)}},function(module,exports){var objectToString=Object.prototype.toString;module.exports=function(value){return"number"==typeof value||function(value){return!!value&&"object"==typeof value}(value)&&"[object Number]"==objectToString.call(value)}},function(module,exports){var func,transform,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,getPrototype=(func=Object.getPrototypeOf,transform=Object,function(arg){return func(transform(arg))});module.exports=function(value){if(!function(value){return!!value&&"object"==typeof value}(value)||"[object Object]"!=objectToString.call(value)||function(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,exports){var objectToString=Object.prototype.toString,isArray=Array.isArray;module.exports=function(value){return"string"==typeof value||!isArray(value)&&function(value){return!!value&&"object"==typeof value}(value)&&"[object String]"==objectToString.call(value)}},function(module,exports){var reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,objectToString=Object.prototype.toString;function before(n,func){var result;if("function"!=typeof func)throw new TypeError("Expected a function");return n=function(value){var result=function(value){if(!value)return 0===value?value:0;if((value=function(value){if("number"==typeof value)return value;if(function(value){return"symbol"==typeof value||function(value){return!!value&&"object"==typeof value}(value)&&"[object Symbol]"==objectToString.call(value)}(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}(value))===1/0||value===-1/0){return 17976931348623157e292*(value<0?-1:1)}return value==value?value:0}(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=void 0),result}}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=function(func){return before(2,func)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const hasNonNullKey=row=>{if(Array.isArray(row.__identifiers)&&row.__identifiers.every(i=>null!=i))return!0;for(const k in row)if(Object.prototype.hasOwnProperty.call(row,k)&&("_"!==k[0]||"_"!==k[1])&&null!==row[k])return!0;return!1};exports.default=function(builder,{pgForbidSetofFunctionsToReturnNull:pgForbidSetofFunctionsToReturnNull=!1,subscriptions:subscriptions=!1}){const handleNullRow=pgForbidSetofFunctionsToReturnNull?(row,_identifiers)=>row:(row,identifiers)=>identifiers&&hasNonNullKey(identifiers)||hasNonNullKey(row)?row:null;builder.hook("init",(_,build)=>{const{getNodeIdForTypeAndIdentifiers:getNodeIdForTypeAndIdentifiers,nodeIdFieldName:nodeIdFieldName,newWithHooks:newWithHooks,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,pgSql:sql,pgIntrospectionResultsByKind:introspectionResultsByKind,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,pgRegisterGqlTypeByTypeId:pgRegisterGqlTypeByTypeId,pgRegisterGqlInputTypeByTypeId:pgRegisterGqlInputTypeByTypeId,pg2GqlMapper:pg2GqlMapper,gql2pg:gql2pg,graphql:{GraphQLObjectType:GraphQLObjectType,GraphQLNonNull:GraphQLNonNull,GraphQLID:GraphQLID,GraphQLList:GraphQLList,GraphQLInputObjectType:GraphQLInputObjectType},inflection:inflection,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgField:pgField}=build,nullableIf=(condition,Type)=>condition?Type:new GraphQLNonNull(Type),Cursor=getTypeByName("Cursor");return introspectionResultsByKind.class.forEach(table=>{const tablePgType=table.type;if(!tablePgType)throw new Error("Could not determine the type for this table");const arrayTablePgType=tablePgType.arrayType,primaryKeyConstraint=table.primaryKeyConstraint,primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes,attributes=table.attributes,tableTypeName=inflection.tableType(table),shouldHaveNodeId=!!(nodeIdFieldName&&table.isSelectable&&table.namespace&&primaryKeys&&primaryKeys.length);let TableType,TablePatchType,TableBaseInputType;pgRegisterGqlTypeByTypeId(tablePgType.id,cb=>{if(TableType)return TableType;if(pg2GqlMapper[tablePgType.id])throw new Error(`Register was called but there's already a mapper in place for '${tablePgType.id}'!`);TableType=newWithHooks(GraphQLObjectType,{description:table.description||tablePgType.description,name:tableTypeName,interfaces:()=>shouldHaveNodeId?[getTypeByName(inflection.builtin("Node"))]:[],fields:({addDataGeneratorForField:addDataGeneratorForField,Self:Self})=>{const fields={};return shouldHaveNodeId&&(addDataGeneratorForField(nodeIdFieldName,()=>({pgQuery:queryBuilder=>{queryBuilder.selectIdentifiers(table)}})),fields[nodeIdFieldName]={description:"A globally unique identifier. Can be used in various places throughout the system to identify this single value.",type:new GraphQLNonNull(GraphQLID),resolve(data){const identifiers=data.__identifiers;if(!identifiers)return null;const finalIdentifiers=identifiers.map((identifier,idx)=>{const key=primaryKeys[idx];if("20"===(key.type.domainBaseType||key.type).id){const int=parseInt(identifier,10);if(int>=-Number.MAX_SAFE_INTEGER&&int<=Number.MAX_SAFE_INTEGER)return int}return identifier});return getNodeIdForTypeAndIdentifiers(Self,...finalIdentifiers)}}),fields}},{__origin:`Adding table type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,pgIntrospection:table,isPgRowType:table.isSelectable,isPgCompoundType:!table.isSelectable,isPgCompositeType:!table.isSelectable}),cb(TableType);const pgCreateInputFields={},pgPatchInputFields={},pgBaseInputFields={};newWithHooks(GraphQLInputObjectType,{description:`An input for mutations affecting \`${tableTypeName}\``,name:inflection.inputType(TableType)},{__origin:`Adding table input type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,pgIntrospection:table,isInputType:!0,isPgRowType:table.isSelectable,isPgCompoundType:!table.isSelectable,pgAddSubfield:(fieldName,attrName,pgType,spec,typeModifier)=>(pgCreateInputFields[fieldName]={name:attrName,type:pgType,typeModifier:typeModifier},spec)},!0),table.isSelectable&&(TablePatchType=newWithHooks(GraphQLInputObjectType,{description:`Represents an update to a \`${tableTypeName}\`. Fields that are set will be updated.`,name:inflection.patchType(TableType)},{__origin:`Adding table patch type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,pgIntrospection:table,isPgRowType:table.isSelectable,isPgCompoundType:!table.isSelectable,isPgPatch:!0,pgAddSubfield:(fieldName,attrName,pgType,spec,typeModifier)=>(pgPatchInputFields[fieldName]={name:attrName,type:pgType,typeModifier:typeModifier},spec)},!0),TableBaseInputType=newWithHooks(GraphQLInputObjectType,{description:`An input representation of \`${tableTypeName}\` with nullable fields.`,name:inflection.baseInputType(TableType)},{__origin:`Adding table base input type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,pgIntrospection:table,isPgRowType:table.isSelectable,isPgCompoundType:!table.isSelectable,isPgBaseInput:!0,pgAddSubfield:(fieldName,attrName,pgType,spec,typeModifier)=>(pgBaseInputFields[fieldName]={name:attrName,type:pgType,typeModifier:typeModifier},spec)})),pg2GqlMapper[tablePgType.id]={map:_=>_,unmap:(obj,modifier)=>{let fieldLookup;fieldLookup="patch"===modifier?pgPatchInputFields:"base"===modifier?pgBaseInputFields:pgCreateInputFields;return sql.fragment`row(${sql.join(attributes.map(attr=>{const fieldName=inflection.column(attr),inputField=fieldLookup[fieldName],v=obj[fieldName];if(inputField&&null!=v){const{type:type,typeModifier:typeModifier}=inputField;return sql.fragment`${gql2pg(v,type,typeModifier)}::${sql.identifier(type.namespaceName,type.name)}`}return sql.null}),",")})::${sql.identifier(tablePgType.namespaceName,tablePgType.name)}`}};const EdgeType=newWithHooks(GraphQLObjectType,{description:`A \`${tableTypeName}\` edge in the connection.`,name:inflection.edge(TableType.name),fields:({fieldWithHooks:fieldWithHooks})=>({cursor:fieldWithHooks("cursor",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({usesCursor:[!0],pgQuery:queryBuilder=>{primaryKeys&&queryBuilder.selectIdentifiers(table)}})),{description:"A cursor for use in pagination.",type:Cursor,resolve(data){return data.__cursor&&(str=JSON.stringify(data.__cursor),Buffer.from(String(str)).toString("base64"));var str}}),{isCursorField:!0}),node:pgField(build,fieldWithHooks,"node",{description:`The \`${tableTypeName}\` at the end of the edge.`,type:nullableIf(!pgForbidSetofFunctionsToReturnNull,TableType),resolve(data,_args,resolveContext,resolveInfo){const safeAlias=getSafeAliasFromResolveInfo(resolveInfo),record=handleNullRow(data[safeAlias],data.__identifiers),liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return record&&primaryKeys&&liveRecord&&data.__identifiers&&liveRecord("pg",table,data.__identifiers),record}},{},!1,{withQueryBuilder:queryBuilder=>{subscriptions&&queryBuilder.selectIdentifiers(table)}})})},{__origin:`Adding table edge type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,isEdgeType:!0,isPgRowEdgeType:!0,nodeType:TableType,pgIntrospection:table}),PageInfo=getTypeByName(inflection.builtin("PageInfo"));newWithHooks(GraphQLObjectType,{description:`A connection to a list of \`${tableTypeName}\` values.`,name:inflection.connection(TableType.name),fields:({recurseDataGeneratorsForField:recurseDataGeneratorsForField,fieldWithHooks:fieldWithHooks})=>(recurseDataGeneratorsForField("pageInfo",!0),{nodes:pgField(build,fieldWithHooks,"nodes",{description:`A list of \`${tableTypeName}\` objects.`,type:new GraphQLNonNull(new GraphQLList(nullableIf(!pgForbidSetofFunctionsToReturnNull,TableType))),resolve(data,_args,resolveContext,resolveInfo){const safeAlias=getSafeAliasFromResolveInfo(resolveInfo),liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return data.data.map(entry=>{const record=handleNullRow(entry[safeAlias],entry[safeAlias].__identifiers);return record&&liveRecord&&primaryKeys&&entry[safeAlias].__identifiers&&liveRecord("pg",table,entry[safeAlias].__identifiers),record})}},{},!1,{withQueryBuilder:queryBuilder=>{subscriptions&&queryBuilder.selectIdentifiers(table)}}),edges:pgField(build,fieldWithHooks,"edges",{description:`A list of edges which contains the \`${tableTypeName}\` and cursor to aid in pagination.`,type:new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(EdgeType))),resolve(data,_args,_context,resolveInfo){const safeAlias=getSafeAliasFromResolveInfo(resolveInfo);return data.data.map(entry=>({...entry,...entry[safeAlias]}))}},{},!1,{hoistCursor:!0}),pageInfo:PageInfo&&{description:"Information to aid in pagination.",type:new GraphQLNonNull(PageInfo),resolve:data=>data}})},{__origin:`Adding table connection type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,isConnectionType:!0,isPgRowConnectionType:!0,edgeType:EdgeType,nodeType:TableType,pgIntrospection:table})},!0),pgRegisterGqlInputTypeByTypeId(tablePgType.id,(_set,modifier)=>{const TableType=pgGetGqlTypeByTypeIdAndModifier(tablePgType.id,null);return"patch"===modifier?TablePatchType:"base"===modifier?TableBaseInputType:TableType?getTypeByName(inflection.inputType(TableType)):null},!0),arrayTablePgType&&(pgRegisterGqlTypeByTypeId(arrayTablePgType.id,()=>{const TableType=pgGetGqlTypeByTypeIdAndModifier(tablePgType.id,null);return new GraphQLList(TableType)},!0),pgRegisterGqlInputTypeByTypeId(arrayTablePgType.id,(_set,modifier)=>{const RelevantTableInputType=pgGetGqlInputTypeByTypeIdAndModifier(tablePgType.id,modifier);if(RelevantTableInputType)return new GraphQLList(RelevantTableInputType)},!0))}),_},["PgTables"],[],["PgTypes"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields:field:args",(args,build,context)=>{const{extend:extend,getTypeByName:getTypeByName,graphql:{GraphQLInt:GraphQLInt}}=build,{scope:{fieldName:fieldName,isPgFieldConnection:isPgFieldConnection,isPgFieldSimpleCollection:isPgFieldSimpleCollection,pgFieldIntrospection:source},addArgDataGenerator:addArgDataGenerator,Self:Self}=context;if(!isPgFieldConnection&&!isPgFieldSimpleCollection||!source||"class"!==source.kind&&"procedure"!==source.kind)return args;const Cursor=getTypeByName("Cursor");return addArgDataGenerator((function({first:first,offset:offset,last:last,after:after,before:before}){return{pgQuery:queryBuilder=>{if(null!=first&&queryBuilder.first(first),null!=offset&&queryBuilder.offset(offset),isPgFieldConnection&&(null!=after&&addCursorConstraint(after,!0),null!=before&&addCursorConstraint(before,!1),null!=last)){if(null!=first)throw new Error("We don't support setting both first and last");if(null!=offset)throw new Error("We don't support setting both offset and last");queryBuilder.last(last)}function addCursorConstraint(cursor,isAfter){try{const cursorValues=JSON.parse((str=cursor,Buffer.from(String(str),"base64").toString("utf8")));return queryBuilder.addCursorCondition(cursorValues,isAfter)}catch(e){throw new Error("Invalid cursor, please enter a cursor from a previous request, or null.")}var str}}}})),extend(args,{first:{description:"Only read the first `n` values of the set.",type:GraphQLInt},...isPgFieldConnection?{last:{description:"Only read the last `n` values of the set.",type:GraphQLInt}}:null,offset:{description:isPgFieldConnection?"Skip the first `n` values from our `after` cursor, an alternative to cursor based pagination. May not be used with `last`.":"Skip the first `n` values.",type:GraphQLInt},...isPgFieldConnection?{before:{description:"Read all values in the set before (above) this cursor.",type:Cursor},after:{description:"Read all values in the set after (below) this cursor.",type:Cursor}}:null},isPgFieldConnection?`Adding connection pagination args to field '${fieldName}' of '${Self.name}'`:`Adding simple collection args to field '${fieldName}' of '${Self.name}'`)},["PgConnectionArgFirstLastBeforeAfter"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_isString=(obj=__webpack_require__(184))&&obj.__esModule?obj:{default:obj};exports.default=function(builder,{orderByNullsLast:orderByNullsLast}){builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,pgIntrospectionResultsByKind:introspectionResultsByKind,graphql:{GraphQLEnumType:GraphQLEnumType},inflection:inflection,pgOmit:omit,sqlCommentByAddingTags:sqlCommentByAddingTags,describePgEntity:describePgEntity}=build;return introspectionResultsByKind.class.forEach(table=>{if(!table.isSelectable||omit(table,"order"))return;if(!table.namespace)return;const tableTypeName=inflection.tableType(table);newWithHooks(GraphQLEnumType,{name:inflection.orderByType(tableTypeName),description:`Methods to use when ordering \`${tableTypeName}\`.`,values:{NATURAL:{value:{alias:null,specs:[]}}}},{__origin:`Adding connection "orderBy" argument for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,pgIntrospection:table,isPgRowSortEnum:!0})}),_},["PgConnectionArgOrderBy"]),builder.hook("GraphQLObjectType:fields:field:args",(args,build,context)=>{const{extend:extend,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgSql:sql,graphql:{GraphQLList:GraphQLList,GraphQLNonNull:GraphQLNonNull},inflection:inflection,pgOmit:omit}=build,{scope:{fieldName:fieldName,isPgFieldConnection:isPgFieldConnection,isPgFieldSimpleCollection:isPgFieldSimpleCollection,pgFieldIntrospection:pgFieldIntrospection,pgFieldIntrospectionTable:pgFieldIntrospectionTable},addArgDataGenerator:addArgDataGenerator,Self:Self}=context;if(!isPgFieldConnection&&!isPgFieldSimpleCollection)return args;const proc="procedure"===pgFieldIntrospection.kind?pgFieldIntrospection:null,table="class"===pgFieldIntrospection.kind?pgFieldIntrospection:proc?pgFieldIntrospectionTable:null;if(!table||!table.namespace||!table.isSelectable||omit(table,"order"))return args;if(proc&&!proc.tags.sortable)return args;const tableTypeName=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null).name,TableOrderByType=getTypeByName(inflection.orderByType(tableTypeName)),cursorPrefixFromOrderBy=orderBy=>{if(orderBy){const cursorPrefixes=[];for(let itemIndex=0,itemCount=orderBy.length;itemIndex<itemCount;itemIndex++){const item=orderBy[itemIndex];item.alias&&cursorPrefixes.push(sql.literal(item.alias))}if(cursorPrefixes.length>0)return cursorPrefixes}return null};return addArgDataGenerator((function({orderBy:rawOrderBy}){const orderBy=rawOrderBy?Array.isArray(rawOrderBy)?rawOrderBy:[rawOrderBy]:null;return{pgCursorPrefix:cursorPrefixFromOrderBy(orderBy),pgQuery:queryBuilder=>{null!=orderBy&&orderBy.forEach(item=>{const{specs:specs,unique:unique}=item;(Array.isArray(specs[0])||0===specs.length?specs:[specs]).forEach(([col,ascending,specNullsFirst])=>{const expr=(0,_isString.default)(col)?sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(col)}`:col,nullsFirst=null!=specNullsFirst?specNullsFirst:null!=orderByNullsLast?!orderByNullsLast:void 0;queryBuilder.orderBy(expr,ascending,nullsFirst)}),unique&&queryBuilder.setOrderIsUnique()})}}})),extend(args,{orderBy:{description:`The method to use when ordering \`${tableTypeName}\`.`,type:new GraphQLList(new GraphQLNonNull(TableOrderByType))}},`Adding 'orderBy' argument to field '${fieldName}' of '${Self.name}'`)},["PgConnectionArgOrderBy"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields:field:args",(args,build,context)=>{const{extend:extend,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,inflection:inflection}=build,{scope:{fieldName:fieldName,isPgFieldConnection:isPgFieldConnection,pgFieldIntrospection:table},Self:Self}=context;if(!(isPgFieldConnection&&table&&"class"===table.kind&&table.namespace&&table.isSelectable&&args.orderBy))return args;const tableTypeName=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null).name,TableOrderByType=getTypeByName(inflection.orderByType(tableTypeName));if(!TableOrderByType)return args;const defaultValueEnum=TableOrderByType.getValues().find(v=>"PRIMARY_KEY_ASC"===v.name)||TableOrderByType.getValues()[0];return extend(args,{orderBy:extend(args.orderBy,{defaultValue:defaultValueEnum&&[defaultValueEnum.value]},`Adding defaultValue to orderBy for field '${fieldName}' of '${Self.name}'`)})},["PgConnectionArgOrderByDefaultValue"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,pgIntrospectionResultsByKind:introspectionResultsByKind,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,graphql:{GraphQLInputObjectType:GraphQLInputObjectType,GraphQLString:GraphQLString},pgColumnFilter:pgColumnFilter,inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags}=build;return introspectionResultsByKind.class.forEach(table=>{if(!table.isSelectable||omit(table,"filter"))return;if(!table.namespace)return;const tableTypeName=inflection.tableType(table);newWithHooks(GraphQLInputObjectType,{description:`A condition to be used against \`${tableTypeName}\` object types. All fields are tested for equality and combined with a logical and.`,name:inflection.conditionType(inflection.tableType(table)),fields:context=>{const{fieldWithHooks:fieldWithHooks}=context;return table.attributes.reduce((memo,attr)=>{if(!pgColumnFilter(attr,build,context))return memo;if(omit(attr,"filter"))return memo;const fieldName=inflection.column(attr);return memo=build.extend(memo,{[fieldName]:fieldWithHooks(fieldName,{description:`Checks for equality with the objects \`${fieldName}\` field.`,type:pgGetGqlInputTypeByTypeIdAndModifier(attr.typeId,attr.typeModifier)||GraphQLString},{isPgConnectionConditionInputField:!0})},"Adding condition argument for "+describePgEntity(attr))},{})}},{__origin:`Adding condition type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,pgIntrospection:table,isPgCondition:!0},!0)}),_},["PgConnectionArgCondition"],[],["PgTypes"]),builder.hook("GraphQLObjectType:fields:field:args",(args,build,context)=>{const{pgSql:sql,gql2pg:gql2pg,extend:extend,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgColumnFilter:pgColumnFilter,inflection:inflection,pgOmit:omit}=build,{scope:{fieldName:fieldName,isPgFieldConnection:isPgFieldConnection,isPgFieldSimpleCollection:isPgFieldSimpleCollection,pgFieldIntrospection:pgFieldIntrospection,pgFieldIntrospectionTable:pgFieldIntrospectionTable},addArgDataGenerator:addArgDataGenerator,Self:Self}=context;if(!(isPgFieldConnection||isPgFieldSimpleCollection))return args;const proc="procedure"===pgFieldIntrospection.kind?pgFieldIntrospection:null,table="class"===pgFieldIntrospection.kind?pgFieldIntrospection:proc?pgFieldIntrospectionTable:null;if(!table||"class"!==table.kind||!table.namespace||omit(table,"filter"))return args;if(proc&&!proc.tags.filterable)return args;const TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null),TableConditionType=getTypeByName(inflection.conditionType(TableType.name));if(!TableConditionType)return args;const relevantAttributes=table.attributes.filter(attr=>pgColumnFilter(attr,build,context)&&!omit(attr,"filter"));return addArgDataGenerator((function({condition:condition}){return{pgQuery:queryBuilder=>{null!=condition&&relevantAttributes.forEach(attr=>{const fieldName=inflection.column(attr),val=condition[fieldName];null!=val?(queryBuilder.addLiveCondition(()=>record=>record[attr.name]===val),queryBuilder.where(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(attr.name)} = ${gql2pg(val,attr.type,attr.typeModifier)}`)):null===val&&(queryBuilder.addLiveCondition(()=>record=>null==record[attr.name]),queryBuilder.where(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(attr.name)} IS NULL`))})}}})),extend(args,{condition:{description:"A condition to be used in determining which values should be returned by the collection.",type:TableConditionType}},`Adding condition to connection field '${fieldName}' of '${Self.name}'`)},["PgConnectionArgCondition"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_PgComputedColumnsPlugin=__webpack_require__(116),_assert=(obj=__webpack_require__(67))&&obj.__esModule?obj:{default:obj};function getCompatibleComputedColumns(build,table){const{pgIntrospectionResultsByKind:introspectionResultsByKind,pgOmit:omit}=build;return introspectionResultsByKind.procedure.reduce((memo,proc)=>{if(!proc.tags.filterable)return memo;if(omit(proc,"execute"))return memo;const computedColumnDetails=(0,_PgComputedColumnsPlugin.getComputedColumnDetails)(build,table,proc);if(!computedColumnDetails)return memo;const{pseudoColumnName:pseudoColumnName}=computedColumnDetails;if(proc.inputArgsCount-proc.argDefaultsNum>1)return memo;if(proc.returnsSet)return memo;const returnType=introspectionResultsByKind.typeById[proc.returnTypeId];if(returnType.isPgArray)return memo;if(introspectionResultsByKind.classById[returnType.classId])return memo;if("2249"===returnType.id)return memo;return"2278"===String(returnType.id)||memo.push({proc:proc,pseudoColumnName:pseudoColumnName,returnType:returnType}),memo},[])}exports.default=function(builder){builder.hook("GraphQLInputObjectType:fields",(fields,build,context)=>{const{extend:extend,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,inflection:inflection,describePgEntity:describePgEntity}=build,{scope:{isPgCondition:isPgCondition,pgIntrospection:table},fieldWithHooks:fieldWithHooks}=context;if(!isPgCondition||!table||"class"!==table.kind)return fields;return extend(fields,getCompatibleComputedColumns(build,table).reduce((memo,{proc:proc,pseudoColumnName:pseudoColumnName})=>{const fieldName=inflection.computedColumn(pseudoColumnName,proc,table),Type=pgGetGqlInputTypeByTypeIdAndModifier(proc.returnTypeId,null);return Type?memo=build.extend(memo,{[fieldName]:fieldWithHooks(fieldName,{description:`Checks for equality with the objects \`${fieldName}\` field.`,type:Type},{isPgConnectionConditionInputField:!0,pgFieldIntrospection:proc})},"Adding computed column condition argument for "+describePgEntity(proc)):memo},{}))},["PgConditionComputedColumn"]),builder.hook("GraphQLObjectType:fields:field:args",(args,build,context)=>{const{pgSql:sql,gql2pg:gql2pg,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,inflection:inflection,pgOmit:omit,graphql:{getNullableType:getNullableType}}=build,{scope:{isPgFieldConnection:isPgFieldConnection,isPgFieldSimpleCollection:isPgFieldSimpleCollection,pgFieldIntrospection:pgFieldIntrospection,pgFieldIntrospectionTable:pgFieldIntrospectionTable},addArgDataGenerator:addArgDataGenerator}=context;if(!(isPgFieldConnection||isPgFieldSimpleCollection))return args;if(!args.condition)return args;const proc="procedure"===pgFieldIntrospection.kind?pgFieldIntrospection:null,table="class"===pgFieldIntrospection.kind?pgFieldIntrospection:proc?pgFieldIntrospectionTable:null;if(!table||"class"!==table.kind||!table.namespace||omit(table,"filter"))return args;const TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null),TableConditionType=getTypeByName(inflection.conditionType(TableType.name));if(!TableConditionType)return args;(0,_assert.default)(getNullableType(args.condition.type)===TableConditionType,"Condition is present, but doesn't match?");const compatibleComputedColumns=getCompatibleComputedColumns(build,table).map(o=>{const{proc:proc,pseudoColumnName:pseudoColumnName}=o,fieldName=inflection.computedColumn(pseudoColumnName,proc,table),sqlFnName=sql.identifier(proc.namespaceName,proc.name);return{...o,fieldName:fieldName,sqlFnName:sqlFnName}});return addArgDataGenerator((function({condition:condition}){return{pgQuery:queryBuilder=>{null!=condition&&compatibleComputedColumns.forEach(({fieldName:fieldName,sqlFnName:sqlFnName,returnType:returnType})=>{const val=condition[fieldName],sqlCall=sql.fragment`${sqlFnName}(${queryBuilder.getTableAlias()})`;null!=val?queryBuilder.where(sql.fragment`${sqlCall} = ${gql2pg(val,returnType,null)}`):null===val&&queryBuilder.where(sql.fragment`${sqlCall} IS NULL`)})}}})),args},["PgConditionComputedColumn"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_debugSql=(obj=__webpack_require__(56))&&obj.__esModule?obj:{default:obj};exports.default=async function(builder,{pgViewUniqueKey:pgViewUniqueKey,pgSimpleCollections:pgSimpleCollections,subscriptions:subscriptions}){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{parseResolveInfo:parseResolveInfo,extend:extend,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgSql:sql,pgIntrospectionResultsByKind:introspectionResultsByKind,inflection:inflection,graphql:{GraphQLList:GraphQLList,GraphQLNonNull:GraphQLNonNull},pgQueryFromResolveData:queryFromResolveData,pgAddStartEndCursor:addStartEndCursor,pgOmit:omit,pgPrepareAndRun:pgPrepareAndRun}=build,{fieldWithHooks:fieldWithHooks,scope:{isRootQuery:isRootQuery}}=context;return isRootQuery?extend(fields,introspectionResultsByKind.class.reduce((memo,table)=>{if(!table.isSelectable)return memo;if(!table.namespace)return memo;if(omit(table,"all"))return memo;const TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null);if(!TableType)return memo;const tableTypeName=TableType.name,ConnectionType=getTypeByName(inflection.connection(TableType.name));if(!TableType)throw new Error(`Could not find GraphQL type for table '${table.name}'`);const attributes=table.attributes,primaryKeyConstraint=table.primaryKeyConstraint,primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes,isView=t=>"v"===t.classKind,viewUniqueKey=table.tags.uniqueKey||pgViewUniqueKey,uniqueIdAttribute=viewUniqueKey?attributes.find(attr=>attr.name===viewUniqueKey):void 0;if(isView&&table.tags.uniqueKey&&!uniqueIdAttribute)throw new Error(`Could not find the named unique key '${table.tags.uniqueKey}' on view '${table.namespaceName}.${table.name}'`);if(!ConnectionType)throw new Error(`Could not find GraphQL connection type for table '${table.name}'`);const schema=table.namespace,sqlFullTableName=sql.identifier(schema.name,table.name);function makeField(isConnection){const fieldName=isConnection?inflection.allRows(table):inflection.allRowsSimple(table);memo[fieldName]=fieldWithHooks(fieldName,({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment})=>({description:isConnection?`Reads and enables pagination through a set of \`${tableTypeName}\`.`:`Reads a set of \`${tableTypeName}\`.`,type:isConnection?ConnectionType:new GraphQLList(new GraphQLNonNull(TableType)),args:{},async resolve(parent,args,resolveContext,resolveInfo){const{pgClient:pgClient}=resolveContext,parsedResolveInfoFragment=parseResolveInfo(resolveInfo);parsedResolveInfoFragment.args=args;const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,resolveInfo.returnType);let checkerGenerator;const query=queryFromResolveData(sqlFullTableName,void 0,resolveData,{useAsterisk:table.canUseAsterisk,withPaginationAsFields:isConnection},queryBuilder=>{subscriptions&&queryBuilder.makeLiveCollection(table,_checkerGenerator=>{checkerGenerator=_checkerGenerator}),primaryKeys?(subscriptions&&!isConnection&&queryBuilder.selectIdentifiers(table),queryBuilder.beforeLock("orderBy",()=>{queryBuilder.isOrderUnique(!1)||(queryBuilder.data.cursorPrefix=["primary_key_asc"],primaryKeys.forEach(key=>{queryBuilder.orderBy(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(key.name)}`,!0)}),queryBuilder.setOrderIsUnique())})):isView(table)&&uniqueIdAttribute&&queryBuilder.beforeLock("orderBy",()=>{queryBuilder.isOrderUnique(!1)||(queryBuilder.data.cursorPrefix=["view_unique_key_asc"],queryBuilder.orderBy(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(uniqueIdAttribute.name)}`,!0),queryBuilder.setOrderIsUnique())})},resolveContext,resolveInfo.rootValue),{text:text,values:values}=sql.compile(query);_debugSql.default.enabled&&(0,_debugSql.default)(text);const result=await pgPrepareAndRun(pgClient,text,values),liveCollection=resolveInfo.rootValue&&resolveInfo.rootValue.liveCollection;if(subscriptions&&liveCollection&&checkerGenerator){const checker=checkerGenerator();liveCollection("pg",table,checker)}if(isConnection){const{rows:[row]}=result;return addStartEndCursor(row)}{const liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return subscriptions&&!isConnection&&primaryKeys&&liveRecord&&result.rows.forEach(row=>row&&liveRecord("pg",table,row.__identifiers)),result.rows}}}),{isPgFieldConnection:isConnection,isPgFieldSimpleCollection:!isConnection,pgFieldIntrospection:table})}const simpleCollections=table.tags.simpleCollections||pgSimpleCollections,hasSimpleCollections="only"===simpleCollections||"both"===simpleCollections;return TableType&&ConnectionType&&"only"!==simpleCollections&&makeField(!0),TableType&&hasSimpleCollections&&makeField(!1),memo},{}),"Adding 'all*' relations to root Query"):fields},["PgAllRows"],[],["PgTables"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const nullableIf=(GraphQLNonNull,condition,Type)=>condition?Type:new GraphQLNonNull(Type);exports.default=function(builder){builder.hook("build",build=>{const{pgSql:sql,pgTweakFragmentForTypeAndModifier:pgTweakFragmentForTypeAndModifier,pgQueryFromResolveData:queryFromResolveData}=build,getSelectValueForFieldAndTypeAndModifier=(ReturnType,fieldScope,parsedResolveInfoFragment,sqlFullName,type,typeModifier)=>{const{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment}=fieldScope;if(type.isPgArray){const ident=sql.identifier(Symbol());return sql.fragment`(\
case
when ${sqlFullName} is null then null
when coalesce(array_length(${sqlFullName}, 1), 0) = 0 then '[]'::json
else (
  select json_agg(${getSelectValueForFieldAndTypeAndModifier(ReturnType,fieldScope,parsedResolveInfoFragment,ident,type.arrayItemType,typeModifier)}) from unnest(${sqlFullName}) as ${ident}
)
end
)`}{const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,ReturnType);if("c"===type.type){const isDefinitelyNotATable=type.class&&!type.class.isSelectable;return queryFromResolveData(sql.identifier(Symbol()),sqlFullName,resolveData,{onlyJsonField:!0,addNullCase:!isDefinitelyNotATable,addNotDistinctFromNullCase:isDefinitelyNotATable})}return pgTweakFragmentForTypeAndModifier(sqlFullName,type,typeModifier,resolveData)}};return build.extend(build,{pgGetSelectValueForFieldAndTypeAndModifier:getSelectValueForFieldAndTypeAndModifier})},["PgColumns"],[],["PgTypes"]),builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgSql:sql,pg2gqlForType:pg2gqlForType,graphql:{GraphQLString:GraphQLString,GraphQLNonNull:GraphQLNonNull},pgColumnFilter:pgColumnFilter,inflection:inflection,pgOmit:omit,pgGetSelectValueForFieldAndTypeAndModifier:getSelectValueForFieldAndTypeAndModifier,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags}=build,{scope:{isPgRowType:isPgRowType,isPgCompoundType:isPgCompoundType,pgIntrospection:table},fieldWithHooks:fieldWithHooks}=context;return(isPgRowType||isPgCompoundType)&&table&&"class"===table.kind?extend(fields,table.attributes.reduce((memo,attr)=>{if(!pgColumnFilter(attr,build,context))return memo;if(omit(attr,"read"))return memo;const fieldName=inflection.column(attr);if(memo[fieldName])throw new Error(`Two columns produce the same GraphQL field name '${fieldName}' on class '${table.namespaceName}.${table.name}'; one of them is '${attr.name}'`);return memo=extend(memo,{[fieldName]:fieldWithHooks(fieldName,fieldContext=>{const{type:type,typeModifier:typeModifier}=attr,sqlColumn=sql.identifier(attr.name),{addDataGenerator:addDataGenerator}=fieldContext,ReturnType=pgGetGqlTypeByTypeIdAndModifier(attr.typeId,attr.typeModifier)||GraphQLString;addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{queryBuilder.select(getSelectValueForFieldAndTypeAndModifier(ReturnType,fieldContext,parsedResolveInfoFragment,sql.fragment`(${queryBuilder.getTableAlias()}.${sqlColumn})`,type,typeModifier),fieldName)}}));const convertFromPg=pg2gqlForType(type);return{description:attr.description,type:nullableIf(GraphQLNonNull,!attr.isNotNull&&!attr.type.domainIsNotNull&&!attr.tags.notNull,ReturnType),resolve:(data,_args,_context,_resolveInfo)=>convertFromPg(data[fieldName])}},{pgFieldIntrospection:attr})},`Adding field for ${describePgEntity(attr)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(attr,{name:"newNameHere"})}`)},{}),`Adding columns to '${describePgEntity(table)}'`):fields},["PgColumns"]),builder.hook("GraphQLInputObjectType:fields",(fields,build,context)=>{const{extend:extend,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,graphql:{GraphQLString:GraphQLString,GraphQLNonNull:GraphQLNonNull},pgColumnFilter:pgColumnFilter,inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags}=build,{scope:{isPgRowType:isPgRowType,isPgCompoundType:isPgCompoundType,isPgPatch:isPgPatch,isPgBaseInput:isPgBaseInput,pgIntrospection:table,pgAddSubfield:pgAddSubfield},fieldWithHooks:fieldWithHooks}=context;return(isPgRowType||isPgCompoundType)&&table&&"class"===table.kind?extend(fields,table.attributes.reduce((memo,attr)=>{if(!pgColumnFilter(attr,build,context))return memo;if(omit(attr,isPgBaseInput?"base":isPgPatch?"update":"create"))return memo;if("a"===attr.identity)return memo;const fieldName=inflection.column(attr);if(memo[fieldName])throw new Error(`Two columns produce the same GraphQL field name '${fieldName}' on input class '${table.namespaceName}.${table.name}'; one of them is '${attr.name}'`);return memo=extend(memo,{[fieldName]:fieldWithHooks(fieldName,pgAddSubfield(fieldName,attr.name,attr.type,{description:attr.description,type:nullableIf(GraphQLNonNull,isPgBaseInput||isPgPatch||!attr.isNotNull&&(!attr.type.domainIsNotNull||attr.type.domainHasDefault)&&!attr.tags.notNull||attr.hasDefault||"d"===attr.identity,pgGetGqlInputTypeByTypeIdAndModifier(attr.typeId,attr.typeModifier)||GraphQLString)},attr.typeModifier),{pgFieldIntrospection:attr})},`Adding input object field for ${describePgEntity(attr)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(attr,{name:"newNameHere"})}`)},{}),"Adding columns to input object for "+describePgEntity(table)):fields},["PgColumns"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields:field",(field,build,context)=>{const{scope:{pgFieldIntrospection:pgFieldIntrospection}}=context;return pgFieldIntrospection&&pgFieldIntrospection.tags&&pgFieldIntrospection.tags.deprecated?{...field,deprecationReason:Array.isArray(pgFieldIntrospection.tags.deprecated)?pgFieldIntrospection.tags.deprecated.join("\n"):pgFieldIntrospection.tags.deprecated}:field},["PgColumnDeprecation"])}},function(module,exports,__webpack_require__){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const debug=(0,((obj=__webpack_require__(19))&&obj.__esModule?obj:{default:obj}).default)("graphile-build-pg");exports.default=function(builder,{subscriptions:subscriptions}){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,getSafeAliasFromAlias:getSafeAliasFromAlias,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgIntrospectionResultsByKind:introspectionResultsByKind,pgSql:sql,inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgOmit:omit,sqlCommentByAddingTags:sqlCommentByAddingTags,describePgEntity:describePgEntity}=build,{scope:{isPgRowType:isPgRowType,isPgCompositeType:isPgCompositeType,isMutationPayload:isMutationPayload,pgIntrospection:pgIntrospection,pgIntrospectionTable:pgIntrospectionTable},fieldWithHooks:fieldWithHooks,Self:Self}=context,table=pgIntrospectionTable||pgIntrospection;if(!(isPgRowType||isMutationPayload||isPgCompositeType)||!table||"class"!==table.kind||!table.namespace)return fields;if(isMutationPayload&&"procedure"===pgIntrospection.kind&&(pgIntrospection.returnTypeId!==table.typeId||pgIntrospection.returnsSet))return fields;const foreignKeyConstraints=table.constraints.filter(con=>"f"===con.type);return extend(fields,foreignKeyConstraints.reduce((memo,constraint)=>{if(omit(constraint,"read"))return memo;const gqlTableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null),tableTypeName=gqlTableType.name;if(!gqlTableType)return debug("Could not determine type for table with id "+constraint.classId),memo;const foreignTable=introspectionResultsByKind.classById[constraint.foreignClassId],gqlForeignTableType=pgGetGqlTypeByTypeIdAndModifier(foreignTable.type.id,null),foreignTableTypeName=gqlForeignTableType.name;if(!gqlForeignTableType)return debug("Could not determine type for foreign table with id "+constraint.foreignClassId),memo;if(!foreignTable)throw new Error(`Could not find the foreign table (constraint: ${constraint.name})`);if(omit(foreignTable,"read"))return memo;const foreignSchema=foreignTable.namespace,keys=constraint.keyAttributes,foreignKeys=constraint.foreignKeyAttributes;if(!keys.every(_=>_)||!foreignKeys.every(_=>_))throw new Error("Could not find key columns!");if(keys.some(key=>omit(key,"read")))return memo;if(foreignKeys.some(key=>omit(key,"read")))return memo;const fieldName=inflection.singleRelationByKeys(keys,foreignTable,table,constraint);return memo=extend(memo,{[fieldName]:fieldWithHooks(fieldName,({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment,addDataGenerator:addDataGenerator})=>(addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{queryBuilder.select(()=>{const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,gqlForeignTableType),foreignTableAlias=sql.identifier(Symbol()),query=queryFromResolveData(sql.identifier(foreignSchema.name,foreignTable.name),foreignTableAlias,resolveData,{useAsterisk:!1,asJson:!0},innerQueryBuilder=>{innerQueryBuilder.parentQueryBuilder=queryBuilder,subscriptions&&table.primaryKeyConstraint&&queryBuilder.selectIdentifiers(table),subscriptions&&foreignTable.primaryKeyConstraint&&innerQueryBuilder.selectIdentifiers(foreignTable),keys.forEach((key,i)=>{innerQueryBuilder.where(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(key.name)} = ${foreignTableAlias}.${sql.identifier(foreignKeys[i].name)}`)})},queryBuilder.context,queryBuilder.rootValue);return sql.fragment`(${query})`},getSafeAliasFromAlias(parsedResolveInfoFragment.alias))}})),{description:constraint.tags.forwardDescription||`Reads a single \`${foreignTableTypeName}\` that is related to this \`${tableTypeName}\`.`,type:gqlForeignTableType,resolve:(rawData,_args,resolveContext,resolveInfo)=>{const data=isMutationPayload?rawData.data:rawData;if(!data)return null;const record=data[getSafeAliasFromResolveInfo(resolveInfo)],liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return record&&liveRecord&&liveRecord("pg",foreignTable,record.__identifiers),record}}),{pgFieldIntrospection:constraint,isPgForwardRelationField:!0})},`Forward relation for ${describePgEntity(constraint)}. To rename this relation with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(constraint,{fieldName:"newNameHere"})}`)},{}),`Adding forward relations to '${Self.name}'`)},["PgForwardRelation"])}},function(module,exports,__webpack_require__){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const debug=(0,((obj=__webpack_require__(19))&&obj.__esModule?obj:{default:obj}).default)("graphile-build-pg");exports.default=function(builder,{pgLegacyRelations:pgLegacyRelations,pgSimpleCollections:pgSimpleCollections,subscriptions:subscriptions}){const legacyRelationMode={only:2,deprecated:1}[pgLegacyRelations]||0;builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgIntrospectionResultsByKind:introspectionResultsByKind,pgSql:sql,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,getSafeAliasFromAlias:getSafeAliasFromAlias,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLList:GraphQLList},inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgAddStartEndCursor:addStartEndCursor,pgOmit:omit,sqlCommentByAddingTags:sqlCommentByAddingTags,describePgEntity:describePgEntity}=build,{scope:{isPgRowType:isPgRowType,pgIntrospection:foreignTable},fieldWithHooks:fieldWithHooks,Self:Self}=context;if(!isPgRowType||!foreignTable||"class"!==foreignTable.kind)return fields;const foreignKeyConstraints=foreignTable.foreignConstraints.filter(con=>"f"===con.type),foreignTableTypeName=inflection.tableType(foreignTable);return pgGetGqlTypeByTypeIdAndModifier(foreignTable.type.id,null)?extend(fields,foreignKeyConstraints.reduce((memo,constraint)=>{if(omit(constraint,"read"))return memo;const table=introspectionResultsByKind.classById[constraint.classId];if(!table)throw new Error(`Could not find the table that referenced us (constraint: ${constraint.name})`);if(!table.isSelectable)return memo;const tableTypeName=inflection.tableType(table),gqlTableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null);if(!gqlTableType)return debug("Could not determine type for table with id "+constraint.classId),memo;const schema=table.namespace,keys=constraint.keyAttributes,foreignKeys=constraint.foreignKeyAttributes;if(!keys.every(_=>_)||!foreignKeys.every(_=>_))throw new Error("Could not find key columns!");if(keys.some(key=>omit(key,"read")))return memo;if(foreignKeys.some(key=>omit(key,"read")))return memo;const isUnique=!!table.constraints.find(c=>("p"===c.type||"u"===c.type)&&c.keyAttributeNums.length===keys.length&&c.keyAttributeNums.every((n,i)=>keys[i].num===n)),isDeprecated=isUnique&&1===legacyRelationMode,singleRelationFieldName=isUnique?inflection.singleRelationByKeysBackwards(keys,table,foreignTable,constraint):null,primaryKeyConstraint=table.primaryKeyConstraint,primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes,shouldAddManyRelation=!isUnique||1===legacyRelationMode||2===legacyRelationMode;function makeFields(isConnection){const manyRelationFieldName=isConnection?inflection.manyRelationByKeys(keys,table,foreignTable,constraint):inflection.manyRelationByKeysSimple(keys,table,foreignTable,constraint);memo=extend(memo,{[manyRelationFieldName]:fieldWithHooks(manyRelationFieldName,({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment,addDataGenerator:addDataGenerator})=>{const sqlFrom=sql.identifier(schema.name,table.name),queryOptions={useAsterisk:table.canUseAsterisk,withPagination:isConnection,withPaginationAsFields:!1,asJsonAggregate:!isConnection};addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{queryBuilder.select(()=>{const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,isConnection?ConnectionType:TableType),tableAlias=sql.identifier(Symbol()),foreignTableAlias=queryBuilder.getTableAlias(),query=queryFromResolveData(sqlFrom,tableAlias,resolveData,queryOptions,innerQueryBuilder=>{innerQueryBuilder.parentQueryBuilder=queryBuilder,subscriptions&&(innerQueryBuilder.makeLiveCollection(table),innerQueryBuilder.addLiveCondition(data=>record=>keys.every(key=>record[key.name]===data[key.name]),keys.reduce((memo,key,i)=>(memo[key.name]=sql.fragment`${foreignTableAlias}.${sql.identifier(foreignKeys[i].name)}`,memo),{}))),primaryKeys&&(subscriptions&&!isConnection&&table.primaryKeyConstraint&&innerQueryBuilder.selectIdentifiers(table),innerQueryBuilder.beforeLock("orderBy",()=>{innerQueryBuilder.isOrderUnique(!1)||(innerQueryBuilder.data.cursorPrefix=["primary_key_asc"],primaryKeys.forEach(key=>{innerQueryBuilder.orderBy(sql.fragment`${innerQueryBuilder.getTableAlias()}.${sql.identifier(key.name)}`,!0)}),innerQueryBuilder.setOrderIsUnique())})),keys.forEach((key,i)=>{innerQueryBuilder.where(sql.fragment`${tableAlias}.${sql.identifier(key.name)} = ${foreignTableAlias}.${sql.identifier(foreignKeys[i].name)}`)})},queryBuilder.context,queryBuilder.rootValue);return sql.fragment`(${query})`},getSafeAliasFromAlias(parsedResolveInfoFragment.alias))}}));const ConnectionType=getTypeByName(inflection.connection(gqlTableType.name)),TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null);return{description:constraint.tags.backwardDescription||`Reads and enables pagination through a set of \`${tableTypeName}\`.`,type:new GraphQLNonNull(isConnection?ConnectionType:new GraphQLList(new GraphQLNonNull(TableType))),args:{},resolve:(data,_args,resolveContext,resolveInfo)=>{const safeAlias=getSafeAliasFromResolveInfo(resolveInfo),liveCollection=resolveInfo.rootValue&&resolveInfo.rootValue.liveCollection,liveConditions=resolveInfo.rootValue&&resolveInfo.rootValue.liveConditions;if(subscriptions&&liveCollection&&liveConditions&&data.__live){const{__id:__id,...rest}=data.__live,checker=(0,liveConditions[__id])(rest);liveCollection("pg",table,checker)}if(isConnection)return addStartEndCursor(data[safeAlias]);{const records=data[safeAlias],liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return primaryKeys&&subscriptions&&liveRecord&&records.forEach(r=>r&&r.__identifiers&&liveRecord("pg",table,r.__identifiers)),records}},...isDeprecated?{deprecationReason:singleRelationFieldName?`Please use ${singleRelationFieldName} instead`:"Please use singular instead"}:null}},{isPgFieldConnection:isConnection,isPgFieldSimpleCollection:!isConnection,isPgBackwardRelationField:!0,pgFieldIntrospection:table})},`Backward relation (${isConnection?"connection":"simple collection"}) for ${describePgEntity(constraint)}. To rename this relation with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(constraint,{[isConnection?"foreignFieldName":"foreignSimpleFieldName"]:"newNameHere"})}`)}if(isUnique&&2!==legacyRelationMode&&!omit(table,"read")&&singleRelationFieldName&&(memo=extend(memo,{[singleRelationFieldName]:fieldWithHooks(singleRelationFieldName,({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment,addDataGenerator:addDataGenerator})=>{const sqlFrom=sql.identifier(schema.name,table.name);return addDataGenerator(parsedResolveInfoFragment=>({pgQuery:queryBuilder=>{queryBuilder.select(()=>{const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,gqlTableType),tableAlias=sql.identifier(Symbol()),foreignTableAlias=queryBuilder.getTableAlias(),query=queryFromResolveData(sqlFrom,tableAlias,resolveData,{useAsterisk:!1,asJson:!0,addNullCase:!0,withPagination:!1},innerQueryBuilder=>{innerQueryBuilder.parentQueryBuilder=queryBuilder,subscriptions&&table.primaryKeyConstraint&&innerQueryBuilder.selectIdentifiers(table),keys.forEach((key,i)=>{innerQueryBuilder.where(sql.fragment`${tableAlias}.${sql.identifier(key.name)} = ${foreignTableAlias}.${sql.identifier(foreignKeys[i].name)}`)})},queryBuilder.context,queryBuilder.rootValue);return sql.fragment`(${query})`},getSafeAliasFromAlias(parsedResolveInfoFragment.alias))}})),{description:constraint.tags.backwardDescription||`Reads a single \`${tableTypeName}\` that is related to this \`${foreignTableTypeName}\`.`,type:gqlTableType,args:{},resolve:(data,_args,resolveContext,resolveInfo)=>{const record=data[getSafeAliasFromResolveInfo(resolveInfo)],liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;return record&&liveRecord&&liveRecord("pg",table,record.__identifiers),record}}},{pgFieldIntrospection:table,isPgBackwardSingleRelationField:!0})},`Backward relation (single) for ${describePgEntity(constraint)}. To rename this relation with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(constraint,{foreignSingleFieldName:"newNameHere"})}`)),shouldAddManyRelation&&!omit(table,"many")&&!omit(constraint,"many")){const simpleCollections=constraint.tags.simpleCollections||table.tags.simpleCollections||pgSimpleCollections,hasSimpleCollections="only"===simpleCollections||"both"===simpleCollections;"only"!==simpleCollections&&makeFields(!0),hasSimpleCollections&&!isUnique&&makeFields(!1)}return memo},{}),"Adding backward relations for "+Self.name):(debug("Could not determine type for foreign table with id "+foreignTable.type.id),fields)},["PgBackwardRelation"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_debugSql=(obj=__webpack_require__(56))&&obj.__esModule?obj:{default:obj};exports.default=async function(builder,{subscriptions:subscriptions}){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,parseResolveInfo:parseResolveInfo,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,gql2pg:gql2pg,pgIntrospectionResultsByKind:introspectionResultsByKind,pgSql:sql,graphql:{GraphQLNonNull:GraphQLNonNull},inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgOmit:omit,pgPrepareAndRun:pgPrepareAndRun}=build,{scope:{isRootQuery:isRootQuery},fieldWithHooks:fieldWithHooks}=context;return isRootQuery?extend(fields,introspectionResultsByKind.class.reduce((memo,table)=>{if(!table.namespace)return memo;if(omit(table,"read"))return memo;const TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null),sqlFullTableName=sql.identifier(table.namespace.name,table.name);if(TableType){table.constraints.filter(con=>"u"===con.type||"p"===con.type).forEach(constraint=>{if(omit(constraint,"read"))return;const keys=constraint.keyAttributes;if(keys.some(key=>omit(key,"read")))return;if(!keys.every(_=>_))throw new Error("Consistency error: could not find an attribute!");const fieldName=inflection.rowByUniqueKeys(keys,table,constraint),keysIncludingMeta=keys.map(key=>({...key,sqlIdentifier:sql.identifier(key.name),columnName:inflection.column(key)})),queryFromResolveDataOptions={useAsterisk:!1};memo[fieldName]=fieldWithHooks(fieldName,({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment})=>({type:TableType,args:keysIncludingMeta.reduce((memo,{typeId:typeId,typeModifier:typeModifier,columnName:columnName,name:name})=>{const InputType=pgGetGqlInputTypeByTypeIdAndModifier(typeId,typeModifier);if(!InputType)throw new Error(`Could not find input type for key '${name}' on type '${TableType.name}'`);return memo[columnName]={type:new GraphQLNonNull(InputType)},memo},{}),async resolve(parent,args,resolveContext,resolveInfo){const{pgClient:pgClient}=resolveContext,liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord,parsedResolveInfoFragment=parseResolveInfo(resolveInfo);parsedResolveInfoFragment.args=args;const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,TableType),query=queryFromResolveData(sqlFullTableName,void 0,resolveData,queryFromResolveDataOptions,queryBuilder=>((queryBuilder,args)=>{subscriptions&&table.primaryKeyConstraint&&queryBuilder.selectIdentifiers(table);const sqlTableAlias=queryBuilder.getTableAlias();keysIncludingMeta.forEach(({sqlIdentifier:sqlIdentifier,columnName:columnName,type:type,typeModifier:typeModifier})=>{queryBuilder.where(sql.fragment`${sqlTableAlias}.${sqlIdentifier} = ${gql2pg(args[columnName],type,typeModifier)}`)})})(queryBuilder,args),resolveContext,resolveInfo.rootValue),{text:text,values:values}=sql.compile(query);_debugSql.default.enabled&&(0,_debugSql.default)(text);const{rows:[row]}=await pgPrepareAndRun(pgClient,text,values);return subscriptions&&liveRecord&&row&&liveRecord("pg",table,row.__identifiers),row}}),{isPgRowByUniqueConstraintField:!0,pgFieldIntrospection:constraint})})}return memo},{}),'Adding "row by unique constraint" fields to root Query type'):fields},["PgRowByUniqueConstraint"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder,{pgSimpleCollections:pgSimpleCollections}){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,inflection:inflection,pgIntrospectionResultsByKind:introspectionResultsByKind,pgMakeProcField:makeProcField,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,swallowError:swallowError}=build,{scope:{isRootQuery:isRootQuery},fieldWithHooks:fieldWithHooks}=context;return isRootQuery?extend(fields,introspectionResultsByKind.procedure.reduce((memo,proc)=>{if(!proc.isStable)return memo;if(!proc.namespace)return memo;if(omit(proc,"execute"))return memo;const argTypes=proc.argTypeIds.reduce((prev,typeId,idx)=>(0!==proc.argModes.length&&"i"!==proc.argModes[idx]&&"b"!==proc.argModes[idx]||prev.push(introspectionResultsByKind.typeById[typeId]),prev),[]);if(argTypes.some(type=>"c"===type.type&&type.class&&type.class.isSelectable))return memo;const firstArgType=argTypes[0];if(firstArgType&&"c"===firstArgType.type&&firstArgType.class&&firstArgType.namespaceId===proc.namespaceId&&proc.name.startsWith(firstArgType.name+"_"))return memo;function makeField(forceList){const fieldName=forceList?inflection.functionQueryNameList(proc):inflection.functionQueryName(proc);try{memo=extend(memo,{[fieldName]:makeProcField(fieldName,proc,build,{fieldWithHooks:fieldWithHooks,forceList:forceList})},`Adding query field for ${describePgEntity(proc)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`)}catch(e){swallowError(e)}}const simpleCollections=proc.tags.simpleCollections||pgSimpleCollections,hasConnections="only"!==simpleCollections,hasSimpleCollections="only"===simpleCollections||"both"===simpleCollections;return proc.returnsSet&&!hasConnections||makeField(!1),proc.returnsSet&&hasSimpleCollections&&makeField(!0),memo},{}),"Adding query procedures to root Query type"):fields},["PgQueryProcedures"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLEnumType:values",(values,build,context)=>{const{extend:extend,pgColumnFilter:pgColumnFilter,inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags}=build,{scope:{isPgRowSortEnum:isPgRowSortEnum,pgIntrospection:table}}=context;return isPgRowSortEnum&&table&&"class"===table.kind?extend(values,table.attributes.reduce((memo,attr)=>{if(!pgColumnFilter(attr,build,context))return memo;if(omit(attr,"order"))return memo;const unique=attr.isUnique,ascFieldName=inflection.orderByColumnEnum(attr,!0),descFieldName=inflection.orderByColumnEnum(attr,!1);return memo=extend(memo,{[ascFieldName]:{value:{alias:ascFieldName.toLowerCase(),specs:[[attr.name,!0]],unique:unique}}},`Adding ascending orderBy enum value for ${describePgEntity(attr)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(attr,{name:"newNameHere"})}`),memo=extend(memo,{[descFieldName]:{value:{alias:descFieldName.toLowerCase(),specs:[[attr.name,!1]],unique:unique}}},`Adding descending orderBy enum value for ${describePgEntity(attr)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(attr,{name:"newNameHere"})}`)},{}),`Adding order values from table '${table.name}'`):values},["PgOrderAllColumns"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _PgComputedColumnsPlugin=__webpack_require__(116);exports.default=function(builder){builder.hook("GraphQLEnumType:values",(values,build,context)=>{const{extend:extend,inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,pgIntrospectionResultsByKind:introspectionResultsByKind,pgSql:sql}=build,{scope:{isPgRowSortEnum:isPgRowSortEnum,pgIntrospection:table}}=context;if(!isPgRowSortEnum||!table||"class"!==table.kind)return values;const compatibleComputedColumns=introspectionResultsByKind.procedure.reduce((memo,proc)=>{if(!proc.tags.sortable)return memo;if(omit(proc,"execute"))return memo;const computedColumnDetails=(0,_PgComputedColumnsPlugin.getComputedColumnDetails)(build,table,proc);if(!computedColumnDetails)return memo;const{pseudoColumnName:pseudoColumnName}=computedColumnDetails;if(proc.inputArgsCount-proc.argDefaultsNum>1)return memo;if(proc.returnsSet)return memo;const returnType=introspectionResultsByKind.typeById[proc.returnTypeId];if(returnType.isPgArray)return memo;if(introspectionResultsByKind.classById[returnType.classId])return memo;if("2249"===returnType.id)return memo;return"2278"===String(returnType.id)||memo.push({proc:proc,pseudoColumnName:pseudoColumnName}),memo},[]);return extend(values,compatibleComputedColumns.reduce((memo,{proc:proc,pseudoColumnName:pseudoColumnName})=>{const ascFieldName=inflection.orderByComputedColumnEnum(pseudoColumnName,proc,table,!0),descFieldName=inflection.orderByComputedColumnEnum(pseudoColumnName,proc,table,!1),unique=!!proc.tags.isUnique,functionCall=({queryBuilder:queryBuilder})=>sql.fragment`(${sql.identifier(proc.namespaceName,proc.name)}(${queryBuilder.getTableAlias()}))`;return memo=extend(memo,{[ascFieldName]:{value:{alias:ascFieldName.toLowerCase(),specs:[[functionCall,!0]],unique:unique}}},`Adding ascending orderBy enum value for ${describePgEntity(proc)}. You can rename this field by removing the '@sortable' smart comment from the function.`),memo=extend(memo,{[descFieldName]:{value:{alias:descFieldName.toLowerCase(),specs:[[functionCall,!1]],unique:unique}}},`Adding descending orderBy enum value for ${describePgEntity(proc)}. You can rename this field by removing the '@sortable' smart comment from the function.`)},{}),`Adding order values from table '${table.name}'`)},["PgOrderComputedColumns"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLEnumType:values",(values,build,context)=>{const{extend:extend}=build,{scope:{isPgRowSortEnum:isPgRowSortEnum,pgIntrospection:table}}=context;if(!isPgRowSortEnum||!table||"class"!==table.kind)return values;const primaryKeyConstraint=table.primaryKeyConstraint;if(!primaryKeyConstraint)return values;const primaryKeys=primaryKeyConstraint.keyAttributes;return extend(values,{PRIMARY_KEY_ASC:{value:{alias:"primary_key_asc",specs:primaryKeys.map(key=>[key.name,!0]),unique:!0}},PRIMARY_KEY_DESC:{value:{alias:"primary_key_desc",specs:primaryKeys.map(key=>[key.name,!1]),unique:!0}}},`Adding primary key asc/desc sort to table '${table.name}'`)},["PgOrderByPrimaryKey"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_debugSql=(obj=__webpack_require__(56))&&obj.__esModule?obj:{default:obj};exports.default=async function(builder,{subscriptions:subscriptions}){builder.hook("GraphQLObjectType",(object,build,context)=>{const{addNodeFetcherForTypeName:addNodeFetcherForTypeName,pgSql:sql,gql2pg:gql2pg,pgQueryFromResolveData:queryFromResolveData,pgOmit:omit,pgPrepareAndRun:pgPrepareAndRun}=build,{scope:{isPgRowType:isPgRowType,pgIntrospection:table}}=context;if(!addNodeFetcherForTypeName)return object;if(!isPgRowType||!table.namespace||omit(table,"read"))return object;const sqlFullTableName=sql.identifier(table.namespace.name,table.name),primaryKeyConstraint=table.primaryKeyConstraint;if(!primaryKeyConstraint)return object;const primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes;return addNodeFetcherForTypeName(object.name,async(data,identifiers,resolveContext,parsedResolveInfoFragment,ReturnType,resolveData,resolveInfo)=>{const{pgClient:pgClient}=resolveContext,liveRecord=resolveInfo&&resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord;if(identifiers.length!==primaryKeys.length)throw new Error("Invalid ID");const query=queryFromResolveData(sqlFullTableName,void 0,resolveData,{useAsterisk:!1},queryBuilder=>{subscriptions&&table.primaryKeyConstraint&&queryBuilder.selectIdentifiers(table),primaryKeys.forEach((key,idx)=>{queryBuilder.where(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(key.name)} = ${gql2pg(identifiers[idx],primaryKeys[idx].type,primaryKeys[idx].typeModifier)}`)})},resolveContext,resolveInfo&&resolveInfo.rootValue),{text:text,values:values}=sql.compile(query);_debugSql.default.enabled&&(0,_debugSql.default)(text);const{rows:[row]}=await pgPrepareAndRun(pgClient,text,values);return subscriptions&&liveRecord&&row&&liveRecord("pg",table,row.__identifiers),row}),object},["PgRowNode"]),builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{nodeIdFieldName:nodeIdFieldName,getTypeAndIdentifiersFromNodeId:getTypeAndIdentifiersFromNodeId,extend:extend,parseResolveInfo:parseResolveInfo,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgIntrospectionResultsByKind:introspectionResultsByKind,pgSql:sql,gql2pg:gql2pg,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLID:GraphQLID},inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgPrepareAndRun:pgPrepareAndRun}=build,{scope:{isRootQuery:isRootQuery},fieldWithHooks:fieldWithHooks}=context;return isRootQuery&&nodeIdFieldName?extend(fields,introspectionResultsByKind.class.reduce((memo,table)=>{if(!table.namespace)return memo;if(omit(table,"read"))return memo;const TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null),sqlFullTableName=sql.identifier(table.namespace.name,table.name);if(TableType){const primaryKeyConstraint=table.primaryKeyConstraint;if(!primaryKeyConstraint)return memo;const primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes,fieldName=inflection.tableNode(table);memo=extend(memo,{[fieldName]:fieldWithHooks(fieldName,({getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment})=>({description:`Reads a single \`${TableType.name}\` using its globally unique \`ID\`.`,type:TableType,args:{[nodeIdFieldName]:{description:`The globally unique \`ID\` to be used in selecting a single \`${TableType.name}\`.`,type:new GraphQLNonNull(GraphQLID)}},async resolve(parent,args,resolveContext,resolveInfo){const{pgClient:pgClient}=resolveContext,liveRecord=resolveInfo.rootValue&&resolveInfo.rootValue.liveRecord,nodeId=args[nodeIdFieldName];try{const{Type:Type,identifiers:identifiers}=getTypeAndIdentifiersFromNodeId(nodeId);if(Type!==TableType)throw new Error("Mismatched type");if(identifiers.length!==primaryKeys.length)throw new Error("Invalid ID");const parsedResolveInfoFragment=parseResolveInfo(resolveInfo);parsedResolveInfoFragment.args=args;const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,TableType),query=queryFromResolveData(sqlFullTableName,void 0,resolveData,{useAsterisk:!1},queryBuilder=>{subscriptions&&table.primaryKeyConstraint&&queryBuilder.selectIdentifiers(table),primaryKeys.forEach((key,idx)=>{queryBuilder.where(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(key.name)} = ${gql2pg(identifiers[idx],primaryKeys[idx].type,primaryKeys[idx].typeModifier)}`)})},resolveContext,resolveInfo.rootValue),{text:text,values:values}=sql.compile(query);_debugSql.default.enabled&&(0,_debugSql.default)(text);const{rows:[row]}=await pgPrepareAndRun(pgClient,text,values);return liveRecord&&row&&liveRecord("pg",table,row.__identifiers),row}catch(e){return null}}}),{isPgNodeQuery:!0,pgFieldIntrospection:table})},`Adding row by globally unique identifier field for ${describePgEntity(table)}. You can rename this table via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`)}return memo},{}),'Adding "row by node ID" fields to root Query type'):fields},["PgRowNode"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=async function(builder){builder.hook("GraphQLObjectType",(object,build,context)=>{const{setNodeAlias:setNodeAlias,inflection:{pluralize:pluralize}}=build;if(!setNodeAlias)return object;const{scope:{isPgRowType:isPgRowType,isPgCompoundType:isPgCompoundType,pgIntrospection:table}}=context;return(isPgRowType||isPgCompoundType)&&setNodeAlias(object.name,pluralize(table.name)),object},["PgNodeAliasPostGraphile"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,pgIntrospectionResultsByKind:introspectionResultsByKind,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,graphql:{GraphQLObjectType:GraphQLObjectType},inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgSql:sql,pgGetSelectValueForFieldAndTypeAndModifier:getSelectValueForFieldAndTypeAndModifier,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,getSafeAliasFromAlias:getSafeAliasFromAlias}=build;return introspectionResultsByKind.procedure.forEach(proc=>{if(!proc.namespace)return;if(omit(proc,"execute"))return;if("2249"!==introspectionResultsByKind.typeById[proc.returnTypeId].id)return;const argTypes=proc.argTypeIds.reduce((prev,typeId,idx)=>(0!==proc.argModes.length&&"i"!==proc.argModes[idx]&&"b"!==proc.argModes[idx]||prev.push(introspectionResultsByKind.typeById[typeId]),prev),[]),argModesWithOutput=["o","b","t"],outputArgNames=proc.argTypeIds.reduce((prev,_,idx)=>(argModesWithOutput.includes(proc.argModes[idx])&&prev.push(proc.argNames[idx]||""),prev),[]),outputArgTypes=proc.argTypeIds.reduce((prev,typeId,idx)=>(argModesWithOutput.includes(proc.argModes[idx])&&prev.push(introspectionResultsByKind.typeById[typeId]),prev),[]),isMutation=!proc.isStable,firstArgType=argTypes[0],computed=firstArgType&&"c"===firstArgType.type&&firstArgType.class&&firstArgType.namespaceId===proc.namespaceId&&proc.name.startsWith(firstArgType.name+"_"),procFieldName=isMutation?inflection.functionMutationName(proc):computed?inflection.computedColumn(proc.name.substr(firstArgType.name.length+1),proc):inflection.functionQueryName(proc);newWithHooks(GraphQLObjectType,{name:inflection.recordFunctionReturnType(proc),description:`The return type of our \`${procFieldName}\` ${isMutation?"mutation":"query"}.`,fields:({fieldWithHooks:fieldWithHooks})=>outputArgNames.reduce((memo,outputArgName,idx)=>{const fieldName=inflection.functionOutputFieldName(proc,outputArgName,idx+1),fieldType=pgGetGqlTypeByTypeIdAndModifier(outputArgTypes[idx].id,null);if(memo[fieldName])throw new Error(`Tried to register field name '${fieldName}' twice in '${describePgEntity(proc)}'; the argument names are too similar.`);return memo[fieldName]=fieldWithHooks(fieldName,fieldContext=>{const{addDataGenerator:addDataGenerator}=fieldContext;return addDataGenerator(parsedResolveInfoFragment=>{const safeAlias=getSafeAliasFromAlias(parsedResolveInfoFragment.alias);return{pgQuery:queryBuilder=>{queryBuilder.select(getSelectValueForFieldAndTypeAndModifier(fieldType,fieldContext,parsedResolveInfoFragment,sql.fragment`(${queryBuilder.getTableAlias()}.${sql.identifier(""!==outputArgName?outputArgName:"column"+(idx+1))})`,outputArgTypes[idx],null),safeAlias)}}}),{type:fieldType,resolve:(data,_args,_context,resolveInfo)=>data[getSafeAliasFromResolveInfo(resolveInfo)]}},{}),memo},{})},{__origin:`Adding record return type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}\n\nYou can rename just the function's GraphQL result type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{resultTypeName:"newNameHere"})}`,isRecordReturnType:!0,pgIntrospection:proc})}),_},["PgRecordReturnTypes"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder,{pgForbidSetofFunctionsToReturnNull:pgForbidSetofFunctionsToReturnNull=!1}){builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,pgIntrospectionResultsByKind:introspectionResultsByKind,getTypeByName:getTypeByName,graphql:{GraphQLObjectType:GraphQLObjectType,GraphQLNonNull:GraphQLNonNull,GraphQLList:GraphQLList},inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgField:pgField}=build,nullableIf=(condition,Type)=>condition?Type:new GraphQLNonNull(Type),Cursor=getTypeByName("Cursor");return introspectionResultsByKind.procedure.forEach(proc=>{if(!proc.returnsSet)return;if(!proc.namespace)return;if(omit(proc,"execute"))return;if("2249"!==proc.returnTypeId)return;const NodeType=getTypeByName(inflection.recordFunctionReturnType(proc));if(!NodeType)throw new Error(`Do not have a node type '${inflection.recordFunctionReturnType(proc)}' for '${proc.name}' so cannot create connection type`);const EdgeType=newWithHooks(GraphQLObjectType,{name:inflection.recordFunctionEdge(proc),description:`A \`${NodeType.name}\` edge in the connection.`,fields:({fieldWithHooks:fieldWithHooks})=>({cursor:fieldWithHooks("cursor",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({usesCursor:[!0]})),{description:"A cursor for use in pagination.",type:Cursor,resolve(data){return str=JSON.stringify(data.__cursor),Buffer.from(String(str)).toString("base64");var str}}),{isCursorField:!0}),node:pgField(build,fieldWithHooks,"node",{description:`The \`${NodeType.name}\` at the end of the edge.`,type:nullableIf(!pgForbidSetofFunctionsToReturnNull,NodeType),resolve:(data,_args,_context,resolveInfo)=>data[getSafeAliasFromResolveInfo(resolveInfo)]},{},!1)})},{__origin:`Adding function result edge type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`,isEdgeType:!0,nodeType:NodeType,pgIntrospection:proc});newWithHooks(GraphQLObjectType,{name:inflection.recordFunctionConnection(proc),description:`A connection to a list of \`${NodeType.name}\` values.`,fields:({fieldWithHooks:fieldWithHooks})=>({nodes:pgField(build,fieldWithHooks,"nodes",{description:`A list of \`${NodeType.name}\` objects.`,type:new GraphQLNonNull(new GraphQLList(nullableIf(!pgForbidSetofFunctionsToReturnNull,NodeType))),resolve(data,_args,_context,resolveInfo){const safeAlias=getSafeAliasFromResolveInfo(resolveInfo);return data.data.map(entry=>entry[safeAlias])}}),edges:pgField(build,fieldWithHooks,"edges",{description:`A list of edges which contains the \`${NodeType.name}\` and cursor to aid in pagination.`,type:new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(EdgeType))),resolve(data,_args,_context,resolveInfo){const safeAlias=getSafeAliasFromResolveInfo(resolveInfo);return data.data.map(entry=>({__cursor:entry.__cursor,...entry[safeAlias]}))}},{},!1,{hoistCursor:!0})})},{__origin:`Adding function connection type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`,isConnectionType:!0,isPgRowConnectionType:!0,edgeType:EdgeType,nodeType:NodeType,pgIntrospection:proc})}),_},["PgRecordFunctionConnection"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("init",(_,build)=>{const{newWithHooks:newWithHooks,pgIntrospectionResultsByKind:introspectionResultsByKind,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,graphql:{GraphQLObjectType:GraphQLObjectType,GraphQLNonNull:GraphQLNonNull,GraphQLList:GraphQLList,GraphQLString:GraphQLString},inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgField:pgField}=build,Cursor=getTypeByName("Cursor");return introspectionResultsByKind.procedure.forEach(proc=>{if(!proc.returnsSet)return;if(!proc.namespace)return;if(omit(proc,"execute"))return;const returnType=introspectionResultsByKind.typeById[proc.returnTypeId];if(introspectionResultsByKind.classById[returnType.classId])return;if("2249"===returnType.id)return;const NodeType=pgGetGqlTypeByTypeIdAndModifier(returnType.id,null)||GraphQLString,EdgeType=newWithHooks(GraphQLObjectType,{name:inflection.scalarFunctionEdge(proc),description:`A \`${NodeType.name}\` edge in the connection.`,fields:({fieldWithHooks:fieldWithHooks})=>({cursor:fieldWithHooks("cursor",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({usesCursor:[!0]})),{description:"A cursor for use in pagination.",type:Cursor,resolve(data){return str=JSON.stringify(data.__cursor),Buffer.from(String(str)).toString("base64");var str}}),{isCursorField:!0}),node:{description:`The \`${NodeType.name}\` at the end of the edge.`,type:NodeType,resolve:data=>data.value}})},{__origin:`Adding function result edge type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`,isEdgeType:!0,nodeType:NodeType,pgIntrospection:proc});newWithHooks(GraphQLObjectType,{name:inflection.scalarFunctionConnection(proc),description:`A connection to a list of \`${NodeType.name}\` values.`,fields:({fieldWithHooks:fieldWithHooks})=>({nodes:pgField(build,fieldWithHooks,"nodes",{description:`A list of \`${NodeType.name}\` objects.`,type:new GraphQLNonNull(new GraphQLList(NodeType)),resolve:data=>data.data.map(entry=>entry.value)}),edges:pgField(build,fieldWithHooks,"edges",{description:`A list of edges which contains the \`${NodeType.name}\` and cursor to aid in pagination.`,type:new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(EdgeType))),resolve:data=>data.data},{},!1,{hoistCursor:!0})})},{__origin:`Adding function connection type for ${describePgEntity(proc)}. You can rename the function's GraphQL field (and its dependent types) via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`,isConnectionType:!0,isPgRowConnectionType:!0,edgeType:EdgeType,nodeType:NodeType,pgIntrospection:proc})}),_},["PgScalarFunctionConnection"],[],["PgTypes"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,getTypeByName:getTypeByName,inflection:inflection}=build,{Self:Self,fieldWithHooks:fieldWithHooks}=context;if(Self.name!==inflection.builtin("PageInfo"))return fields;const Cursor=getTypeByName("Cursor");return extend(fields,{startCursor:fieldWithHooks("startCursor",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({usesCursor:[!0]})),{description:"When paginating backwards, the cursor to continue.",type:Cursor}),{isPageInfoStartCursorField:!0}),endCursor:fieldWithHooks("endCursor",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({usesCursor:[!0]})),{description:"When paginating forwards, the cursor to continue.",type:Cursor}),{isPageInfoStartCursorField:!0})},"Adding startCursor/endCursor to "+Self.name)},["PageInfoStartEndCursor"],[],["Cursor"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,inflection:inflection,graphql:{GraphQLInt:GraphQLInt,GraphQLNonNull:GraphQLNonNull},pgSql:sql}=build,{scope:{isPgRowConnectionType:isPgRowConnectionType,pgIntrospection:table,nodeType:nodeType},fieldWithHooks:fieldWithHooks,Self:Self}=context;if(!isPgRowConnectionType)return fields;const nodeTypeName=nodeType&&nodeType.name?nodeType.name:table&&"class"===table.kind?inflection.tableType(table):null;return nodeTypeName?extend(fields,{totalCount:fieldWithHooks("totalCount",({addDataGenerator:addDataGenerator})=>(addDataGenerator(()=>({pgAggregateQuery:aggregateQueryBuilder=>{aggregateQueryBuilder.select(sql.fragment`count(1)`,"totalCount")}})),{description:`The count of *all* \`${nodeTypeName}\` you could get from the connection.`,type:new GraphQLNonNull(GraphQLInt),resolve:parent=>parent.aggregates&&parent.aggregates.totalCount||0}),{isPgConnectionTotalCountField:!0})},`Adding totalCount to connection '${Self.name}'`):fields},["PgConnectionTotalCount"])}},function(module,exports,__webpack_require__){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const debug=(0,((obj=__webpack_require__(19))&&obj.__esModule?obj:{default:obj}).default)("graphile-build-pg");exports.default=function(builder,{pgDisableDefaultMutations:pgDisableDefaultMutations}){pgDisableDefaultMutations||builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,newWithHooks:newWithHooks,parseResolveInfo:parseResolveInfo,pgIntrospectionResultsByKind:pgIntrospectionResultsByKind,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,pgSql:sql,gql2pg:gql2pg,graphql:{GraphQLObjectType:GraphQLObjectType,GraphQLInputObjectType:GraphQLInputObjectType,GraphQLNonNull:GraphQLNonNull,GraphQLString:GraphQLString},pgColumnFilter:pgColumnFilter,inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgOmit:omit,pgViaTemporaryTable:viaTemporaryTable,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgField:pgField}=build,{scope:{isRootMutation:isRootMutation},fieldWithHooks:fieldWithHooks}=context;return isRootMutation?extend(fields,pgIntrospectionResultsByKind.class.reduce((memo,table)=>{if(!table.namespace)return memo;if(!table.isSelectable)return memo;if(!table.isInsertable||omit(table,"create"))return memo;const Table=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null);if(!Table)return debug(`There was no table type for table '${table.namespace.name}.${table.name}', so we're not generating a create mutation for it.`),memo;const TableInput=pgGetGqlInputTypeByTypeIdAndModifier(table.type.id,null);TableInput||debug(`There was no input type for table '${table.namespace.name}.${table.name}', so we're going to omit it from the create mutation.`);const tableTypeName=inflection.tableType(table),InputType=newWithHooks(GraphQLInputObjectType,{name:inflection.createInputType(table),description:`All input for the create \`${tableTypeName}\` mutation.`,fields:{clientMutationId:{description:"An arbitrary string value with no semantic meaning. Will be included in the payload verbatim. May be used to track mutations by the client.",type:GraphQLString},...TableInput?{[inflection.tableFieldName(table)]:{description:`The \`${tableTypeName}\` to be created by this mutation.`,type:new GraphQLNonNull(TableInput)}}:null}},{__origin:`Adding table create input type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,isPgCreateInputType:!0,pgInflection:table,pgIntrospection:table}),PayloadType=newWithHooks(GraphQLObjectType,{name:inflection.createPayloadType(table),description:`The output of our create \`${tableTypeName}\` mutation.`,fields:({fieldWithHooks:fieldWithHooks})=>{const tableName=inflection.tableFieldName(table);return{clientMutationId:{description:"The exact same `clientMutationId` that was provided in the mutation input, unchanged and unused. May be used by a client to track mutations.",type:GraphQLString},[tableName]:pgField(build,fieldWithHooks,tableName,{description:`The \`${tableTypeName}\` that was created by this mutation.`,type:Table},{isPgCreatePayloadResultField:!0,pgFieldIntrospection:table})}}},{__origin:`Adding table create payload type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}\n\nor disable the built-in create mutation via:\n\n  ${sqlCommentByAddingTags(table,{omit:"create"})}`,isMutationPayload:!0,isPgCreatePayloadType:!0,pgIntrospection:table}),fieldName=inflection.createField(table);return memo=build.extend(memo,{[fieldName]:fieldWithHooks(fieldName,context=>{const{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment}=context,relevantAttributes=table.attributes.filter(attr=>pgColumnFilter(attr,build,context)&&!omit(attr,"create"));return{description:`Creates a single \`${tableTypeName}\`.`,type:PayloadType,args:{input:{type:new GraphQLNonNull(InputType)}},async resolve(data,args,resolveContext,resolveInfo){const{input:input}=args,{pgClient:pgClient}=resolveContext,parsedResolveInfoFragment=parseResolveInfo(resolveInfo);parsedResolveInfoFragment.args=args;const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,PayloadType),insertedRowAlias=sql.identifier(Symbol()),query=queryFromResolveData(insertedRowAlias,insertedRowAlias,resolveData,{},null,resolveContext,resolveInfo.rootValue),sqlColumns=[],sqlValues=[],inputData=input[inflection.tableFieldName(table)];relevantAttributes.forEach(attr=>{const fieldName=inflection.column(attr),val=inputData[fieldName];Object.prototype.hasOwnProperty.call(inputData,fieldName)&&(sqlColumns.push(sql.identifier(attr.name)),sqlValues.push(gql2pg(val,attr.type,attr.typeModifier)))});const mutationQuery=sql.query`\
insert into ${sql.identifier(table.namespace.name,table.name)} ${sqlColumns.length?sql.fragment`(${sql.join(sqlColumns,", ")}) values(${sql.join(sqlValues,", ")})`:sql.fragment`default values`} returning *`;let row;try{await pgClient.query("SAVEPOINT graphql_mutation");row=(await viaTemporaryTable(pgClient,sql.identifier(table.namespace.name,table.name),mutationQuery,insertedRowAlias,query))[0],await pgClient.query("RELEASE SAVEPOINT graphql_mutation")}catch(e){throw await pgClient.query("ROLLBACK TO SAVEPOINT graphql_mutation"),e}return{clientMutationId:input.clientMutationId,data:row}}}},{pgFieldIntrospection:table,isPgCreateMutationField:!0})},`Adding create mutation for ${describePgEntity(table)}. You can omit this default mutation with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{omit:"create"})}`)},{}),"Adding default 'create' mutation to root mutation"):fields},["PgMutationCreate"],[],["PgTables"])}},function(module,exports,__webpack_require__){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const debug=(0,((obj=__webpack_require__(19))&&obj.__esModule?obj:{default:obj}).default)("graphile-build-pg");exports.default=async function(builder,{pgDisableDefaultMutations:pgDisableDefaultMutations}){pgDisableDefaultMutations||builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{newWithHooks:newWithHooks,getNodeIdForTypeAndIdentifiers:getNodeIdForTypeAndIdentifiers,getTypeAndIdentifiersFromNodeId:getTypeAndIdentifiersFromNodeId,nodeIdFieldName:nodeIdFieldName,fieldDataGeneratorsByType:fieldDataGeneratorsByType,extend:extend,parseResolveInfo:parseResolveInfo,getTypeByName:getTypeByName,gql2pg:gql2pg,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgGetGqlInputTypeByTypeIdAndModifier:pgGetGqlInputTypeByTypeIdAndModifier,pgIntrospectionResultsByKind:introspectionResultsByKind,pgSql:sql,graphql:{GraphQLNonNull:GraphQLNonNull,GraphQLInputObjectType:GraphQLInputObjectType,GraphQLString:GraphQLString,GraphQLObjectType:GraphQLObjectType,GraphQLID:GraphQLID},pgColumnFilter:pgColumnFilter,inflection:inflection,pgQueryFromResolveData:queryFromResolveData,pgOmit:omit,pgViaTemporaryTable:viaTemporaryTable,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags,pgField:pgField}=build,{scope:{isRootMutation:isRootMutation},fieldWithHooks:fieldWithHooks}=context;return isRootMutation?extend(fields,["update","delete"].reduce((outerMemo,mode)=>introspectionResultsByKind.class.reduce((memo,table)=>{if(!table.namespace)return memo;const canUpdate="update"===mode&&table.isUpdatable&&!omit(table,"update")&&table.attributes.find(attr=>!omit(attr,"update")),canDelete="delete"===mode&&table.isDeletable&&!omit(table,"delete");if(!canUpdate&&!canDelete)return memo;const TableType=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null);if(!TableType)return memo;async function commonCodeRenameMe(pgClient,resolveInfo,getDataFromParsedResolveInfoFragment,PayloadType,args,condition,context,resolveContext){const{input:input}=args,parsedResolveInfoFragment=parseResolveInfo(resolveInfo);parsedResolveInfoFragment.args=args;const resolveData=getDataFromParsedResolveInfoFragment(parsedResolveInfoFragment,PayloadType),sqlTypeIdentifier=sql.identifier(table.namespace.name,table.name);let sqlMutationQuery;if("update"===mode){const sqlColumns=[],sqlValues=[],inputData=input[inflection.patchField(inflection.tableFieldName(table))];if(table.attributes.forEach(attr=>{if(!pgColumnFilter(attr,build,context))return;if(omit(attr,"update"))return;const fieldName=inflection.column(attr);if(fieldName in inputData){const val=inputData[fieldName];sqlColumns.push(sql.identifier(attr.name)),sqlValues.push(gql2pg(val,attr.type,attr.typeModifier))}}),0===sqlColumns.length)return null;sqlMutationQuery=sql.query`\
update ${sql.identifier(table.namespace.name,table.name)} set ${sql.join(sqlColumns.map((col,i)=>sql.fragment`${col} = ${sqlValues[i]}`),", ")}
where ${condition}
returning *`}else sqlMutationQuery=sql.query`\
delete from ${sql.identifier(table.namespace.name,table.name)}
where ${condition}
returning *`;const modifiedRowAlias=sql.identifier(Symbol()),query=queryFromResolveData(modifiedRowAlias,modifiedRowAlias,resolveData,{},null,resolveContext,resolveInfo.rootValue);let row;try{await pgClient.query("SAVEPOINT graphql_mutation");row=(await viaTemporaryTable(pgClient,sqlTypeIdentifier,sqlMutationQuery,modifiedRowAlias,query))[0],await pgClient.query("RELEASE SAVEPOINT graphql_mutation")}catch(e){throw await pgClient.query("ROLLBACK TO SAVEPOINT graphql_mutation"),e}if(!row)throw new Error(`No values were ${mode}d in collection '${inflection.pluralize(inflection._singularizedTableName(table))}' because no values you can ${mode} were found matching these criteria.`);return{clientMutationId:input.clientMutationId,data:row}}if(TableType){const uniqueConstraints=table.constraints.filter(con=>"u"===con.type||"p"===con.type),Table=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null),tableTypeName=Table.name,TablePatch=getTypeByName(inflection.patchType(Table.name)),PayloadType=newWithHooks(GraphQLObjectType,{name:inflection["delete"===mode?"deletePayloadType":"updatePayloadType"](table),description:`The output of our ${mode} \`${tableTypeName}\` mutation.`,fields:({fieldWithHooks:fieldWithHooks})=>{const tableName=inflection.tableFieldName(table),deletedNodeIdFieldName=inflection.deletedNodeId(table);return Object.assign({clientMutationId:{description:"The exact same `clientMutationId` that was provided in the mutation input, unchanged and unused. May be used by a client to track mutations.",type:GraphQLString},[tableName]:pgField(build,fieldWithHooks,tableName,{description:`The \`${tableTypeName}\` that was ${mode}d by this mutation.`,type:Table},{},!1)},"delete"===mode?{[deletedNodeIdFieldName]:fieldWithHooks(deletedNodeIdFieldName,({addDataGenerator:addDataGenerator})=>{const fieldDataGeneratorsByTableType=fieldDataGeneratorsByType.get(TableType),gens=fieldDataGeneratorsByTableType&&fieldDataGeneratorsByTableType[nodeIdFieldName];return gens&&gens.forEach(gen=>addDataGenerator(gen)),{type:GraphQLID,resolve:data=>data.data.__identifiers&&getNodeIdForTypeAndIdentifiers(Table,...data.data.__identifiers)}},{isPgMutationPayloadDeletedNodeIdField:!0})}:null)}},{__origin:`Adding table ${mode} mutation payload type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,isMutationPayload:!0,isPgUpdatePayloadType:"update"===mode,isPgDeletePayloadType:"delete"===mode,pgIntrospection:table}),primaryKeyConstraint=table.primaryKeyConstraint;if(nodeIdFieldName&&primaryKeyConstraint){const primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes,fieldName=inflection["update"===mode?"updateNode":"deleteNode"](table),InputType=newWithHooks(GraphQLInputObjectType,{description:`All input for the \`${fieldName}\` mutation.`,name:inflection["update"===mode?"updateNodeInputType":"deleteNodeInputType"](table),fields:Object.assign({clientMutationId:{description:"An arbitrary string value with no semantic meaning. Will be included in the payload verbatim. May be used to track mutations by the client.",type:GraphQLString},[nodeIdFieldName]:{description:`The globally unique \`ID\` which will identify a single \`${tableTypeName}\` to be ${mode}d.`,type:new GraphQLNonNull(GraphQLID)}},"update"===mode?{[inflection.patchField(inflection.tableFieldName(table))]:{description:`An object where the defined keys will be set on the \`${tableTypeName}\` being ${mode}d.`,type:new GraphQLNonNull(TablePatch)}}:null)},{__origin:`Adding table ${mode} (by node ID) mutation input type for ${describePgEntity(table)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,isPgUpdateInputType:"update"===mode,isPgUpdateNodeInputType:"update"===mode,isPgDeleteInputType:"delete"===mode,isPgDeleteNodeInputType:"delete"===mode,pgInflection:table,pgIntrospection:table,isMutationInput:!0});memo=extend(memo,{[fieldName]:fieldWithHooks(fieldName,context=>{const{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment}=context;return{description:"update"===mode?`Updates a single \`${tableTypeName}\` using its globally unique id and a patch.`:`Deletes a single \`${tableTypeName}\` using its globally unique id.`,type:PayloadType,args:{input:{type:new GraphQLNonNull(InputType)}},async resolve(parent,args,resolveContext,resolveInfo){const{input:input}=args,{pgClient:pgClient}=resolveContext,nodeId=input[nodeIdFieldName];try{const{Type:Type,identifiers:identifiers}=getTypeAndIdentifiersFromNodeId(nodeId);if(Type!==TableType)throw new Error("Mismatched type");if(identifiers.length!==primaryKeys.length)throw new Error("Invalid ID");return commonCodeRenameMe(pgClient,resolveInfo,getDataFromParsedResolveInfoFragment,PayloadType,args,sql.fragment`(${sql.join(primaryKeys.map((key,idx)=>sql.fragment`${sql.identifier(key.name)} = ${gql2pg(identifiers[idx],key.type,key.typeModifier)}`),") and (")})`,context,resolveContext)}catch(e){return debug(e),null}}}},{isPgNodeMutation:!0,pgFieldIntrospection:table,["update"===mode?"isPgUpdateMutationField":"isPgDeleteMutationField"]:!0})},"Adding ${mode} mutation for ${describePgEntity(table)}")}uniqueConstraints.forEach(constraint=>{if(omit(constraint,mode))return;const keys=constraint.keyAttributes;if(!keys.every(_=>_))throw new Error(`Consistency error: could not find an attribute in the constraint when building the ${mode} mutation for ${describePgEntity(table)}!`);if(keys.some(key=>omit(key,"read")))return;const fieldName=inflection["update"===mode?"updateByKeys":"deleteByKeys"](keys,table,constraint),InputType=newWithHooks(GraphQLInputObjectType,{description:`All input for the \`${fieldName}\` mutation.`,name:inflection["update"===mode?"updateByKeysInputType":"deleteByKeysInputType"](keys,table,constraint),fields:Object.assign({clientMutationId:{type:GraphQLString}},"update"===mode?{[inflection.patchField(inflection.tableFieldName(table))]:{description:`An object where the defined keys will be set on the \`${tableTypeName}\` being ${mode}d.`,type:new GraphQLNonNull(TablePatch)}}:null,keys.reduce((memo,key)=>(memo[inflection.column(key)]={description:key.description,type:new GraphQLNonNull(pgGetGqlInputTypeByTypeIdAndModifier(key.typeId,key.typeModifier))},memo),{}))},{__origin:`Adding table ${mode} mutation input type for ${describePgEntity(constraint)}. You can rename the table's GraphQL type via a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(table,{name:"newNameHere"})}`,isPgUpdateInputType:"update"===mode,isPgUpdateByKeysInputType:"update"===mode,isPgDeleteInputType:"delete"===mode,isPgDeleteByKeysInputType:"delete"===mode,pgInflection:table,pgIntrospection:table,pgKeys:keys,isMutationInput:!0});memo=extend(memo,{[fieldName]:fieldWithHooks(fieldName,context=>{const{getDataFromParsedResolveInfoFragment:getDataFromParsedResolveInfoFragment}=context;return{description:"update"===mode?`Updates a single \`${tableTypeName}\` using a unique key and a patch.`:`Deletes a single \`${tableTypeName}\` using a unique key.`,type:PayloadType,args:{input:{type:new GraphQLNonNull(InputType)}},async resolve(parent,args,resolveContext,resolveInfo){const{input:input}=args,{pgClient:pgClient}=resolveContext;return commonCodeRenameMe(pgClient,resolveInfo,getDataFromParsedResolveInfoFragment,PayloadType,args,sql.fragment`(${sql.join(keys.map(key=>sql.fragment`${sql.identifier(key.name)} = ${gql2pg(input[inflection.column(key)],key.type,key.typeModifier)}`),") and (")})`,context,resolveContext)}}},{isPgNodeMutation:!1,pgFieldIntrospection:table,pgFieldConstraint:constraint,["update"===mode?"isPgUpdateMutationField":"isPgDeleteMutationField"]:!0})},`Adding ${mode} mutation for ${describePgEntity(constraint)}`)})}return memo},outerMemo),{}),"Adding default update/delete mutations to root Mutation type"):fields},["PgMutationUpdateDelete"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function(builder){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,pgIntrospectionResultsByKind:introspectionResultsByKind,inflection:inflection,pgMakeProcField:makeProcField,pgOmit:omit,swallowError:swallowError,describePgEntity:describePgEntity,sqlCommentByAddingTags:sqlCommentByAddingTags}=build,{scope:{isRootMutation:isRootMutation},fieldWithHooks:fieldWithHooks}=context;return isRootMutation?extend(fields,introspectionResultsByKind.procedure.reduce((memo,proc)=>{if(proc.isStable)return memo;if(!proc.namespace)return memo;if(omit(proc,"execute"))return memo;const fieldName=inflection.functionMutationName(proc);try{memo=extend(memo,{[fieldName]:makeProcField(fieldName,proc,build,{fieldWithHooks:fieldWithHooks,isMutation:!0})},`Adding mutation field for ${describePgEntity(proc)}. You can rename this field with a 'Smart Comment':\n\n  ${sqlCommentByAddingTags(proc,{name:"newNameHere"})}`)}catch(e){swallowError(e)}return memo},{}),"Adding mutation procedure to root Mutation field"):fields},["PgMutationProcedures"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_isString=(obj=__webpack_require__(184))&&obj.__esModule?obj:{default:obj};exports.default=function(builder,{pgSimpleCollections:pgSimpleCollections,disableIssue397Fix:disableIssue397Fix}){builder.hook("GraphQLObjectType:fields",(fields,build,context)=>{const{extend:extend,getSafeAliasFromResolveInfo:getSafeAliasFromResolveInfo,getTypeByName:getTypeByName,pgGetGqlTypeByTypeIdAndModifier:pgGetGqlTypeByTypeIdAndModifier,pgSql:sql,graphql:{GraphQLList:GraphQLList,GraphQLNonNull:GraphQLNonNull},inflection:inflection,pgOmit:omit,describePgEntity:describePgEntity,pgField:pgField}=build,{scope:{isMutationPayload:isMutationPayload,pgIntrospection:pgIntrospection,pgIntrospectionTable:pgIntrospectionTable},fieldWithHooks:fieldWithHooks,Self:Self}=context,table=pgIntrospectionTable||pgIntrospection;if(!isMutationPayload||!table||"class"!==table.kind||!table.namespace||!table.isSelectable||omit(table,"all")&&omit(table,"many"))return fields;if("procedure"===pgIntrospection.kind&&(pgIntrospection.returnTypeId!==table.typeId||pgIntrospection.returnsSet))return fields;if(!("only"!==(table.tags.simpleCollections||pgSimpleCollections))&&!disableIssue397Fix)return fields;const tableTypeName=pgGetGqlTypeByTypeIdAndModifier(table.type.id,null).name,TableOrderByType=getTypeByName(inflection.orderByType(tableTypeName)),TableEdgeType=getTypeByName(inflection.edge(tableTypeName));if(!TableEdgeType)return fields;const primaryKeyConstraint=table.primaryKeyConstraint,primaryKeys=primaryKeyConstraint&&primaryKeyConstraint.keyAttributes,canOrderBy=!omit(table,"order"),fieldName=inflection.edgeField(table),defaultValueEnum=canOrderBy&&(TableOrderByType.getValues().find(v=>"PRIMARY_KEY_ASC"===v.name)||TableOrderByType.getValues()[0]);return extend(fields,{[fieldName]:pgField(build,fieldWithHooks,fieldName,{description:`An edge for our \`${tableTypeName}\`. May be used by Relay 1.`,type:TableEdgeType,args:canOrderBy?{orderBy:{description:`The method to use when ordering \`${tableTypeName}\`.`,type:new GraphQLList(new GraphQLNonNull(TableOrderByType)),defaultValue:defaultValueEnum?[defaultValueEnum.value]:null}}:{},resolve(data,{orderBy:rawOrderBy},_context,resolveInfo){if(!data.data)return null;const safeAlias=getSafeAliasFromResolveInfo(resolveInfo),edge=data.data[safeAlias];if(!edge)return null;const orderBy=canOrderBy&&rawOrderBy?Array.isArray(rawOrderBy)?rawOrderBy:[rawOrderBy]:null,order=orderBy&&orderBy.some(item=>item.alias)?orderBy.filter(item=>item.alias):null;return order?{...edge,__cursor:edge["__order_"+order.map(item=>item.alias).join("__")]}:edge.__identifiers?{...edge,__cursor:["primary_key_asc",edge.__identifiers]}:edge}},{isPgMutationPayloadEdgeField:!0,pgFieldIntrospection:table},!1,{withQueryBuilder(queryBuilder,{parsedResolveInfoFragment:parsedResolveInfoFragment}){const{args:{orderBy:rawOrderBy}}=parsedResolveInfoFragment,orderBy=canOrderBy&&rawOrderBy?Array.isArray(rawOrderBy)?rawOrderBy:[rawOrderBy]:null;if(null!=orderBy){const aliases=[],expressions=[];let unique=!1;orderBy.forEach(item=>{const{alias:alias,specs:specs,unique:itemIsUnique}=item;unique=unique||itemIsUnique;(Array.isArray(specs[0])?specs:[specs]).forEach(([col,_ascending])=>{if(!col)return;const expr=(0,_isString.default)(col)?sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(col)}`:col;expressions.push(expr)}),null!=alias&&aliases.push(alias)}),!unique&&primaryKeys&&primaryKeys.forEach(key=>{expressions.push(sql.fragment`${queryBuilder.getTableAlias()}.${sql.identifier(key.name)}`)}),aliases.length&&queryBuilder.select(sql.fragment`json_build_array(${sql.join(aliases.map(a=>sql.fragment`${sql.literal(a)}::text`),", ")}, json_build_array(${sql.join(expressions,", ")}))`,"__order_"+aliases.join("__"))}}})},`Adding edge field for table ${describePgEntity(table)} to mutation payload '${Self.name}'`)},["PgMutationPayloadEdge"])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultInflection=exports.newInflector=exports.defaultUtils=void 0;var _graphileBuild=__webpack_require__(86),_PgBasicsPlugin=__webpack_require__(128);const outputMessages=[];function deprecateEverything(obj){return Object.keys(obj).reduce((memo,key)=>{var fn,message;return memo[key]=(fn=obj[key],message=`Something (probably a plugin) called the old inflection system (inflector: '${key}'). This system has been deprecated since 4.0.0-beta.6 (4th May 2018) and is not used internally so using it may cause inconsistencies, instead please use the plugin-capable inflection system https://www.graphile.org/postgraphile/inflection/`,"function"!=typeof fn?fn:function(...args){return-1===outputMessages.indexOf(message)&&(outputMessages.push(message),console.warn(new Error(message))),fn.apply(this,args)}),memo},{})}const defaultUtils={constantCase:_graphileBuild.constantCase,camelCase:_graphileBuild.camelCase,upperCamelCase:_graphileBuild.upperCamelCase,pluralize:_graphileBuild.pluralize,singularize:_graphileBuild.singularize};exports.defaultUtils=defaultUtils;const newInflector=(overrides,{constantCase:constantCase,camelCase:camelCase,upperCamelCase:upperCamelCase,pluralize:pluralize,singularize:singularize}=defaultUtils)=>{function singularizeTable(tableName){return singularize(tableName).replace(/.(?:(?:[_-]i|I)nput|(?:[_-]p|P)atch)$/,"$&_record")}return deprecateEverything((0,_PgBasicsPlugin.preventEmptyResult)({pluralize:pluralize,argument:(name,index)=>camelCase(name||"arg"+index),orderByType:typeName=>upperCamelCase(pluralize(typeName)+"-order-by"),orderByEnum:(name,ascending,_table,_schema)=>constantCase(`${name}_${ascending?"asc":"desc"}`),domainType:name=>upperCamelCase(name),enumName(inValue){let value=inValue;return""===value?"_EMPTY_":(value=value.replace(/\*/g,"_ASTERISK_").replace(/^(_?)_+ASTERISK/,"$1ASTERISK").replace(/ASTERISK_(_?)_*$/,"ASTERISK$1"),value={">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","=":"EQUAL","!=":"NOT_EQUAL","<>":"DIFFERENT","<=":"LESS_THAN_OR_EQUAL","<":"LESS_THAN","~~":"LIKE","~~*":"ILIKE","!~~":"NOT_LIKE","!~~*":"NOT_ILIKE","~":"TILDE","~*":"TILDE_ASTERISK","!~":"NOT_TILDE","!~*":"NOT_TILDE_ASTERISK","%":"PERCENT","+":"PLUS","-":"MINUS","/":"SLASH","\\":"BACKSLASH",_:"UNDERSCORE","#":"POUND","":"STERLING",$:"DOLLAR","&":"AMPERSAND","@":"AT","'":"APOSTROPHE",'"':"QUOTE","`":"BACKTICK",":":"COLON",";":"SEMICOLON","!":"EXCLAMATION_POINT","?":"QUESTION_MARK",",":"COMMA",".":"DOT","^":"CARET","|":"BAR","[":"OPEN_BRACKET","]":"CLOSE_BRACKET","(":"OPEN_PARENTHESIS",")":"CLOSE_PARENTHESIS","{":"OPEN_BRACE","}":"CLOSE_BRACE"}[value]||value,value)},enumType:name=>upperCamelCase(name),conditionType:typeName=>upperCamelCase(typeName+"-condition"),inputType:typeName=>upperCamelCase(typeName+"-input"),rangeBoundType:typeName=>upperCamelCase(typeName+"-range-bound"),rangeType:typeName=>upperCamelCase(typeName+"-range"),patchType:typeName=>upperCamelCase(typeName+"-patch"),patchField:itemName=>camelCase(itemName+"-patch"),tableName:(name,_schema)=>camelCase(singularizeTable(name)),tableNode:(name,_schema)=>camelCase(singularizeTable(name)),allRows(name,schema){return camelCase("all-"+this.pluralize(this.tableName(name,schema)))},functionName:(name,_schema)=>camelCase(name),functionPayloadType:(name,_schema)=>upperCamelCase(name+"-payload"),functionInputType:(name,_schema)=>upperCamelCase(name+"-input"),tableType(name,schema){return upperCamelCase(this.tableName(name,schema))},column:(name,_table,_schema)=>camelCase(name),singleRelationByKeys(detailedKeys,table,schema){return camelCase(`${this.tableName(table,schema)}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}`)},rowByUniqueKeys(detailedKeys,table,schema){return camelCase(`${this.tableName(table,schema)}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}`)},updateByKeys(detailedKeys,table,schema){return camelCase(`update-${this.tableName(table,schema)}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}`)},deleteByKeys(detailedKeys,table,schema){return camelCase(`delete-${this.tableName(table,schema)}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}`)},updateNode:(name,_schema)=>camelCase("update-"+singularizeTable(name)),deleteNode:(name,_schema)=>camelCase("delete-"+singularizeTable(name)),updateByKeysInputType(detailedKeys,name,_schema){return upperCamelCase(`update-${singularizeTable(name)}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}-input`)},deleteByKeysInputType(detailedKeys,name,_schema){return upperCamelCase(`delete-${singularizeTable(name)}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}-input`)},updateNodeInputType:(name,_schema)=>upperCamelCase(`update-${singularizeTable(name)}-input`),deleteNodeInputType:(name,_schema)=>upperCamelCase(`delete-${singularizeTable(name)}-input`),manyRelationByKeys(detailedKeys,table,schema,_foreignTable,_foreignSchema){return camelCase(`${this.pluralize(this.tableName(table,schema))}-by-${detailedKeys.map(key=>this.column(key.column,key.table,key.schema)).join("-and-")}`)},edge:typeName=>upperCamelCase(pluralize(typeName)+"-edge"),edgeField:(name,_schema)=>camelCase(singularizeTable(name)+"-edge"),connection(typeName){return upperCamelCase(this.pluralize(typeName)+"-connection")},scalarFunctionConnection:(procName,_procSchema)=>upperCamelCase(procName+"-connection"),scalarFunctionEdge:(procName,_procSchema)=>upperCamelCase(procName+"-edge"),createField:(name,_schema)=>camelCase("create-"+singularizeTable(name)),createInputType:(name,_schema)=>upperCamelCase(`create-${singularizeTable(name)}-input`),createPayloadType:(name,_schema)=>upperCamelCase(`create-${singularizeTable(name)}-payload`),updatePayloadType:(name,_schema)=>upperCamelCase(`update-${singularizeTable(name)}-payload`),deletePayloadType:(name,_schema)=>upperCamelCase(`delete-${singularizeTable(name)}-payload`),...overrides}))};exports.newInflector=newInflector;const defaultInflection=newInflector();exports.defaultInflection=defaultInflection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const graphile_build_pg_1=__webpack_require__(99),parseIdentifierParts_1=__webpack_require__(468);function isAttribute(obj){return obj.kind===graphile_build_pg_1.PgEntityKind.ATTRIBUTE}function isConstraint(obj){return obj.kind===graphile_build_pg_1.PgEntityKind.CONSTRAINT}function isClass(obj){return obj.kind===graphile_build_pg_1.PgEntityKind.CLASS}function isProcedure(obj){return obj.kind===graphile_build_pg_1.PgEntityKind.PROCEDURE}exports.isAttribute=isAttribute,exports.isConstraint=isConstraint,exports.isClass=isClass,exports.isProcedure=isProcedure,exports.entityIsIdentifiedBy=function(obj,identifier,build){const parts=parseIdentifierParts_1.default(identifier);if(1===parts.length){const[expectedName]=parts;return obj.name===expectedName}if(2===parts.length){const[parentName,expectedName]=parts;if(isAttribute(obj)||isConstraint(obj)){const klass=build.pgIntrospectionResultsByKind.class.find(kls=>kls.id===obj.classId);return obj.name===expectedName&&!!klass&&klass.name===parentName}if(isClass(obj)||isProcedure(obj))return obj.name===expectedName&&obj.namespaceName===parentName;throw new Error(`Type '${obj.kind}' not supported by makeSmartCommentsPlugin`)}if(3===parts.length){const[grandparentName,parentName,expectedName]=parts;if(isAttribute(obj)||isConstraint(obj)){const klass=build.pgIntrospectionResultsByKind.class.find(kls=>kls.id===obj.classId);return obj.name===expectedName&&!!klass&&klass.name===parentName&&klass.namespaceName===grandparentName}throw new Error(`Identifier '${identifier}' does not make sense for a '${obj.kind}' entity`)}throw new Error(`makeSmartCommentsPlugin did not know how to interpret match '${identifier}'`)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(identifier){let hadQuotes=!1,inQuotes=!1,current="";const parts=[];for(let index=0,l=identifier.length;index<l;index++){const char=identifier[index];if('"'===char)if(inQuotes)'"'===identifier[index+1]?(current+='"',index++):(inQuotes=!1,hadQuotes=!0);else{if(""!==current)throw new Error(`Unexpected '${char}' at position '${index}' when parsing identifier '${identifier}'`);inQuotes=!0}else if(inQuotes||"."!==char){if(!inQuotes&&hadQuotes)throw new Error(`Unexpected '${char}' at position '${index}' when parsing identifier '${identifier}'`);current+=char}else parts.push(current),current="",inQuotes=!1,hadQuotes=!1}return parts.push(current),parts}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pg_1=__webpack_require__(57),events_1=__webpack_require__(29),postgraphile_core_1=__webpack_require__(44),createPostGraphileHttpRequestHandler_1=__webpack_require__(186),exportPostGraphileSchema_1=__webpack_require__(539),pluginHook_1=__webpack_require__(73),chalk_1=__webpack_require__(39),withPostGraphileContext_1=__webpack_require__(117),sleep=ms=>new Promise(resolve=>setTimeout(resolve,ms));function getPostgraphileSchemaBuilder(pgPool,schema,incomingOptions){incomingOptions.live&&null==incomingOptions.subscriptions&&(incomingOptions.subscriptions=!0);const options=pluginHook_1.pluginHookFromOptions(incomingOptions)("postgraphile:options",incomingOptions,{pgPool:pgPool,schema:schema});if(options.jwtSecret&&!options.jwtPgTypeIdentifier&&console.warn("WARNING: jwtSecret provided, however jwtPgTypeIdentifier (token identifier) not provided."),options.handleErrors&&(options.extendedErrors||options.showErrorStack))throw new Error("You cannot combine 'handleErrors' with the other error options");const pgSchemas=Array.isArray(schema)?schema:[schema],_emitter=options._emitter||new events_1.EventEmitter;let gqlSchema;const gqlSchemaPromise=async function(){let attempts=0;for(;;)try{if(options.watchPg){if(await postgraphile_core_1.watchPostGraphileSchema(pgPool,pgSchemas,options,newSchema=>{gqlSchema=newSchema,_emitter.emit("schemas:changed"),exportGqlSchema(gqlSchema)}),!gqlSchema)throw new Error("Consistency error: watchPostGraphileSchema promises to call the callback before the promise resolves; but this hasn't happened")}else gqlSchema=await postgraphile_core_1.createPostGraphileSchema(pgPool,pgSchemas,options),exportGqlSchema(gqlSchema);return attempts>0&&console.error(`Schema ${attempts>15?"eventually":attempts>5?"finally":"now"} generated successfully`),gqlSchema}catch(error){attempts++;const delay=Math.min(100*Math.pow(attempts,2),3e4),exitOnFail=!options.retryOnInitFail;logSeriousError(error,"building the initial schema"+(attempts>1?` (attempt ${attempts})`:""),exitOnFail?"Exiting because `retryOnInitFail` is not set.":`We'll try again in ${delay}ms.`),exitOnFail&&process.exit(34),await sleep(delay)}}();return{_emitter:_emitter,getGraphQLSchema:()=>gqlSchema?Promise.resolve(gqlSchema):gqlSchemaPromise,options:options};async function exportGqlSchema(newGqlSchema){try{await exportPostGraphileSchema_1.default(newGqlSchema,options)}catch(error){process.exitCode=35,logSeriousError(error,"exporting the schema")}}}function logSeriousError(error,when,nextSteps){console.error(`A ${chalk_1.default.bold("serious error")} occurred when ${chalk_1.default.bold(when)}. ${nextSteps?nextSteps+" ":""}Error details:\n\n${error.stack}\n`)}function constructorName(obj){return obj&&"function"==typeof obj.constructor&&obj.constructor.name&&String(obj.constructor.name)||null}function toPgPool(poolOrConfig){if((pgConfig=poolOrConfig)instanceof pg_1.Pool||((obj=pgConfig)&&"function"==typeof obj.constructor&&obj.constructor===pg_1.Pool.super_||pgConfig&&"object"==typeof pgConfig&&("Pool"===constructorName(pgConfig)||"BoundPool"===constructorName(pgConfig))&&pgConfig.Client&&pgConfig.options&&"function"==typeof pgConfig.connect&&"function"==typeof pgConfig.end&&"function"==typeof pgConfig.query))return poolOrConfig;var obj,pgConfig;if("string"==typeof poolOrConfig)return new pg_1.Pool({connectionString:poolOrConfig});if(poolOrConfig){if(function(obj){if(!obj||"object"!=typeof obj||"[object Object]"!==String(obj))return!1;const proto=Object.getPrototypeOf(obj);return null===proto||proto===Object.prototype}(poolOrConfig))return new pg_1.Pool(poolOrConfig);throw new Error("Invalid connection string / Pool ")}return new pg_1.Pool({})}exports.getPostgraphileSchemaBuilder=getPostgraphileSchemaBuilder,exports.default=function(poolOrConfig,schemaOrOptions,maybeOptions){let schema,incomingOptions;if("string"==typeof schemaOrOptions||Array.isArray(schemaOrOptions))schema=schemaOrOptions,incomingOptions=maybeOptions||{};else if("object"==typeof schemaOrOptions)schema="public",incomingOptions=schemaOrOptions||maybeOptions||{};else{if(arguments.length>1)throw new Error("The second argument to postgraphile was invalid... did you mean to set a schema?");schema="public",incomingOptions={}}if(void 0===poolOrConfig&&arguments.length>=1)throw new Error("The first argument to postgraphile was `undefined`... did you mean to set pool options?");const pgPool=toPgPool(poolOrConfig);pgPool.on("error",err=>{console.error("PostgreSQL client generated error: ",err.message)}),pgPool.on("connect",pgClient=>{withPostGraphileContext_1.debugPgClient(pgClient,!!options.allowExplain)});const{getGraphQLSchema:getGraphQLSchema,options:options,_emitter:_emitter}=getPostgraphileSchemaBuilder(pgPool,schema,incomingOptions);return createPostGraphileHttpRequestHandler_1.default({..."string"==typeof poolOrConfig?{ownerConnectionString:poolOrConfig}:{},...options,getGqlSchema:getGraphQLSchema,pgPool:pgPool,_emitter:_emitter})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendedFormatError=function(error,fields){if(!error)throw new Error("Received null or undefined error.");const originalError=error.originalError,exceptionDetails=originalError&&fields?function(err,inFields){const result={};let fields;if(Array.isArray(inFields))fields=inFields;else{if("string"!=typeof inFields)throw new Error("Invalid argument to extendedErrors - expected array of strings");fields=inFields.split(",")}return err&&"object"==typeof err&&fields.forEach(field=>{if("string"!=typeof field)throw new Error("Invalid argument to extendedErrors - expected array of strings");const errField="errcode"===field?"code":field;result[field]=null!=err[errField]?String(err[errField]):err[errField]}),result}(originalError,fields):void 0;return{...exceptionDetails,...exceptionDetails?{extensions:{...originalError.extensions,exception:exceptionDetails}}:null,message:error.message,locations:error.locations,path:error.path}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isKoaApp=(a,b)=>a.req&&a.res&&"function"==typeof b,exports.middleware=async(ctx,next,requestHandler)=>{ctx.req._koaCtx=ctx;const oldEnd=ctx.res.end;let result;ctx.res.end=(body,cb)=>{ctx.status=ctx.res.statusCode,ctx.response.body=void 0===body?"":body,"function"==typeof cb&&cb()},ctx.req.originalUrl=ctx.request.originalUrl;try{result=await requestHandler(ctx.req,ctx.res,next)}finally{ctx.res.end=oldEnd,ctx.res.statusCode&&200!==ctx.res.statusCode&&(ctx.response.status=ctx.res.statusCode)}return result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const stream_1=__webpack_require__(32);exports.default=function(req,res,options){const{_emitter:_emitter}=options;req.socket.setTimeout(0),req.socket.setNoDelay(!0),req.socket.setKeepAlive(!0),res.statusCode=200,res.setHeader("Content-Type","text/event-stream"),res.setHeader("Cache-Control","no-cache"),req.httpVersionMajor>=2||res.setHeader("Connection","keep-alive");const koaCtx=req._koaCtx,isKoa=!!koaCtx,stream=isKoa?new stream_1.PassThrough:null;isKoa&&(koaCtx.response.body=stream,koaCtx.compress=!1);const sse=str=>{isKoa?stream.write(str):(res.write(str),"function"==typeof res.flushHeaders&&res.flushHeaders())};sse("event: open\n\n");const schemaChangedCb=()=>sse("event: change\ndata: schema\n\n");options.watchPg&&_emitter.on("schemas:changed",schemaChangedCb);const cleanup=()=>{stream?stream.end():res.end(),_emitter.removeListener("schemas:changed",schemaChangedCb)};req.on("close",cleanup),req.on("finish",cleanup),req.on("error",cleanup),_emitter.on("test:close",cleanup)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pg_1=__webpack_require__(57);exports.$$pgClient="pgClient",exports.default=function(context){if(null==context||"object"!=typeof context)throw new Error("Context must be an object.");const client=context[exports.$$pgClient];if(null==client)throw new Error("Postgres client does not exist on the context.");if(!(client instanceof pg_1.ClientBase))throw new Error("Postgres client on context is of the incorrect type.");return client}},function(module,exports,__webpack_require__){"use strict";
/*!
 * depd
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(callSite){var addSuffix=!0,fileLocation=function(callSite){var fileName,fileLocation="";callSite.isNative()?fileLocation="native":callSite.isEval()?(fileName=callSite.getScriptNameOrSourceURL())||(fileLocation=callSite.getEvalOrigin()):fileName=callSite.getFileName();if(fileName){fileLocation+=fileName;var lineNumber=callSite.getLineNumber();if(null!=lineNumber){fileLocation+=":"+lineNumber;var columnNumber=callSite.getColumnNumber();columnNumber&&(fileLocation+=":"+columnNumber)}}return fileLocation||"unknown source"}(callSite),functionName=callSite.getFunctionName(),isConstructor=callSite.isConstructor(),isMethodCall=!(callSite.isToplevel()||isConstructor),line="";if(isMethodCall){var methodName=callSite.getMethodName(),typeName=(receiver=callSite.receiver).constructor&&receiver.constructor.name||null;functionName?(typeName&&0!==functionName.indexOf(typeName)&&(line+=typeName+"."),line+=functionName,methodName&&functionName.lastIndexOf("."+methodName)!==functionName.length-methodName.length-1&&(line+=" [as "+methodName+"]")):line+=typeName+"."+(methodName||"<anonymous>")}else isConstructor?line+="new "+(functionName||"<anonymous>"):functionName?line+=functionName:(addSuffix=!1,line+=fileLocation);var receiver;addSuffix&&(line+=" ("+fileLocation+")");return line}},function(module,exports,__webpack_require__){"use strict";
/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(emitter,type){return emitter.listeners(type).length}},function(module){module.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},function(module,exports,__webpack_require__){try{var util=__webpack_require__(17);if("function"!=typeof util.inherits)throw"";module.exports=util.inherits}catch(e){module.exports=__webpack_require__(478)}},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){"undefined"!=typeof process&&"renderer"===process.type?module.exports=__webpack_require__(480):module.exports=__webpack_require__(482)},function(module,exports,__webpack_require__){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=__webpack_require__(193)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){options=options||{};var ms,type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?plural(ms=val,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms":function(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports,__webpack_require__){var tty=__webpack_require__(100),util=__webpack_require__(17);(exports=module.exports=__webpack_require__(193)).init=function(debug){debug.inspectOpts={};for(var keys=Object.keys(exports.inspectOpts),i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]},exports.log=function(){return stream.write(util.format.apply(util,arguments)+"\n")},exports.formatArgs=function(args){var name=this.namespace;if(this.useColors){var c=this.color,prefix="  [3"+c+";1m"+name+" [0m";args[0]=prefix+args[0].split("\n").join("\n"+prefix),args.push("[3"+c+"m+"+exports.humanize(this.diff)+"[0m")}else args[0]=(new Date).toUTCString()+" "+name+" "+args[0]},exports.save=function(namespaces){null==namespaces?delete process.env.DEBUG:process.env.DEBUG=namespaces},exports.load=load,exports.useColors=function(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(fd)},exports.colors=[6,2,3,4,5,1],exports.inspectOpts=Object.keys(process.env).filter((function(key){return/^debug_/i.test(key)})).reduce((function(obj,key){var prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(function(_,k){return k.toUpperCase()})),val=process.env[key];return val=!!/^(yes|on|true|enabled)$/i.test(val)||!/^(no|off|false|disabled)$/i.test(val)&&("null"===val?null:Number(val)),obj[prop]=val,obj}),{});var fd=parseInt(process.env.DEBUG_FD,10)||2;1!==fd&&2!==fd&&util.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var stream=1===fd?process.stdout:2===fd?process.stderr:function(fd){var stream;switch(process.binding("tty_wrap").guessHandleType(fd)){case"TTY":(stream=new tty.WriteStream(fd))._type="tty",stream._handle&&stream._handle.unref&&stream._handle.unref();break;case"FILE":var fs=__webpack_require__(43);(stream=new fs.SyncWriteStream(fd,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var net=__webpack_require__(71);(stream=new net.Socket({fd:fd,readable:!1,writable:!0})).readable=!1,stream.read=null,stream._type="pipe",stream._handle&&stream._handle.unref&&stream._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return stream.fd=fd,stream._isStdio=!0,stream}(fd);function load(){return process.env.DEBUG}exports.formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).split("\n").map((function(str){return str.trim()})).join(" ")},exports.formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)},exports.enable(load())},function(module,exports,__webpack_require__){"use strict";
/*!
 * encodeurl
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(url){return String(url).replace(UNMATCHED_SURROGATE_PAIR_REGEXP,"$1$2").replace(ENCODE_CHARS_REGEXP,encodeURI)};var ENCODE_CHARS_REGEXP=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,UNMATCHED_SURROGATE_PAIR_REGEXP=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g},function(module,exports,__webpack_require__){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var matchHtmlRegExp=/["'&<>]/;module.exports=function(string){var escape,str=""+string,match=matchHtmlRegExp.exec(str);if(!match)return str;var html="",index=0,lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 39:escape="&#39;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}lastIndex!==index&&(html+=str.substring(lastIndex,index)),lastIndex=index+1,html+=escape}return lastIndex!==index?html+str.substring(lastIndex,index):html}},function(module,exports,__webpack_require__){"use strict";
/*!
 * ee-first
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */function listener(event,done){return function(arg1){for(var args=new Array(arguments.length),ee=this,err="error"===event?arg1:null,i=0;i<args.length;i++)args[i]=arguments[i];done(err,ee,event,args)}}module.exports=function(stuff,done){if(!Array.isArray(stuff))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var cleanups=[],i=0;i<stuff.length;i++){var arr=stuff[i];if(!Array.isArray(arr)||arr.length<2)throw new TypeError("each array member must be [ee, events...]");for(var ee=arr[0],j=1;j<arr.length;j++){var event=arr[j],fn=listener(event,callback);ee.on(event,fn),cleanups.push({ee:ee,event:event,fn:fn})}}function callback(){cleanup(),done.apply(null,arguments)}function cleanup(){for(var x,i=0;i<cleanups.length;i++)(x=cleanups[i]).ee.removeListener(x.event,x.fn)}function thunk(fn){done=fn}return thunk.cancel=cleanup,thunk}},function(module,exports,__webpack_require__){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var bytes=__webpack_require__(74),contentType=__webpack_require__(119),createError=__webpack_require__(91),debug=__webpack_require__(92)("body-parser:json"),read=__webpack_require__(93),typeis=__webpack_require__(62);module.exports=function(options){var opts=options||{},limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,inflate=!1!==opts.inflate,reviver=opts.reviver,strict=!1!==opts.strict,type=opts.type||"application/json",verify=opts.verify||!1;if(!1!==verify&&"function"!=typeof verify)throw new TypeError("option verify must be function");var shouldParse="function"!=typeof type?function(type){return function(req){return Boolean(typeis(req,type))}}(type):type;function parse(body){if(0===body.length)return{};if(strict){var first=(str=body,FIRST_CHAR_REGEXP.exec(str)[1]);if("{"!==first&&"["!==first)throw debug("strict violation"),function(str,char){var index=str.indexOf(char),partial=str.substring(0,index)+"#";try{throw JSON.parse(partial),new SyntaxError("strict violation")}catch(e){return normalizeJsonSyntaxError(e,{message:e.message.replace("#",char),stack:e.stack})}}(body,first)}var str;try{return debug("parse json"),JSON.parse(body,reviver)}catch(e){throw normalizeJsonSyntaxError(e,{message:e.message,stack:e.stack})}}return function(req,res,next){if(req._body)return debug("body already parsed"),void next();if(req.body=req.body||{},!typeis.hasBody(req))return debug("skip empty body"),void next();if(debug("content-type %j",req.headers["content-type"]),!shouldParse(req))return debug("skip parsing"),void next();var charset=function(req){try{return(contentType.parse(req).parameters.charset||"").toLowerCase()}catch(e){return}}(req)||"utf-8";if("utf-"!==charset.substr(0,4))return debug("invalid charset"),void next(createError(415,'unsupported charset "'+charset.toUpperCase()+'"',{charset:charset,type:"charset.unsupported"}));read(req,res,next,parse,debug,{encoding:charset,inflate:inflate,limit:limit,verify:verify})}};var FIRST_CHAR_REGEXP=/^[\x20\x09\x0a\x0d]*(.)/;function normalizeJsonSyntaxError(error,obj){for(var keys=Object.getOwnPropertyNames(error),i=0;i<keys.length;i++){var key=keys[i];"stack"!==key&&"message"!==key&&delete error[key]}return error.stack=obj.stack.replace(error.message,obj.message),error.message=obj.message,error}},function(module,exports,__webpack_require__){try{var util=__webpack_require__(17);if("function"!=typeof util.inherits)throw"";module.exports=util.inherits}catch(e){module.exports=__webpack_require__(488)}},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,exports,__webpack_require__){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=__webpack_require__(197)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){options=options||{};var ms,type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?plural(ms=val,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms":function(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports,__webpack_require__){var tty=__webpack_require__(100),util=__webpack_require__(17);(exports=module.exports=__webpack_require__(197)).init=function(debug){debug.inspectOpts={};for(var keys=Object.keys(exports.inspectOpts),i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]},exports.log=function(){return stream.write(util.format.apply(util,arguments)+"\n")},exports.formatArgs=function(args){var name=this.namespace;if(this.useColors){var c=this.color,prefix="  [3"+c+";1m"+name+" [0m";args[0]=prefix+args[0].split("\n").join("\n"+prefix),args.push("[3"+c+"m+"+exports.humanize(this.diff)+"[0m")}else args[0]=(new Date).toUTCString()+" "+name+" "+args[0]},exports.save=function(namespaces){null==namespaces?delete process.env.DEBUG:process.env.DEBUG=namespaces},exports.load=load,exports.useColors=function(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(fd)},exports.colors=[6,2,3,4,5,1],exports.inspectOpts=Object.keys(process.env).filter((function(key){return/^debug_/i.test(key)})).reduce((function(obj,key){var prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(function(_,k){return k.toUpperCase()})),val=process.env[key];return val=!!/^(yes|on|true|enabled)$/i.test(val)||!/^(no|off|false|disabled)$/i.test(val)&&("null"===val?null:Number(val)),obj[prop]=val,obj}),{});var fd=parseInt(process.env.DEBUG_FD,10)||2;1!==fd&&2!==fd&&util.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var stream=1===fd?process.stdout:2===fd?process.stderr:function(fd){var stream;switch(process.binding("tty_wrap").guessHandleType(fd)){case"TTY":(stream=new tty.WriteStream(fd))._type="tty",stream._handle&&stream._handle.unref&&stream._handle.unref();break;case"FILE":var fs=__webpack_require__(43);(stream=new fs.SyncWriteStream(fd,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var net=__webpack_require__(71);(stream=new net.Socket({fd:fd,readable:!1,writable:!0})).readable=!1,stream.read=null,stream._type="pipe",stream._handle&&stream._handle.unref&&stream._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return stream.fd=fd,stream._isStdio=!0,stream}(fd);function load(){return process.env.DEBUG}exports.formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).split("\n").map((function(str){return str.trim()})).join(" ")},exports.formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)},exports.enable(load())},function(module,exports,__webpack_require__){"use strict";
/*!
 * raw-body
 * Copyright(c) 2013-2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var bytes=__webpack_require__(74),createError=__webpack_require__(91),iconv=__webpack_require__(198),unpipe=__webpack_require__(195);module.exports=function(stream,options,callback){var done=callback,opts=options||{};!0!==options&&"string"!=typeof options||(opts={encoding:options});"function"==typeof options&&(done=options,opts={});if(void 0!==done&&"function"!=typeof done)throw new TypeError("argument callback must be a function");if(!done&&!global.Promise)throw new TypeError("argument callback is required");var encoding=!0!==opts.encoding?opts.encoding:"utf-8",limit=bytes.parse(opts.limit),length=null==opts.length||isNaN(opts.length)?null:parseInt(opts.length,10);if(done)return readStream(stream,encoding,length,limit,done);return new Promise((function(resolve,reject){readStream(stream,encoding,length,limit,(function(err,buf){if(err)return reject(err);resolve(buf)}))}))};var ICONV_ENCODING_MESSAGE_REGEXP=/^Encoding not recognized: /;function halt(stream){unpipe(stream),"function"==typeof stream.pause&&stream.pause()}function readStream(stream,encoding,length,limit,callback){var complete=!1;if(null!==limit&&null!==length&&length>limit)return done(createError(413,"request entity too large",{expected:length,length:length,limit:limit,type:"entity.too.large"}));var state=stream._readableState;if(stream._decoder||state&&(state.encoding||state.decoder))return done(createError(500,"stream encoding should not be set",{type:"stream.encoding.set"}));var decoder,received=0;try{decoder=function(encoding){if(!encoding)return null;try{return iconv.getDecoder(encoding)}catch(e){if(!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message))throw e;throw createError(415,"specified encoding unsupported",{encoding:encoding,type:"encoding.unsupported"})}}(encoding)}catch(err){return done(err)}var buffer=decoder?"":[];function done(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];function invokeCallback(){cleanup(),args[0]&&halt(stream),callback.apply(null,args)}complete=!0,invokeCallback()}function onAborted(){complete||done(createError(400,"request aborted",{code:"ECONNABORTED",expected:length,length:length,received:received,type:"request.aborted"}))}function onData(chunk){complete||(received+=chunk.length,null!==limit&&received>limit?done(createError(413,"request entity too large",{limit:limit,received:received,type:"entity.too.large"})):decoder?buffer+=decoder.write(chunk):buffer.push(chunk))}function onEnd(err){if(!complete){if(err)return done(err);if(null!==length&&received!==length)done(createError(400,"request size did not match content length",{expected:length,length:length,received:received,type:"request.size.invalid"}));else done(null,decoder?buffer+(decoder.end()||""):Buffer.concat(buffer))}}function cleanup(){buffer=null,stream.removeListener("aborted",onAborted),stream.removeListener("data",onData),stream.removeListener("end",onEnd),stream.removeListener("error",onEnd),stream.removeListener("close",cleanup)}stream.on("aborted",onAborted),stream.on("close",cleanup),stream.on("data",onData),stream.on("end",onEnd),stream.on("error",onEnd)}},function(module,exports,__webpack_require__){"use strict";function PrependBOMWrapper(encoder,options){this.encoder=encoder,this.addBOM=!0}function StripBOMWrapper(decoder,options){this.decoder=decoder,this.pass=!1,this.options=options||{}}exports.PrependBOM=PrependBOMWrapper,PrependBOMWrapper.prototype.write=function(str){return this.addBOM&&(str="\ufeff"+str,this.addBOM=!1),this.encoder.write(str)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},exports.StripBOM=StripBOMWrapper,StripBOMWrapper.prototype.write=function(buf){var res=this.decoder.write(buf);return this.pass||!res||("\ufeff"===res[0]&&(res=res.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),res},StripBOMWrapper.prototype.end=function(){return this.decoder.end()}},function(module,exports,__webpack_require__){"use strict";for(var modules=[__webpack_require__(495),__webpack_require__(496),__webpack_require__(497),__webpack_require__(498),__webpack_require__(499),__webpack_require__(500),__webpack_require__(501),__webpack_require__(502)],i=0;i<modules.length;i++){module=modules[i];for(var enc in module)Object.prototype.hasOwnProperty.call(module,enc)&&(exports[enc]=module[enc])}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(58).Buffer;function InternalCodec(codecOptions,iconv){this.enc=codecOptions.encodingName,this.bomAware=codecOptions.bomAware,"base64"===this.enc?this.encoder=InternalEncoderBase64:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=InternalEncoderCesu8,""!==Buffer.from("eda0bdedb2a9","hex").toString()&&(this.decoder=InternalDecoderCesu8,this.defaultCharUnicode=iconv.defaultCharUnicode))}module.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec},InternalCodec.prototype.encoder=InternalEncoder,InternalCodec.prototype.decoder=InternalDecoder;var StringDecoder=__webpack_require__(171).StringDecoder;function InternalDecoder(options,codec){StringDecoder.call(this,codec.enc)}function InternalEncoder(options,codec){this.enc=codec.enc}function InternalEncoderBase64(options,codec){this.prevStr=""}function InternalEncoderCesu8(options,codec){}function InternalDecoderCesu8(options,codec){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=codec.defaultCharUnicode}StringDecoder.prototype.end||(StringDecoder.prototype.end=function(){}),InternalDecoder.prototype=StringDecoder.prototype,InternalEncoder.prototype.write=function(str){return Buffer.from(str,this.enc)},InternalEncoder.prototype.end=function(){},InternalEncoderBase64.prototype.write=function(str){var completeQuads=(str=this.prevStr+str).length-str.length%4;return this.prevStr=str.slice(completeQuads),str=str.slice(0,completeQuads),Buffer.from(str,"base64")},InternalEncoderBase64.prototype.end=function(){return Buffer.from(this.prevStr,"base64")},InternalEncoderCesu8.prototype.write=function(str){for(var buf=Buffer.alloc(3*str.length),bufIdx=0,i=0;i<str.length;i++){var charCode=str.charCodeAt(i);charCode<128?buf[bufIdx++]=charCode:charCode<2048?(buf[bufIdx++]=192+(charCode>>>6),buf[bufIdx++]=128+(63&charCode)):(buf[bufIdx++]=224+(charCode>>>12),buf[bufIdx++]=128+(charCode>>>6&63),buf[bufIdx++]=128+(63&charCode))}return buf.slice(0,bufIdx)},InternalEncoderCesu8.prototype.end=function(){},InternalDecoderCesu8.prototype.write=function(buf){for(var acc=this.acc,contBytes=this.contBytes,accBytes=this.accBytes,res="",i=0;i<buf.length;i++){var curByte=buf[i];128!=(192&curByte)?(contBytes>0&&(res+=this.defaultCharUnicode,contBytes=0),curByte<128?res+=String.fromCharCode(curByte):curByte<224?(acc=31&curByte,contBytes=1,accBytes=1):curByte<240?(acc=15&curByte,contBytes=2,accBytes=1):res+=this.defaultCharUnicode):contBytes>0?(acc=acc<<6|63&curByte,accBytes++,0===--contBytes&&(res+=2===accBytes&&acc<128&&acc>0||3===accBytes&&acc<2048?this.defaultCharUnicode:String.fromCharCode(acc))):res+=this.defaultCharUnicode}return this.acc=acc,this.contBytes=contBytes,this.accBytes=accBytes,res},InternalDecoderCesu8.prototype.end=function(){var res=0;return this.contBytes>0&&(res+=this.defaultCharUnicode),res}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(58).Buffer;function Utf16BECodec(){}function Utf16BEEncoder(){}function Utf16BEDecoder(){this.overflowByte=-1}function Utf16Codec(codecOptions,iconv){this.iconv=iconv}function Utf16Encoder(options,codec){void 0===(options=options||{}).addBOM&&(options.addBOM=!0),this.encoder=codec.iconv.getEncoder("utf-16le",options)}function Utf16Decoder(options,codec){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=options||{},this.iconv=codec.iconv}function detectEncoding(buf,defaultEncoding){var enc=defaultEncoding||"utf-16le";if(buf.length>=2)if(254==buf[0]&&255==buf[1])enc="utf-16be";else if(255==buf[0]&&254==buf[1])enc="utf-16le";else{for(var asciiCharsLE=0,asciiCharsBE=0,_len=Math.min(buf.length-buf.length%2,64),i=0;i<_len;i+=2)0===buf[i]&&0!==buf[i+1]&&asciiCharsBE++,0!==buf[i]&&0===buf[i+1]&&asciiCharsLE++;asciiCharsBE>asciiCharsLE?enc="utf-16be":asciiCharsBE<asciiCharsLE&&(enc="utf-16le")}return enc}exports.utf16be=Utf16BECodec,Utf16BECodec.prototype.encoder=Utf16BEEncoder,Utf16BECodec.prototype.decoder=Utf16BEDecoder,Utf16BECodec.prototype.bomAware=!0,Utf16BEEncoder.prototype.write=function(str){for(var buf=Buffer.from(str,"ucs2"),i=0;i<buf.length;i+=2){var tmp=buf[i];buf[i]=buf[i+1],buf[i+1]=tmp}return buf},Utf16BEEncoder.prototype.end=function(){},Utf16BEDecoder.prototype.write=function(buf){if(0==buf.length)return"";var buf2=Buffer.alloc(buf.length+1),i=0,j=0;for(-1!==this.overflowByte&&(buf2[0]=buf[0],buf2[1]=this.overflowByte,i=1,j=2);i<buf.length-1;i+=2,j+=2)buf2[j]=buf[i+1],buf2[j+1]=buf[i];return this.overflowByte=i==buf.length-1?buf[buf.length-1]:-1,buf2.slice(0,j).toString("ucs2")},Utf16BEDecoder.prototype.end=function(){},exports.utf16=Utf16Codec,Utf16Codec.prototype.encoder=Utf16Encoder,Utf16Codec.prototype.decoder=Utf16Decoder,Utf16Encoder.prototype.write=function(str){return this.encoder.write(str)},Utf16Encoder.prototype.end=function(){return this.encoder.end()},Utf16Decoder.prototype.write=function(buf){if(!this.decoder){if(this.initialBytes.push(buf),this.initialBytesLen+=buf.length,this.initialBytesLen<16)return"";var encoding=detectEncoding(buf=Buffer.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(buf)},Utf16Decoder.prototype.end=function(){if(!this.decoder){var buf=Buffer.concat(this.initialBytes),encoding=detectEncoding(buf,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options);var res=this.decoder.write(buf),trail=this.decoder.end();return trail?res+trail:res}return this.decoder.end()}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(58).Buffer;function Utf7Codec(codecOptions,iconv){this.iconv=iconv}exports.utf7=Utf7Codec,exports.unicode11utf7="utf7",Utf7Codec.prototype.encoder=Utf7Encoder,Utf7Codec.prototype.decoder=Utf7Decoder,Utf7Codec.prototype.bomAware=!0;var nonDirectChars=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function Utf7Encoder(options,codec){this.iconv=codec.iconv}function Utf7Decoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Encoder.prototype.write=function(str){return Buffer.from(str.replace(nonDirectChars,function(chunk){return"+"+("+"===chunk?"":this.iconv.encode(chunk,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},Utf7Encoder.prototype.end=function(){};for(var base64Regex=/[A-Za-z0-9\/+]/,base64Chars=[],i=0;i<256;i++)base64Chars[i]=base64Regex.test(String.fromCharCode(i));var plusChar="+".charCodeAt(0),minusChar="-".charCodeAt(0),andChar="&".charCodeAt(0);function Utf7IMAPCodec(codecOptions,iconv){this.iconv=iconv}function Utf7IMAPEncoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=Buffer.alloc(6),this.base64AccumIdx=0}function Utf7IMAPDecoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Decoder.prototype.write=function(buf){for(var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum,i=0;i<buf.length;i++)if(inBase64){if(!base64Chars[buf[i]]){if(i==lastI&&buf[i]==minusChar)res+="+";else{var b64str=base64Accum+buf.slice(lastI,i).toString();res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}buf[i]!=minusChar&&i--,lastI=i+1,inBase64=!1,base64Accum=""}}else buf[i]==plusChar&&(res+=this.iconv.decode(buf.slice(lastI,i),"ascii"),lastI=i+1,inBase64=!0);if(inBase64){var canBeDecoded=(b64str=base64Accum+buf.slice(lastI).toString()).length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded),b64str=b64str.slice(0,canBeDecoded),res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}else res+=this.iconv.decode(buf.slice(lastI),"ascii");return this.inBase64=inBase64,this.base64Accum=base64Accum,res},Utf7Decoder.prototype.end=function(){var res="";return this.inBase64&&this.base64Accum.length>0&&(res=this.iconv.decode(Buffer.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",res},exports.utf7imap=Utf7IMAPCodec,Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder,Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder,Utf7IMAPCodec.prototype.bomAware=!0,Utf7IMAPEncoder.prototype.write=function(str){for(var inBase64=this.inBase64,base64Accum=this.base64Accum,base64AccumIdx=this.base64AccumIdx,buf=Buffer.alloc(5*str.length+10),bufIdx=0,i=0;i<str.length;i++){var uChar=str.charCodeAt(i);32<=uChar&&uChar<=126?(inBase64&&(base64AccumIdx>0&&(bufIdx+=buf.write(base64Accum.slice(0,base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx),base64AccumIdx=0),buf[bufIdx++]=minusChar,inBase64=!1),inBase64||(buf[bufIdx++]=uChar,uChar===andChar&&(buf[bufIdx++]=minusChar))):(inBase64||(buf[bufIdx++]=andChar,inBase64=!0),inBase64&&(base64Accum[base64AccumIdx++]=uChar>>8,base64Accum[base64AccumIdx++]=255&uChar,base64AccumIdx==base64Accum.length&&(bufIdx+=buf.write(base64Accum.toString("base64").replace(/\//g,","),bufIdx),base64AccumIdx=0)))}return this.inBase64=inBase64,this.base64AccumIdx=base64AccumIdx,buf.slice(0,bufIdx)},Utf7IMAPEncoder.prototype.end=function(){var buf=Buffer.alloc(10),bufIdx=0;return this.inBase64&&(this.base64AccumIdx>0&&(bufIdx+=buf.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx),this.base64AccumIdx=0),buf[bufIdx++]=minusChar,this.inBase64=!1),buf.slice(0,bufIdx)};var base64IMAPChars=base64Chars.slice();base64IMAPChars[",".charCodeAt(0)]=!0,Utf7IMAPDecoder.prototype.write=function(buf){for(var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum,i=0;i<buf.length;i++)if(inBase64){if(!base64IMAPChars[buf[i]]){if(i==lastI&&buf[i]==minusChar)res+="&";else{var b64str=base64Accum+buf.slice(lastI,i).toString().replace(/,/g,"/");res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}buf[i]!=minusChar&&i--,lastI=i+1,inBase64=!1,base64Accum=""}}else buf[i]==andChar&&(res+=this.iconv.decode(buf.slice(lastI,i),"ascii"),lastI=i+1,inBase64=!0);if(inBase64){var canBeDecoded=(b64str=base64Accum+buf.slice(lastI).toString().replace(/,/g,"/")).length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded),b64str=b64str.slice(0,canBeDecoded),res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}else res+=this.iconv.decode(buf.slice(lastI),"ascii");return this.inBase64=inBase64,this.base64Accum=base64Accum,res},Utf7IMAPDecoder.prototype.end=function(){var res="";return this.inBase64&&this.base64Accum.length>0&&(res=this.iconv.decode(Buffer.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",res}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(58).Buffer;function SBCSCodec(codecOptions,iconv){if(!codecOptions)throw new Error("SBCS codec is called without the data.");if(!codecOptions.chars||128!==codecOptions.chars.length&&256!==codecOptions.chars.length)throw new Error("Encoding '"+codecOptions.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===codecOptions.chars.length){for(var asciiString="",i=0;i<128;i++)asciiString+=String.fromCharCode(i);codecOptions.chars=asciiString+codecOptions.chars}this.decodeBuf=Buffer.from(codecOptions.chars,"ucs2");var encodeBuf=Buffer.alloc(65536,iconv.defaultCharSingleByte.charCodeAt(0));for(i=0;i<codecOptions.chars.length;i++)encodeBuf[codecOptions.chars.charCodeAt(i)]=i;this.encodeBuf=encodeBuf}function SBCSEncoder(options,codec){this.encodeBuf=codec.encodeBuf}function SBCSDecoder(options,codec){this.decodeBuf=codec.decodeBuf}exports._sbcs=SBCSCodec,SBCSCodec.prototype.encoder=SBCSEncoder,SBCSCodec.prototype.decoder=SBCSDecoder,SBCSEncoder.prototype.write=function(str){for(var buf=Buffer.alloc(str.length),i=0;i<str.length;i++)buf[i]=this.encodeBuf[str.charCodeAt(i)];return buf},SBCSEncoder.prototype.end=function(){},SBCSDecoder.prototype.write=function(buf){for(var decodeBuf=this.decodeBuf,newBuf=Buffer.alloc(2*buf.length),idx1=0,idx2=0,i=0;i<buf.length;i++)idx1=2*buf[i],newBuf[idx2=2*i]=decodeBuf[idx1],newBuf[idx2+1]=decodeBuf[idx1+1];return newBuf.toString("ucs2")},SBCSDecoder.prototype.end=function(){}},function(module,exports,__webpack_require__){"use strict";module.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(module,exports,__webpack_require__){"use strict";module.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(58).Buffer;exports._dbcs=DBCSCodec;for(var UNASSIGNED_NODE=new Array(256),i=0;i<256;i++)UNASSIGNED_NODE[i]=-1;function DBCSCodec(codecOptions,iconv){if(this.encodingName=codecOptions.encodingName,!codecOptions)throw new Error("DBCS codec is called without the data.");if(!codecOptions.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var mappingTable=codecOptions.table();this.decodeTables=[],this.decodeTables[0]=UNASSIGNED_NODE.slice(0),this.decodeTableSeq=[];for(var i=0;i<mappingTable.length;i++)this._addDecodeChunk(mappingTable[i]);this.defaultCharUnicode=iconv.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var skipEncodeChars={};if(codecOptions.encodeSkipVals)for(i=0;i<codecOptions.encodeSkipVals.length;i++){var val=codecOptions.encodeSkipVals[i];if("number"==typeof val)skipEncodeChars[val]=!0;else for(var j=val.from;j<=val.to;j++)skipEncodeChars[j]=!0}if(this._fillEncodeTable(0,0,skipEncodeChars),codecOptions.encodeAdd)for(var uChar in codecOptions.encodeAdd)Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd,uChar)&&this._setEncodeChar(uChar.charCodeAt(0),codecOptions.encodeAdd[uChar]);if(this.defCharSB=this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof codecOptions.gb18030){this.gb18030=codecOptions.gb18030();var thirdByteNodeIdx=this.decodeTables.length,thirdByteNode=this.decodeTables[thirdByteNodeIdx]=UNASSIGNED_NODE.slice(0),fourthByteNodeIdx=this.decodeTables.length,fourthByteNode=this.decodeTables[fourthByteNodeIdx]=UNASSIGNED_NODE.slice(0);for(i=129;i<=254;i++){var secondByteNodeIdx=-1e3-this.decodeTables[0][i],secondByteNode=this.decodeTables[secondByteNodeIdx];for(j=48;j<=57;j++)secondByteNode[j]=-1e3-thirdByteNodeIdx}for(i=129;i<=254;i++)thirdByteNode[i]=-1e3-fourthByteNodeIdx;for(i=48;i<=57;i++)fourthByteNode[i]=-2}}function DBCSEncoder(options,codec){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=codec.encodeTable,this.encodeTableSeq=codec.encodeTableSeq,this.defaultCharSingleByte=codec.defCharSB,this.gb18030=codec.gb18030}function DBCSDecoder(options,codec){this.nodeIdx=0,this.prevBuf=Buffer.alloc(0),this.decodeTables=codec.decodeTables,this.decodeTableSeq=codec.decodeTableSeq,this.defaultCharUnicode=codec.defaultCharUnicode,this.gb18030=codec.gb18030}function findIdx(table,val){if(table[0]>val)return-1;for(var l=0,r=table.length;l<r-1;){var mid=l+Math.floor((r-l+1)/2);table[mid]<=val?l=mid:r=mid}return l}DBCSCodec.prototype.encoder=DBCSEncoder,DBCSCodec.prototype.decoder=DBCSDecoder,DBCSCodec.prototype._getDecodeTrieNode=function(addr){for(var bytes=[];addr>0;addr>>=8)bytes.push(255&addr);0==bytes.length&&bytes.push(0);for(var node=this.decodeTables[0],i=bytes.length-1;i>0;i--){var val=node[bytes[i]];if(-1==val)node[bytes[i]]=-1e3-this.decodeTables.length,this.decodeTables.push(node=UNASSIGNED_NODE.slice(0));else{if(!(val<=-1e3))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+addr.toString(16));node=this.decodeTables[-1e3-val]}}return node},DBCSCodec.prototype._addDecodeChunk=function(chunk){var curAddr=parseInt(chunk[0],16),writeTable=this._getDecodeTrieNode(curAddr);curAddr&=255;for(var k=1;k<chunk.length;k++){var part=chunk[k];if("string"==typeof part)for(var l=0;l<part.length;){var code=part.charCodeAt(l++);if(55296<=code&&code<56320){var codeTrail=part.charCodeAt(l++);if(!(56320<=codeTrail&&codeTrail<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+chunk[0]);writeTable[curAddr++]=65536+1024*(code-55296)+(codeTrail-56320)}else if(4080<code&&code<=4095){for(var len=4095-code+2,seq=[],m=0;m<len;m++)seq.push(part.charCodeAt(l++));writeTable[curAddr++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(seq)}else writeTable[curAddr++]=code}else{if("number"!=typeof part)throw new Error("Incorrect type '"+typeof part+"' given in "+this.encodingName+" at chunk "+chunk[0]);var charCode=writeTable[curAddr-1]+1;for(l=0;l<part;l++)writeTable[curAddr++]=charCode++}}if(curAddr>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+chunk[0]+": too long"+curAddr)},DBCSCodec.prototype._getEncodeBucket=function(uCode){var high=uCode>>8;return void 0===this.encodeTable[high]&&(this.encodeTable[high]=UNASSIGNED_NODE.slice(0)),this.encodeTable[high]},DBCSCodec.prototype._setEncodeChar=function(uCode,dbcsCode){var bucket=this._getEncodeBucket(uCode),low=255&uCode;bucket[low]<=-10?this.encodeTableSeq[-10-bucket[low]][-1]=dbcsCode:-1==bucket[low]&&(bucket[low]=dbcsCode)},DBCSCodec.prototype._setEncodeSequence=function(seq,dbcsCode){var node,uCode=seq[0],bucket=this._getEncodeBucket(uCode),low=255&uCode;bucket[low]<=-10?node=this.encodeTableSeq[-10-bucket[low]]:(node={},-1!==bucket[low]&&(node[-1]=bucket[low]),bucket[low]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(node));for(var j=1;j<seq.length-1;j++){var oldVal=node[uCode];"object"==typeof oldVal?node=oldVal:(node=node[uCode]={},void 0!==oldVal&&(node[-1]=oldVal))}node[uCode=seq[seq.length-1]]=dbcsCode},DBCSCodec.prototype._fillEncodeTable=function(nodeIdx,prefix,skipEncodeChars){for(var node=this.decodeTables[nodeIdx],i=0;i<256;i++){var uCode=node[i],mbCode=prefix+i;skipEncodeChars[mbCode]||(uCode>=0?this._setEncodeChar(uCode,mbCode):uCode<=-1e3?this._fillEncodeTable(-1e3-uCode,mbCode<<8,skipEncodeChars):uCode<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-uCode],mbCode))}},DBCSEncoder.prototype.write=function(str){for(var newBuf=Buffer.alloc(str.length*(this.gb18030?4:3)),leadSurrogate=this.leadSurrogate,seqObj=this.seqObj,nextChar=-1,i=0,j=0;;){if(-1===nextChar){if(i==str.length)break;var uCode=str.charCodeAt(i++)}else{uCode=nextChar;nextChar=-1}if(55296<=uCode&&uCode<57344)if(uCode<56320){if(-1===leadSurrogate){leadSurrogate=uCode;continue}leadSurrogate=uCode,uCode=-1}else-1!==leadSurrogate?(uCode=65536+1024*(leadSurrogate-55296)+(uCode-56320),leadSurrogate=-1):uCode=-1;else-1!==leadSurrogate&&(nextChar=uCode,uCode=-1,leadSurrogate=-1);var dbcsCode=-1;if(void 0!==seqObj&&-1!=uCode){var resCode=seqObj[uCode];if("object"==typeof resCode){seqObj=resCode;continue}"number"==typeof resCode?dbcsCode=resCode:null==resCode&&void 0!==(resCode=seqObj[-1])&&(dbcsCode=resCode,nextChar=uCode),seqObj=void 0}else if(uCode>=0){var subtable=this.encodeTable[uCode>>8];if(void 0!==subtable&&(dbcsCode=subtable[255&uCode]),dbcsCode<=-10){seqObj=this.encodeTableSeq[-10-dbcsCode];continue}if(-1==dbcsCode&&this.gb18030){var idx=findIdx(this.gb18030.uChars,uCode);if(-1!=idx){dbcsCode=this.gb18030.gbChars[idx]+(uCode-this.gb18030.uChars[idx]);newBuf[j++]=129+Math.floor(dbcsCode/12600),dbcsCode%=12600,newBuf[j++]=48+Math.floor(dbcsCode/1260),dbcsCode%=1260,newBuf[j++]=129+Math.floor(dbcsCode/10),dbcsCode%=10,newBuf[j++]=48+dbcsCode;continue}}}-1===dbcsCode&&(dbcsCode=this.defaultCharSingleByte),dbcsCode<256?newBuf[j++]=dbcsCode:dbcsCode<65536?(newBuf[j++]=dbcsCode>>8,newBuf[j++]=255&dbcsCode):(newBuf[j++]=dbcsCode>>16,newBuf[j++]=dbcsCode>>8&255,newBuf[j++]=255&dbcsCode)}return this.seqObj=seqObj,this.leadSurrogate=leadSurrogate,newBuf.slice(0,j)},DBCSEncoder.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var newBuf=Buffer.alloc(10),j=0;if(this.seqObj){var dbcsCode=this.seqObj[-1];void 0!==dbcsCode&&(dbcsCode<256?newBuf[j++]=dbcsCode:(newBuf[j++]=dbcsCode>>8,newBuf[j++]=255&dbcsCode)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(newBuf[j++]=this.defaultCharSingleByte,this.leadSurrogate=-1),newBuf.slice(0,j)}},DBCSEncoder.prototype.findIdx=findIdx,DBCSDecoder.prototype.write=function(buf){var newBuf=Buffer.alloc(2*buf.length),nodeIdx=this.nodeIdx,prevBuf=this.prevBuf,prevBufOffset=this.prevBuf.length,seqStart=-this.prevBuf.length;prevBufOffset>0&&(prevBuf=Buffer.concat([prevBuf,buf.slice(0,10)]));for(var i=0,j=0;i<buf.length;i++){var uCode,curByte=i>=0?buf[i]:prevBuf[i+prevBufOffset];if((uCode=this.decodeTables[nodeIdx][curByte])>=0);else if(-1===uCode)i=seqStart,uCode=this.defaultCharUnicode.charCodeAt(0);else if(-2===uCode){var curSeq=seqStart>=0?buf.slice(seqStart,i+1):prevBuf.slice(seqStart+prevBufOffset,i+1+prevBufOffset),ptr=12600*(curSeq[0]-129)+1260*(curSeq[1]-48)+10*(curSeq[2]-129)+(curSeq[3]-48),idx=findIdx(this.gb18030.gbChars,ptr);uCode=this.gb18030.uChars[idx]+ptr-this.gb18030.gbChars[idx]}else{if(uCode<=-1e3){nodeIdx=-1e3-uCode;continue}if(!(uCode<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+uCode+" at "+nodeIdx+"/"+curByte);for(var seq=this.decodeTableSeq[-10-uCode],k=0;k<seq.length-1;k++)uCode=seq[k],newBuf[j++]=255&uCode,newBuf[j++]=uCode>>8;uCode=seq[seq.length-1]}if(uCode>65535){uCode-=65536;var uCodeLead=55296+Math.floor(uCode/1024);newBuf[j++]=255&uCodeLead,newBuf[j++]=uCodeLead>>8,uCode=56320+uCode%1024}newBuf[j++]=255&uCode,newBuf[j++]=uCode>>8,nodeIdx=0,seqStart=i+1}return this.nodeIdx=nodeIdx,this.prevBuf=seqStart>=0?buf.slice(seqStart):prevBuf.slice(seqStart+prevBufOffset),newBuf.slice(0,j).toString("ucs2")},DBCSDecoder.prototype.end=function(){for(var ret="";this.prevBuf.length>0;){ret+=this.defaultCharUnicode;var buf=this.prevBuf.slice(1);this.prevBuf=Buffer.alloc(0),this.nodeIdx=0,buf.length>0&&(ret+=this.write(buf))}return this.nodeIdx=0,ret}},function(module,exports,__webpack_require__){"use strict";module.exports={shiftjis:{type:"_dbcs",table:function(){return __webpack_require__(503)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return __webpack_require__(504)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return __webpack_require__(120)}},gbk:{type:"_dbcs",table:function(){return __webpack_require__(120).concat(__webpack_require__(199))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return __webpack_require__(120).concat(__webpack_require__(199))},gb18030:function(){return __webpack_require__(505)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return __webpack_require__(506)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return __webpack_require__(200)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return __webpack_require__(200).concat(__webpack_require__(507))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(module){module.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},function(module){module.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},function(module){module.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},function(module){module.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},function(module){module.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(41).Buffer,Transform=__webpack_require__(32).Transform;function IconvLiteEncoderStream(conv,options){this.conv=conv,(options=options||{}).decodeStrings=!1,Transform.call(this,options)}function IconvLiteDecoderStream(conv,options){this.conv=conv,(options=options||{}).encoding=this.encoding="utf8",Transform.call(this,options)}module.exports=function(iconv){iconv.encodeStream=function(encoding,options){return new IconvLiteEncoderStream(iconv.getEncoder(encoding,options),options)},iconv.decodeStream=function(encoding,options){return new IconvLiteDecoderStream(iconv.getDecoder(encoding,options),options)},iconv.supportsStreams=!0,iconv.IconvLiteEncoderStream=IconvLiteEncoderStream,iconv.IconvLiteDecoderStream=IconvLiteDecoderStream,iconv._collect=IconvLiteDecoderStream.prototype.collect},IconvLiteEncoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteEncoderStream}}),IconvLiteEncoderStream.prototype._transform=function(chunk,encoding,done){if("string"!=typeof chunk)return done(new Error("Iconv encoding stream needs strings as its input."));try{var res=this.conv.write(chunk);res&&res.length&&this.push(res),done()}catch(e){done(e)}},IconvLiteEncoderStream.prototype._flush=function(done){try{var res=this.conv.end();res&&res.length&&this.push(res),done()}catch(e){done(e)}},IconvLiteEncoderStream.prototype.collect=function(cb){var chunks=[];return this.on("error",cb),this.on("data",(function(chunk){chunks.push(chunk)})),this.on("end",(function(){cb(null,Buffer.concat(chunks))})),this},IconvLiteDecoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteDecoderStream}}),IconvLiteDecoderStream.prototype._transform=function(chunk,encoding,done){if(!Buffer.isBuffer(chunk))return done(new Error("Iconv decoding stream needs buffers as its input."));try{var res=this.conv.write(chunk);res&&res.length&&this.push(res,this.encoding),done()}catch(e){done(e)}},IconvLiteDecoderStream.prototype._flush=function(done){try{var res=this.conv.end();res&&res.length&&this.push(res,this.encoding),done()}catch(e){done(e)}},IconvLiteDecoderStream.prototype.collect=function(cb){var res="";return this.on("error",cb),this.on("data",(function(chunk){res+=chunk})),this.on("end",(function(){cb(null,res)})),this}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(41).Buffer;module.exports=function(iconv){var original=void 0;iconv.supportsNodeEncodingsExtension=!(Buffer.from||new Buffer(0)instanceof Uint8Array),iconv.extendNodeEncodings=function(){if(!original){if(original={},!iconv.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var nodeNativeEncodings={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer.isNativeEncoding=function(enc){return enc&&nodeNativeEncodings[enc.toLowerCase()]};var SlowBuffer=__webpack_require__(41).SlowBuffer;if(original.SlowBufferToString=SlowBuffer.prototype.toString,SlowBuffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.SlowBufferToString.call(this,encoding,start,end):(void 0===start&&(start=0),void 0===end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.SlowBufferWrite=SlowBuffer.prototype.write,SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length)>remaining&&(length=remaining):length=remaining,encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.SlowBufferWrite.call(this,string,offset,length,encoding);if(string.length>0&&(length<0||offset<0))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},original.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(encoding){return Buffer.isNativeEncoding(encoding)||iconv.encodingExists(encoding)},original.BufferByteLength=Buffer.byteLength,Buffer.byteLength=SlowBuffer.byteLength=function(str,encoding){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferByteLength.call(this,str,encoding):iconv.encode(str,encoding).length},original.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferToString.call(this,encoding,start,end):(void 0===start&&(start=0),void 0===end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(string,offset,length,encoding){var _offset=offset,_length=length,_encoding=encoding;if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}if(encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.BufferWrite.call(this,string,_offset,_length,_encoding);offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length)>remaining&&(length=remaining):length=remaining,string.length>0&&(length<0||offset<0))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},iconv.supportsStreams){var Readable=__webpack_require__(32).Readable;original.ReadableSetEncoding=Readable.prototype.setEncoding,Readable.prototype.setEncoding=function(enc,options){this._readableState.decoder=iconv.getDecoder(enc,options),this._readableState.encoding=enc},Readable.prototype.collect=iconv._collect}}},iconv.undoExtendNodeEncodings=function(){if(iconv.supportsNodeEncodingsExtension){if(!original)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var SlowBuffer=__webpack_require__(41).SlowBuffer;if(SlowBuffer.prototype.toString=original.SlowBufferToString,SlowBuffer.prototype.write=original.SlowBufferWrite,Buffer.isEncoding=original.BufferIsEncoding,Buffer.byteLength=original.BufferByteLength,Buffer.prototype.toString=original.BufferToString,Buffer.prototype.write=original.BufferWrite,iconv.supportsStreams){var Readable=__webpack_require__(32).Readable;Readable.prototype.setEncoding=original.ReadableSetEncoding,delete Readable.prototype.collect}original=void 0}}}},function(module,exports,__webpack_require__){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var bytes=__webpack_require__(74),debug=__webpack_require__(92)("body-parser:raw"),read=__webpack_require__(93),typeis=__webpack_require__(62);module.exports=function(options){var opts=options||{},inflate=!1!==opts.inflate,limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,type=opts.type||"application/octet-stream",verify=opts.verify||!1;if(!1!==verify&&"function"!=typeof verify)throw new TypeError("option verify must be function");var shouldParse="function"!=typeof type?function(type){return function(req){return Boolean(typeis(req,type))}}(type):type;function parse(buf){return buf}return function(req,res,next){return req._body?(debug("body already parsed"),void next()):(req.body=req.body||{},typeis.hasBody(req)?(debug("content-type %j",req.headers["content-type"]),shouldParse(req)?void read(req,res,next,parse,debug,{encoding:null,inflate:inflate,limit:limit,verify:verify}):(debug("skip parsing"),void next())):(debug("skip empty body"),void next()))}}},function(module,exports,__webpack_require__){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var bytes=__webpack_require__(74),contentType=__webpack_require__(119),debug=__webpack_require__(92)("body-parser:text"),read=__webpack_require__(93),typeis=__webpack_require__(62);module.exports=function(options){var opts=options||{},defaultCharset=opts.defaultCharset||"utf-8",inflate=!1!==opts.inflate,limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,type=opts.type||"text/plain",verify=opts.verify||!1;if(!1!==verify&&"function"!=typeof verify)throw new TypeError("option verify must be function");var shouldParse="function"!=typeof type?function(type){return function(req){return Boolean(typeis(req,type))}}(type):type;function parse(buf){return buf}return function(req,res,next){if(req._body)return debug("body already parsed"),void next();if(req.body=req.body||{},!typeis.hasBody(req))return debug("skip empty body"),void next();if(debug("content-type %j",req.headers["content-type"]),!shouldParse(req))return debug("skip parsing"),void next();var charset=function(req){try{return(contentType.parse(req).parameters.charset||"").toLowerCase()}catch(e){return}}(req)||defaultCharset;read(req,res,next,parse,debug,{encoding:charset,inflate:inflate,limit:limit,verify:verify})}}},function(module,exports,__webpack_require__){"use strict";
/*!
 * body-parser
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var bytes=__webpack_require__(74),contentType=__webpack_require__(119),createError=__webpack_require__(91),debug=__webpack_require__(92)("body-parser:urlencoded"),deprecate=__webpack_require__(89)("body-parser"),read=__webpack_require__(93),typeis=__webpack_require__(62);module.exports=function(options){var opts=options||{};void 0===opts.extended&&deprecate("undefined extended: provide extended option");var extended=!1!==opts.extended,inflate=!1!==opts.inflate,limit="number"!=typeof opts.limit?bytes.parse(opts.limit||"100kb"):opts.limit,type=opts.type||"application/x-www-form-urlencoded",verify=opts.verify||!1;if(!1!==verify&&"function"!=typeof verify)throw new TypeError("option verify must be function");var queryparse=extended?function(options){var parameterLimit=void 0!==options.parameterLimit?options.parameterLimit:1e3,parse=parser("qs");if(isNaN(parameterLimit)||parameterLimit<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(parameterLimit)&&(parameterLimit|=0);return function(body){var paramCount=parameterCount(body,parameterLimit);if(void 0===paramCount)throw debug("too many parameters"),createError(413,"too many parameters",{type:"parameters.too.many"});var arrayLimit=Math.max(100,paramCount);return debug("parse extended urlencoding"),parse(body,{allowPrototypes:!0,arrayLimit:arrayLimit,depth:1/0,parameterLimit:parameterLimit})}}(opts):function(options){var parameterLimit=void 0!==options.parameterLimit?options.parameterLimit:1e3,parse=parser("querystring");if(isNaN(parameterLimit)||parameterLimit<1)throw new TypeError("option parameterLimit must be a positive number");isFinite(parameterLimit)&&(parameterLimit|=0);return function(body){if(void 0===parameterCount(body,parameterLimit))throw debug("too many parameters"),createError(413,"too many parameters",{type:"parameters.too.many"});return debug("parse urlencoding"),parse(body,void 0,void 0,{maxKeys:parameterLimit})}}(opts),shouldParse="function"!=typeof type?function(type){return function(req){return Boolean(typeis(req,type))}}(type):type;function parse(body){return body.length?queryparse(body):{}}return function(req,res,next){if(req._body)return debug("body already parsed"),void next();if(req.body=req.body||{},!typeis.hasBody(req))return debug("skip empty body"),void next();if(debug("content-type %j",req.headers["content-type"]),!shouldParse(req))return debug("skip parsing"),void next();var charset=function(req){try{return(contentType.parse(req).parameters.charset||"").toLowerCase()}catch(e){return}}(req)||"utf-8";if("utf-8"!==charset)return debug("invalid charset"),void next(createError(415,'unsupported charset "'+charset.toUpperCase()+'"',{charset:charset,type:"charset.unsupported"}));read(req,res,next,parse,debug,{debug:debug,encoding:charset,inflate:inflate,limit:limit,verify:verify})}};var parsers=Object.create(null);function parameterCount(body,limit){for(var count=0,index=0;-1!==(index=body.indexOf("&",index));)if(index++,++count===limit)return;return count}function parser(name){var mod=parsers[name];if(void 0!==mod)return mod.parse;switch(name){case"qs":mod=__webpack_require__(513);break;case"querystring":mod=__webpack_require__(516)}return parsers[name]=mod,mod.parse}},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(514),parse=__webpack_require__(515),formats=__webpack_require__(202);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(201),formats=__webpack_require__(202),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(prefix){return prefix+"[]"},comma:"comma",indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,formatter:formats.formatters[formats.default],indices:!1,serializeDate:function(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset){var obj=object;if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=obj.join(",")),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset))+"="+formatter(encoder(obj,defaults.encoder,charset))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(isArray(obj)?pushToArray(values,stringify(obj[key],"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)):pushToArray(values,stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)))}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.formatter,options.encodeValuesOnly,options.charset))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(201),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,(function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))}))},parseKeys=function(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf:obj={0:leaf}}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=function(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth?opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset),val=options.decoder(part.slice(pos+1),defaults.decoder,charset)),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),val&&options.comma&&val.indexOf(",")>-1&&(val=val.split(",")),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports){module.exports=require("querystring")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=null},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=null},function(module,exports,__webpack_require__){"use strict";const WebSocket=__webpack_require__(204);WebSocket.Server=__webpack_require__(521),WebSocket.Receiver=__webpack_require__(208),WebSocket.Sender=__webpack_require__(210),module.exports=WebSocket},function(module,exports,__webpack_require__){"use strict";class Event{constructor(type,target){this.target=target,this.type=type}}class MessageEvent extends Event{constructor(data,target){super("message",target),this.data=data}}class CloseEvent extends Event{constructor(code,reason,target){super("close",target),this.wasClean=target._closeFrameReceived&&target._closeFrameSent,this.reason=reason,this.code=code}}class OpenEvent extends Event{constructor(target){super("open",target)}}class ErrorEvent extends Event{constructor(error,target){super("error",target),this.message=error.message,this.error=error}}const EventTarget={addEventListener(method,listener){function onMessage(data){listener.call(this,new MessageEvent(data,this))}function onClose(code,message){listener.call(this,new CloseEvent(code,message,this))}function onError(error){listener.call(this,new ErrorEvent(error,this))}function onOpen(){listener.call(this,new OpenEvent(this))}"function"==typeof listener&&("message"===method?(onMessage._listener=listener,this.on(method,onMessage)):"close"===method?(onClose._listener=listener,this.on(method,onClose)):"error"===method?(onError._listener=listener,this.on(method,onError)):"open"===method?(onOpen._listener=listener,this.on(method,onOpen)):this.on(method,listener))},removeEventListener(method,listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]!==listener&&listeners[i]._listener!==listener||this.removeListener(method,listeners[i])}};module.exports=EventTarget},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(29),crypto=__webpack_require__(28),http=__webpack_require__(50),PerMessageDeflate=__webpack_require__(94),extension=__webpack_require__(207),WebSocket=__webpack_require__(204),{GUID:GUID}=__webpack_require__(59),keyRegex=/^[+/0-9A-Za-z]{22}==$/;function emitClose(server){server.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(socket,code,message,headers){socket.writable&&(message=message||http.STATUS_CODES[code],headers=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(message)},headers),socket.write(`HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\r\n`+Object.keys(headers).map(h=>`${h}: ${headers[h]}`).join("\r\n")+"\r\n\r\n"+message)),socket.removeListener("error",socketOnError),socket.destroy()}module.exports=class extends EventEmitter{constructor(options,callback){if(super(),null==(options=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},options)).port&&!options.server&&!options.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=options.port?(this._server=http.createServer((req,res)=>{const body=http.STATUS_CODES[426];res.writeHead(426,{"Content-Length":body.length,"Content-Type":"text/plain"}),res.end(body)}),this._server.listen(options.port,options.host,options.backlog,callback)):options.server&&(this._server=options.server),this._server&&(this._removeListeners=function(server,map){for(const event of Object.keys(map))server.on(event,map[event]);return function(){for(const event of Object.keys(map))server.removeListener(event,map[event])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(req,socket,head)=>{this.handleUpgrade(req,socket,head,ws=>{this.emit("connection",ws,req)})}})),!0===options.perMessageDeflate&&(options.perMessageDeflate={}),options.clientTracking&&(this.clients=new Set),this.options=options}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(cb){if(cb&&this.once("close",cb),this.clients)for(const client of this.clients)client.terminate();const server=this._server;server&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?server.close(()=>this.emit("close")):process.nextTick(emitClose,this)}shouldHandle(req){if(this.options.path){const index=req.url.indexOf("?");if((-1!==index?req.url.slice(0,index):req.url)!==this.options.path)return!1}return!0}handleUpgrade(req,socket,head,cb){socket.on("error",socketOnError);const key=void 0!==req.headers["sec-websocket-key"]&&req.headers["sec-websocket-key"].trim(),version=+req.headers["sec-websocket-version"],extensions={};if("GET"!==req.method||"websocket"!==req.headers.upgrade.toLowerCase()||!key||!keyRegex.test(key)||8!==version&&13!==version||!this.shouldHandle(req))return abortHandshake(socket,400);if(this.options.perMessageDeflate){const perMessageDeflate=new PerMessageDeflate(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const offers=extension.parse(req.headers["sec-websocket-extensions"]);offers[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]),extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return abortHandshake(socket,400)}}if(this.options.verifyClient){const info={origin:req.headers[""+(8===version?"sec-websocket-origin":"origin")],secure:!(!req.connection.authorized&&!req.connection.encrypted),req:req};if(2===this.options.verifyClient.length)return void this.options.verifyClient(info,(verified,code,message,headers)=>{if(!verified)return abortHandshake(socket,code||401,message,headers);this.completeUpgrade(key,extensions,req,socket,head,cb)});if(!this.options.verifyClient(info))return abortHandshake(socket,401)}this.completeUpgrade(key,extensions,req,socket,head,cb)}completeUpgrade(key,extensions,req,socket,head,cb){if(!socket.readable||!socket.writable)return socket.destroy();const headers=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+crypto.createHash("sha1").update(key+GUID).digest("base64")],ws=new WebSocket(null);var protocol=req.headers["sec-websocket-protocol"];if(protocol&&(protocol=protocol.trim().split(/ *, */),(protocol=this.options.handleProtocols?this.options.handleProtocols(protocol,req):protocol[0])&&(headers.push("Sec-WebSocket-Protocol: "+protocol),ws.protocol=protocol)),extensions[PerMessageDeflate.extensionName]){const params=extensions[PerMessageDeflate.extensionName].params,value=extension.format({[PerMessageDeflate.extensionName]:[params]});headers.push("Sec-WebSocket-Extensions: "+value),ws._extensions=extensions}this.emit("headers",headers,req),socket.write(headers.concat("\r\n").join("\r\n")),socket.removeListener("error",socketOnError),ws.setSocket(socket,head,this.options.maxPayload),this.clients&&(this.clients.add(ws),ws.on("close",()=>this.clients.delete(ws))),cb(ws)}}},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(523)),__export(__webpack_require__(530)),__export(__webpack_require__(95)),__export(__webpack_require__(123))},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var _global="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},NativeWebSocket=_global.WebSocket||_global.MozWebSocket,Backoff=__webpack_require__(524),eventemitter3_1=__webpack_require__(525),is_string_1=__webpack_require__(526),is_object_1=__webpack_require__(211),printer_1=__webpack_require__(8),getOperationAST_1=__webpack_require__(233),symbol_observable_1=__webpack_require__(527),protocol_1=__webpack_require__(123),defaults_1=__webpack_require__(529),message_types_1=__webpack_require__(95),SubscriptionClient=function(){function SubscriptionClient(url,options,webSocketImpl,webSocketProtocols){var _a=options||{},_b=_a.connectionCallback,connectionCallback=void 0===_b?void 0:_b,_c=_a.connectionParams,connectionParams=void 0===_c?{}:_c,_d=_a.timeout,timeout=void 0===_d?defaults_1.WS_TIMEOUT:_d,_e=_a.reconnect,reconnect=void 0!==_e&&_e,_f=_a.reconnectionAttempts,reconnectionAttempts=void 0===_f?1/0:_f,_g=_a.lazy,lazy=void 0!==_g&&_g,_h=_a.inactivityTimeout,inactivityTimeout=void 0===_h?0:_h;if(this.wsImpl=webSocketImpl||NativeWebSocket,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=webSocketProtocols||protocol_1.GRAPHQL_WS,this.connectionCallback=connectionCallback,this.url=url,this.operations={},this.nextOperationId=0,this.wsTimeout=timeout,this.unsentMessagesQueue=[],this.reconnect=reconnect,this.reconnecting=!1,this.reconnectionAttempts=reconnectionAttempts,this.lazy=!!lazy,this.inactivityTimeout=inactivityTimeout,this.closedByUser=!1,this.backoff=new Backoff({jitter:.5}),this.eventEmitter=new eventemitter3_1.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(connectionParams),this.lazy||this.connect()}return Object.defineProperty(SubscriptionClient.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),SubscriptionClient.prototype.close=function(isForced,closedByUser){void 0===isForced&&(isForced=!0),void 0===closedByUser&&(closedByUser=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=closedByUser,isForced&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,message_types_1.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),isForced||this.tryReconnect())},SubscriptionClient.prototype.request=function(request){var _a,opId,getObserver=this.getObserver.bind(this),executeOperation=this.executeOperation.bind(this),unsubscribe=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(_a={})[symbol_observable_1.default]=function(){return this},_a.subscribe=function(observerOrNext,onError,onComplete){var observer=getObserver(observerOrNext,onError,onComplete);return opId=executeOperation(request,(function(error,result){null===error&&null===result?observer.complete&&observer.complete():error?observer.error&&observer.error(error[0]):observer.next&&observer.next(result)})),{unsubscribe:function(){opId&&(unsubscribe(opId),opId=null)}}},_a},SubscriptionClient.prototype.on=function(eventName,callback,context){var handler=this.eventEmitter.on(eventName,callback,context);return function(){handler.off(eventName,callback,context)}},SubscriptionClient.prototype.onConnected=function(callback,context){return this.on("connected",callback,context)},SubscriptionClient.prototype.onConnecting=function(callback,context){return this.on("connecting",callback,context)},SubscriptionClient.prototype.onDisconnected=function(callback,context){return this.on("disconnected",callback,context)},SubscriptionClient.prototype.onReconnected=function(callback,context){return this.on("reconnected",callback,context)},SubscriptionClient.prototype.onReconnecting=function(callback,context){return this.on("reconnecting",callback,context)},SubscriptionClient.prototype.onError=function(callback,context){return this.on("error",callback,context)},SubscriptionClient.prototype.unsubscribeAll=function(){var _this=this;Object.keys(this.operations).forEach((function(subId){_this.unsubscribe(subId)}))},SubscriptionClient.prototype.applyMiddlewares=function(options){var _this=this;return new Promise((function(resolve,reject){var funcs,scope,next;funcs=_this.middlewares.slice(),scope=_this,(next=function(error){if(error)reject(error);else if(funcs.length>0){var f=funcs.shift();f&&f.applyMiddleware.apply(scope,[options,next])}else resolve(options)})()}))},SubscriptionClient.prototype.use=function(middlewares){var _this=this;return middlewares.map((function(middleware){if("function"!=typeof middleware.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");_this.middlewares.push(middleware)})),this},SubscriptionClient.prototype.getConnectionParams=function(connectionParams){return function(){return new Promise((function(resolve,reject){if("function"==typeof connectionParams)try{return resolve(connectionParams.call(null))}catch(error){return reject(error)}resolve(connectionParams)}))}},SubscriptionClient.prototype.executeOperation=function(options,handler){var _this=this;null===this.client&&this.connect();var opId=this.generateOperationId();return this.operations[opId]={options:options,handler:handler},this.applyMiddlewares(options).then((function(processedOptions){_this.checkOperationOptions(processedOptions,handler),_this.operations[opId]&&(_this.operations[opId]={options:processedOptions,handler:handler},_this.sendMessage(opId,message_types_1.default.GQL_START,processedOptions))})).catch((function(error){_this.unsubscribe(opId),handler(_this.formatErrors(error))})),opId},SubscriptionClient.prototype.getObserver=function(observerOrNext,error,complete){return"function"==typeof observerOrNext?{next:function(v){return observerOrNext(v)},error:function(e){return error&&error(e)},complete:function(){return complete&&complete()}}:observerOrNext},SubscriptionClient.prototype.createMaxConnectTimeGenerator=function(){var maxValue=this.wsTimeout;return new Backoff({min:1e3,max:maxValue,factor:1.2})},SubscriptionClient.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},SubscriptionClient.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},SubscriptionClient.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},SubscriptionClient.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},SubscriptionClient.prototype.setInactivityTimeout=function(){var _this=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout((function(){0===Object.keys(_this.operations).length&&_this.close()}),this.inactivityTimeout))},SubscriptionClient.prototype.checkOperationOptions=function(options,handler){var query=options.query,variables=options.variables,operationName=options.operationName;if(!query)throw new Error("Must provide a query.");if(!handler)throw new Error("Must provide an handler.");if(!is_string_1.default(query)&&!getOperationAST_1.getOperationAST(query,operationName)||operationName&&!is_string_1.default(operationName)||variables&&!is_object_1.default(variables))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},SubscriptionClient.prototype.buildMessage=function(id,type,payload){return{id:id,type:type,payload:payload&&payload.query?__assign({},payload,{query:"string"==typeof payload.query?payload.query:printer_1.print(payload.query)}):payload}},SubscriptionClient.prototype.formatErrors=function(errors){return Array.isArray(errors)?errors:errors&&errors.errors?this.formatErrors(errors.errors):errors&&errors.message?[errors]:[{name:"FormatedError",message:"Unknown error",originalError:errors}]},SubscriptionClient.prototype.sendMessage=function(id,type,payload){this.sendMessageRaw(this.buildMessage(id,type,payload))},SubscriptionClient.prototype.sendMessageRaw=function(message){switch(this.status){case this.wsImpl.OPEN:var serializedMessage=JSON.stringify(message);try{JSON.parse(serializedMessage)}catch(e){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+message))}this.client.send(serializedMessage);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(message);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(message)))}},SubscriptionClient.prototype.generateOperationId=function(){return String(++this.nextOperationId)},SubscriptionClient.prototype.tryReconnect=function(){var _this=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach((function(key){_this.unsentMessagesQueue.push(_this.buildMessage(key,message_types_1.default.GQL_START,_this.operations[key].options))})),this.reconnecting=!0),this.clearTryReconnectTimeout();var delay=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout((function(){_this.connect()}),delay)}},SubscriptionClient.prototype.flushUnsentMessagesQueue=function(){var _this=this;this.unsentMessagesQueue.forEach((function(message){_this.sendMessageRaw(message)})),this.unsentMessagesQueue=[]},SubscriptionClient.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},SubscriptionClient.prototype.checkMaxConnectTimeout=function(){var _this=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout((function(){_this.status!==_this.wsImpl.OPEN&&(_this.reconnecting=!0,_this.close(!1,!0))}),this.maxConnectTimeGenerator.duration())},SubscriptionClient.prototype.connect=function(){var _this=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return __awaiter(_this,void 0,void 0,(function(){var connectionParams,error_1;return __generator(this,(function(_a){switch(_a.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return connectionParams=_a.sent(),this.sendMessage(void 0,message_types_1.default.GQL_CONNECTION_INIT,connectionParams),this.flushUnsentMessagesQueue(),[3,4];case 3:return error_1=_a.sent(),this.sendMessage(void 0,message_types_1.default.GQL_CONNECTION_ERROR,error_1),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}}))}))},this.client.onclose=function(){_this.closedByUser||_this.close(!1,!1)},this.client.onerror=function(err){_this.eventEmitter.emit("error",err)},this.client.onmessage=function(_a){var data=_a.data;_this.processReceivedData(data)}},SubscriptionClient.prototype.processReceivedData=function(receivedData){var parsedMessage,opId;try{opId=(parsedMessage=JSON.parse(receivedData)).id}catch(e){throw new Error("Message must be JSON-parseable. Got: "+receivedData)}if(-1===[message_types_1.default.GQL_DATA,message_types_1.default.GQL_COMPLETE,message_types_1.default.GQL_ERROR].indexOf(parsedMessage.type)||this.operations[opId])switch(parsedMessage.type){case message_types_1.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(parsedMessage.payload);break;case message_types_1.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case message_types_1.default.GQL_COMPLETE:this.operations[opId].handler(null,null),delete this.operations[opId];break;case message_types_1.default.GQL_ERROR:this.operations[opId].handler(this.formatErrors(parsedMessage.payload),null),delete this.operations[opId];break;case message_types_1.default.GQL_DATA:var parsedPayload=parsedMessage.payload.errors?__assign({},parsedMessage.payload,{errors:this.formatErrors(parsedMessage.payload.errors)}):parsedMessage.payload;this.operations[opId].handler(null,parsedPayload);break;case message_types_1.default.GQL_CONNECTION_KEEP_ALIVE:var firstKA=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,firstKA&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(opId)},SubscriptionClient.prototype.unsubscribe=function(opId){this.operations[opId]&&(delete this.operations[opId],this.setInactivityTimeout(),this.sendMessage(opId,message_types_1.default.GQL_STOP,void 0))},SubscriptionClient}();exports.SubscriptionClient=SubscriptionClient},function(module,exports){function Backoff(opts){opts=opts||{},this.ms=opts.min||100,this.max=opts.max||1e4,this.factor=opts.factor||2,this.jitter=opts.jitter>0&&opts.jitter<=1?opts.jitter:0,this.attempts=0}module.exports=Backoff,Backoff.prototype.duration=function(){var ms=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var rand=Math.random(),deviation=Math.floor(rand*this.jitter*ms);ms=0==(1&Math.floor(10*rand))?ms-deviation:ms+deviation}return 0|Math.min(ms,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(min){this.ms=min},Backoff.prototype.setMax=function(max){this.max=max},Backoff.prototype.setJitter=function(jitter){this.jitter=jitter}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return"string"==typeof value}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var root,_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(220);root="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:module;var result=Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__.a)(root);__webpack_exports__.default=result}.call(this,__webpack_require__(528)(module))},function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WS_TIMEOUT=3e4},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var WebSocket=__webpack_require__(531),message_types_1=__webpack_require__(95),protocol_1=__webpack_require__(123),is_object_1=__webpack_require__(211),graphql_1=__webpack_require__(20),empty_iterable_1=__webpack_require__(534),iterall_1=__webpack_require__(13),is_subscriptions_1=__webpack_require__(535),parse_legacy_protocol_1=__webpack_require__(536),SubscriptionServer=function(){function SubscriptionServer(options,socketOptionsOrServer){var _this=this,onOperation=options.onOperation,onOperationComplete=options.onOperationComplete,onConnect=options.onConnect,onDisconnect=options.onDisconnect,keepAlive=options.keepAlive;this.specifiedRules=options.validationRules||graphql_1.specifiedRules,this.loadExecutor(options),this.onOperation=onOperation,this.onOperationComplete=onOperationComplete,this.onConnect=onConnect,this.onDisconnect=onDisconnect,this.keepAlive=keepAlive,socketOptionsOrServer.on?this.wsServer=socketOptionsOrServer:this.wsServer=new WebSocket.Server(socketOptionsOrServer||{});var connectionHandler=function(socket,request){if(socket.upgradeReq=request,void 0===socket.protocol||-1===socket.protocol.indexOf(protocol_1.GRAPHQL_WS)&&-1===socket.protocol.indexOf(protocol_1.GRAPHQL_SUBSCRIPTIONS))socket.close(1002);else{var connectionContext=Object.create(null);connectionContext.initPromise=Promise.resolve(!0),connectionContext.isLegacy=!1,connectionContext.socket=socket,connectionContext.request=request,connectionContext.operations={};var connectionClosedHandler=function(error){error&&(_this.sendError(connectionContext,"",{message:error.message?error.message:error},message_types_1.default.GQL_CONNECTION_ERROR),setTimeout((function(){connectionContext.socket.close(1011)}),10)),_this.onClose(connectionContext),_this.onDisconnect&&_this.onDisconnect(socket,connectionContext)};socket.on("error",connectionClosedHandler),socket.on("close",connectionClosedHandler),socket.on("message",_this.onMessage(connectionContext))}};this.wsServer.on("connection",connectionHandler),this.closeHandler=function(){_this.wsServer.removeListener("connection",connectionHandler),_this.wsServer.close()}}return SubscriptionServer.create=function(options,socketOptionsOrServer){return new SubscriptionServer(options,socketOptionsOrServer)},Object.defineProperty(SubscriptionServer.prototype,"server",{get:function(){return this.wsServer},enumerable:!0,configurable:!0}),SubscriptionServer.prototype.close=function(){this.closeHandler()},SubscriptionServer.prototype.loadExecutor=function(options){var execute=options.execute,subscribe=options.subscribe,schema=options.schema,rootValue=options.rootValue;if(!execute)throw new Error("Must provide `execute` for websocket server constructor.");this.schema=schema,this.rootValue=rootValue,this.execute=execute,this.subscribe=subscribe},SubscriptionServer.prototype.unsubscribe=function(connectionContext,opId){connectionContext.operations&&connectionContext.operations[opId]&&(connectionContext.operations[opId].return&&connectionContext.operations[opId].return(),delete connectionContext.operations[opId],this.onOperationComplete&&this.onOperationComplete(connectionContext.socket,opId))},SubscriptionServer.prototype.onClose=function(connectionContext){var _this=this;Object.keys(connectionContext.operations).forEach((function(opId){_this.unsubscribe(connectionContext,opId)}))},SubscriptionServer.prototype.onMessage=function(connectionContext){var _this=this;return function(message){var parsedMessage;try{parsedMessage=parse_legacy_protocol_1.parseLegacyProtocolMessage(connectionContext,JSON.parse(message))}catch(e){return void _this.sendError(connectionContext,null,{message:e.message},message_types_1.default.GQL_CONNECTION_ERROR)}var opId=parsedMessage.id;switch(parsedMessage.type){case message_types_1.default.GQL_CONNECTION_INIT:_this.onConnect&&(connectionContext.initPromise=new Promise((function(resolve,reject){try{resolve(_this.onConnect(parsedMessage.payload,connectionContext.socket,connectionContext))}catch(e){reject(e)}}))),connectionContext.initPromise.then((function(result){if(!1===result)throw new Error("Prohibited connection!");if(_this.sendMessage(connectionContext,void 0,message_types_1.default.GQL_CONNECTION_ACK,void 0),_this.keepAlive){_this.sendKeepAlive(connectionContext);var keepAliveTimer_1=setInterval((function(){connectionContext.socket.readyState===WebSocket.OPEN?_this.sendKeepAlive(connectionContext):clearInterval(keepAliveTimer_1)}),_this.keepAlive)}})).catch((function(error){_this.sendError(connectionContext,opId,{message:error.message},message_types_1.default.GQL_CONNECTION_ERROR),setTimeout((function(){connectionContext.socket.close(1011)}),10)}));break;case message_types_1.default.GQL_CONNECTION_TERMINATE:connectionContext.socket.close();break;case message_types_1.default.GQL_START:connectionContext.initPromise.then((function(initResult){connectionContext.operations&&connectionContext.operations[opId]&&_this.unsubscribe(connectionContext,opId);var baseParams={query:parsedMessage.payload.query,variables:parsedMessage.payload.variables,operationName:parsedMessage.payload.operationName,context:is_object_1.default(initResult)?Object.assign(Object.create(Object.getPrototypeOf(initResult)),initResult):{},formatResponse:void 0,formatError:void 0,callback:void 0,schema:_this.schema},promisedParams=Promise.resolve(baseParams);if(connectionContext.operations[opId]=empty_iterable_1.createEmptyIterable(),_this.onOperation){var messageForCallback=parsedMessage;promisedParams=Promise.resolve(_this.onOperation(messageForCallback,baseParams,connectionContext.socket))}return promisedParams.then((function(params){if("object"!=typeof params){var error="Invalid params returned from onOperation! return values must be an object!";throw _this.sendError(connectionContext,opId,{message:error}),new Error(error)}if(!params.schema){error="Missing schema information. The GraphQL schema should be provided either statically in the `SubscriptionServer` constructor or as a property on the object returned from onOperation!";throw _this.sendError(connectionContext,opId,{message:error}),new Error(error)}var executionPromise,document="string"!=typeof baseParams.query?baseParams.query:graphql_1.parse(baseParams.query),validationErrors=graphql_1.validate(params.schema,document,_this.specifiedRules);if(validationErrors.length>0)executionPromise=Promise.resolve({errors:validationErrors});else{var executor=_this.execute;_this.subscribe&&is_subscriptions_1.isASubscriptionOperation(document,params.operationName)&&(executor=_this.subscribe),executionPromise=Promise.resolve(executor(params.schema,document,_this.rootValue,params.context,params.variables,params.operationName))}return executionPromise.then((function(executionResult){return{executionIterable:iterall_1.isAsyncIterable(executionResult)?executionResult:iterall_1.createAsyncIterator([executionResult]),params:params}}))})).then((function(_a){var executionIterable=_a.executionIterable,params=_a.params;return iterall_1.forAwaitEach(executionIterable,(function(value){var result=value;if(params.formatResponse)try{result=params.formatResponse(value,params)}catch(err){console.error("Error in formatError function:",err)}_this.sendMessage(connectionContext,opId,message_types_1.default.GQL_DATA,result)})).then((function(){_this.sendMessage(connectionContext,opId,message_types_1.default.GQL_COMPLETE,null)})).catch((function(e){var error=e;if(params.formatError)try{error=params.formatError(e,params)}catch(err){console.error("Error in formatError function: ",err)}0===Object.keys(e).length&&(error={name:e.name,message:e.message}),_this.sendError(connectionContext,opId,error)})),executionIterable})).then((function(subscription){connectionContext.operations[opId]=subscription})).then((function(){_this.sendMessage(connectionContext,opId,message_types_1.default.SUBSCRIPTION_SUCCESS,void 0)})).catch((function(e){e.errors?_this.sendMessage(connectionContext,opId,message_types_1.default.GQL_DATA,{errors:e.errors}):_this.sendError(connectionContext,opId,{message:e.message}),_this.unsubscribe(connectionContext,opId)})),promisedParams})).catch((function(error){_this.sendError(connectionContext,opId,{message:error.message}),_this.unsubscribe(connectionContext,opId)}));break;case message_types_1.default.GQL_STOP:_this.unsubscribe(connectionContext,opId);break;default:_this.sendError(connectionContext,opId,{message:"Invalid message type!"})}}},SubscriptionServer.prototype.sendKeepAlive=function(connectionContext){connectionContext.isLegacy?this.sendMessage(connectionContext,void 0,message_types_1.default.KEEP_ALIVE,void 0):this.sendMessage(connectionContext,void 0,message_types_1.default.GQL_CONNECTION_KEEP_ALIVE,void 0)},SubscriptionServer.prototype.sendMessage=function(connectionContext,opId,type,payload){var parsedMessage=parse_legacy_protocol_1.parseLegacyProtocolMessage(connectionContext,{type:type,id:opId,payload:payload});parsedMessage&&connectionContext.socket.readyState===WebSocket.OPEN&&connectionContext.socket.send(JSON.stringify(parsedMessage))},SubscriptionServer.prototype.sendError=function(connectionContext,opId,errorPayload,overrideDefaultErrorType){var sanitizedOverrideDefaultErrorType=overrideDefaultErrorType||message_types_1.default.GQL_ERROR;if(-1===[message_types_1.default.GQL_CONNECTION_ERROR,message_types_1.default.GQL_ERROR].indexOf(sanitizedOverrideDefaultErrorType))throw new Error("overrideDefaultErrorType should be one of the allowed error messages GQL_CONNECTION_ERROR or GQL_ERROR");this.sendMessage(connectionContext,opId,sanitizedOverrideDefaultErrorType,errorPayload)},SubscriptionServer}();exports.SubscriptionServer=SubscriptionServer},function(module,exports,__webpack_require__){"use strict";const WebSocket=__webpack_require__(212);WebSocket.Server=__webpack_require__(533),WebSocket.Receiver=__webpack_require__(214),WebSocket.Sender=__webpack_require__(216),module.exports=WebSocket},function(module,exports,__webpack_require__){"use strict";class Event{constructor(type,target){this.target=target,this.type=type}}class MessageEvent extends Event{constructor(data,target){super("message",target),this.data=data}}class CloseEvent extends Event{constructor(code,reason,target){super("close",target),this.wasClean=target._closeFrameReceived&&target._closeFrameSent,this.reason=reason,this.code=code}}class OpenEvent extends Event{constructor(target){super("open",target)}}class ErrorEvent extends Event{constructor(error,target){super("error",target),this.message=error.message,this.error=error}}const EventTarget={addEventListener(method,listener){function onMessage(data){listener.call(this,new MessageEvent(data,this))}function onClose(code,message){listener.call(this,new CloseEvent(code,message,this))}function onError(error){listener.call(this,new ErrorEvent(error,this))}function onOpen(){listener.call(this,new OpenEvent(this))}"function"==typeof listener&&("message"===method?(onMessage._listener=listener,this.on(method,onMessage)):"close"===method?(onClose._listener=listener,this.on(method,onClose)):"error"===method?(onError._listener=listener,this.on(method,onError)):"open"===method?(onOpen._listener=listener,this.on(method,onOpen)):this.on(method,listener))},removeEventListener(method,listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]!==listener&&listeners[i]._listener!==listener||this.removeListener(method,listeners[i])}};module.exports=EventTarget},function(module,exports,__webpack_require__){"use strict";const EventEmitter=__webpack_require__(29),crypto=__webpack_require__(28),http=__webpack_require__(50),url=__webpack_require__(51),PerMessageDeflate=__webpack_require__(96),extension=__webpack_require__(213),constants=__webpack_require__(75),WebSocket=__webpack_require__(212);function socketOnError(){this.destroy()}function abortHandshake(socket,code,message,headers){socket.writable&&(message=message||http.STATUS_CODES[code],headers=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(message)},headers),socket.write(`HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\r\n`+Object.keys(headers).map(h=>`${h}: ${headers[h]}`).join("\r\n")+"\r\n\r\n"+message)),socket.removeListener("error",socketOnError),socket.destroy()}module.exports=class extends EventEmitter{constructor(options,callback){if(super(),null==(options=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},options)).port&&!options.server&&!options.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=options.port?(this._server=http.createServer((req,res)=>{const body=http.STATUS_CODES[426];res.writeHead(426,{"Content-Length":body.length,"Content-Type":"text/plain"}),res.end(body)}),this._server.listen(options.port,options.host,options.backlog,callback)):options.server&&(this._server=options.server),this._server&&(this._removeListeners=function(server,map){for(const event of Object.keys(map))server.on(event,map[event]);return function(){for(const event of Object.keys(map))server.removeListener(event,map[event])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(req,socket,head)=>{this.handleUpgrade(req,socket,head,ws=>{this.emit("connection",ws,req)})}})),!0===options.perMessageDeflate&&(options.perMessageDeflate={}),options.clientTracking&&(this.clients=new Set),this.options=options}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(cb){if(this.clients)for(const client of this.clients)client.terminate();const server=this._server;if(server&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port))return server.close(cb);cb&&cb()}shouldHandle(req){return!this.options.path||url.parse(req.url).pathname===this.options.path}handleUpgrade(req,socket,head,cb){socket.on("error",socketOnError);const version=+req.headers["sec-websocket-version"],extensions={};if("GET"!==req.method||"websocket"!==req.headers.upgrade.toLowerCase()||!req.headers["sec-websocket-key"]||8!==version&&13!==version||!this.shouldHandle(req))return abortHandshake(socket,400);if(this.options.perMessageDeflate){const perMessageDeflate=new PerMessageDeflate(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const offers=extension.parse(req.headers["sec-websocket-extensions"]);offers[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]),extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return abortHandshake(socket,400)}}if(this.options.verifyClient){const info={origin:req.headers[""+(8===version?"sec-websocket-origin":"origin")],secure:!(!req.connection.authorized&&!req.connection.encrypted),req:req};if(2===this.options.verifyClient.length)return void this.options.verifyClient(info,(verified,code,message,headers)=>{if(!verified)return abortHandshake(socket,code||401,message,headers);this.completeUpgrade(extensions,req,socket,head,cb)});if(!this.options.verifyClient(info))return abortHandshake(socket,401)}this.completeUpgrade(extensions,req,socket,head,cb)}completeUpgrade(extensions,req,socket,head,cb){if(!socket.readable||!socket.writable)return socket.destroy();const headers=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+crypto.createHash("sha1").update(req.headers["sec-websocket-key"]+constants.GUID,"binary").digest("base64")],ws=new WebSocket(null);var protocol=req.headers["sec-websocket-protocol"];if(protocol&&(protocol=protocol.trim().split(/ *, */),(protocol=this.options.handleProtocols?this.options.handleProtocols(protocol,req):protocol[0])&&(headers.push("Sec-WebSocket-Protocol: "+protocol),ws.protocol=protocol)),extensions[PerMessageDeflate.extensionName]){const params=extensions[PerMessageDeflate.extensionName].params,value=extension.format({[PerMessageDeflate.extensionName]:[params]});headers.push("Sec-WebSocket-Extensions: "+value),ws._extensions=extensions}this.emit("headers",headers,req),socket.write(headers.concat("\r\n").join("\r\n")),socket.removeListener("error",socketOnError),ws.setSocket(socket,head,this.options.maxPayload),this.clients&&(this.clients.add(ws),ws.on("close",()=>this.clients.delete(ws))),cb(ws)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var iterall_1=__webpack_require__(13);exports.createEmptyIterable=function(){var _a;return(_a={next:function(){return Promise.resolve({value:void 0,done:!0})},return:function(){return Promise.resolve({value:void 0,done:!0})},throw:function(e){return Promise.reject(e)}})[iterall_1.$$asyncIterator]=function(){return this},_a}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var graphql_1=__webpack_require__(20);exports.isASubscriptionOperation=function(document,operationName){var operationAST=graphql_1.getOperationAST(document,operationName);return!!operationAST&&"subscription"===operationAST.operation}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};Object.defineProperty(exports,"__esModule",{value:!0});var message_types_1=__webpack_require__(95);exports.parseLegacyProtocolMessage=function(connectionContext,message){var messageToReturn=message;switch(message.type){case message_types_1.default.INIT:connectionContext.isLegacy=!0,messageToReturn=__assign({},message,{type:message_types_1.default.GQL_CONNECTION_INIT});break;case message_types_1.default.SUBSCRIPTION_START:messageToReturn={id:message.id,type:message_types_1.default.GQL_START,payload:{query:message.query,operationName:message.operationName,variables:message.variables}};break;case message_types_1.default.SUBSCRIPTION_END:messageToReturn=__assign({},message,{type:message_types_1.default.GQL_STOP});break;case message_types_1.default.GQL_CONNECTION_ACK:connectionContext.isLegacy&&(messageToReturn=__assign({},message,{type:message_types_1.default.INIT_SUCCESS}));break;case message_types_1.default.GQL_CONNECTION_ERROR:connectionContext.isLegacy&&(messageToReturn=__assign({},message,{type:message_types_1.default.INIT_FAIL,payload:message.payload.message?{error:message.payload.message}:message.payload}));break;case message_types_1.default.GQL_ERROR:connectionContext.isLegacy&&(messageToReturn=__assign({},message,{type:message_types_1.default.SUBSCRIPTION_FAIL}));break;case message_types_1.default.GQL_DATA:connectionContext.isLegacy&&(messageToReturn=__assign({},message,{type:message_types_1.default.SUBSCRIPTION_DATA}));break;case message_types_1.default.GQL_COMPLETE:connectionContext.isLegacy&&(messageToReturn=null);break;case message_types_1.default.SUBSCRIPTION_SUCCESS:connectionContext.isLegacy||(messageToReturn=null)}return messageToReturn}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const graphql_1=__webpack_require__(20),mapAsyncIterator_1=__webpack_require__(538),iterall_1=__webpack_require__(13);function liveSubscribeImpl(schema,document,rootValue,contextValue,variableValues,operationName,fieldResolver,subscribeFieldResolver){const sourcePromise=graphql_1.createSourceEventStream(schema,document,rootValue,contextValue,variableValues,operationName,subscribeFieldResolver),mapSourceToResponse=async payload=>{try{return await graphql_1.execute(schema,document,payload,contextValue,variableValues,operationName,fieldResolver)}finally{payload&&"function"==typeof payload.release&&payload.release()}};return sourcePromise.then(resultOrStream=>iterall_1.isAsyncIterable(resultOrStream)?mapAsyncIterator_1.default(resultOrStream,mapSourceToResponse,reportGraphQLError):resultOrStream,reportGraphQLError)}function reportGraphQLError(error){if(error instanceof graphql_1.GraphQLError)return{errors:[error]};throw error}exports.default=function(argsOrSchema,document,rootValue,contextValue,variableValues,operationName,fieldResolver,subscribeFieldResolver){return 1===arguments.length?liveSubscribeImpl(argsOrSchema.schema,argsOrSchema.document,argsOrSchema.rootValue,argsOrSchema.contextValue,argsOrSchema.variableValues,argsOrSchema.operationName,argsOrSchema.fieldResolver,argsOrSchema.subscribeFieldResolver):liveSubscribeImpl(argsOrSchema,document,rootValue,contextValue,variableValues,operationName,fieldResolver,subscribeFieldResolver)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const iterall_1=__webpack_require__(13);function asyncMapValue(value,callback){return new Promise(resolve=>resolve(callback(value)))}function iteratorResult(value){return{value:value,done:!1}}exports.default=function(iterable,callback,rejectCallback){const iterator=iterall_1.getAsyncIterator(iterable);let $return,abruptClose,mapReject;function mapResult(result){return result.done?result:asyncMapValue(result.value,callback).then(iteratorResult,abruptClose)}if("function"==typeof iterator.return&&($return=iterator.return,abruptClose=error=>{const rethrow=()=>Promise.reject(error);return $return.call(iterator).then(rethrow,rethrow)}),rejectCallback){const reject=rejectCallback;mapReject=error=>asyncMapValue(error,reject).then(iteratorResult,abruptClose)}return{next:()=>iterator.next().then(mapResult,mapReject),return:()=>$return?$return.call(iterator).then(mapResult,mapReject):Promise.resolve({value:void 0,done:!0}),throw:error=>"function"==typeof iterator.throw?iterator.throw(error).then(mapResult,mapReject):Promise.reject(error).catch(abruptClose),[iterall_1.$$asyncIterator](){return this}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const fs_1=__webpack_require__(43),graphql_1=__webpack_require__(20),util_1=__webpack_require__(17),readFile=util_1.promisify(fs_1.readFile),writeFile=util_1.promisify(fs_1.writeFile);async function writeFileIfDiffers(path,contents){let oldContents=null;try{oldContents=await readFile(path,"utf8")}catch(e){}oldContents!==contents&&await writeFile(path,contents)}exports.default=async function(schema,options={}){const jsonPath="string"==typeof options.exportJsonSchemaPath?options.exportJsonSchemaPath:null,graphqlPath="string"==typeof options.exportGqlSchemaPath?options.exportGqlSchemaPath:null,finalSchema=options.sortExport&&graphql_1.lexicographicSortSchema&&(jsonPath||graphqlPath)?graphql_1.lexicographicSortSchema(schema):schema;if(jsonPath){const result=await graphql_1.graphql(finalSchema,graphql_1.introspectionQuery);await writeFileIfDiffers(jsonPath,JSON.stringify(result,null,2))}graphqlPath&&await writeFileIfDiffers(graphqlPath,graphql_1.printSchema(finalSchema))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__(64).__exportStar(__webpack_require__(126),exports);var postgraphile_core_1=__webpack_require__(44);exports.SchemaBuilder=postgraphile_core_1.SchemaBuilder,exports.postGraphileBaseOverrides=postgraphile_core_1.postGraphileBaseOverrides,exports.postGraphileClassicIdsOverrides=postgraphile_core_1.postGraphileClassicIdsOverrides,exports.PostGraphileInflectionPlugin=postgraphile_core_1.PostGraphileInflectionPlugin,exports.PostGraphileClassicIdsInflectionPlugin=postgraphile_core_1.PostGraphileClassicIdsInflectionPlugin;var postgraphile_1=__webpack_require__(217);exports.postgraphile=postgraphile_1.postgraphile,exports.createPostGraphileSchema=postgraphile_1.createPostGraphileSchema,exports.watchPostGraphileSchema=postgraphile_1.watchPostGraphileSchema,exports.withPostGraphileContext=postgraphile_1.withPostGraphileContext,exports.enhanceHttpServerWithSubscriptions=postgraphile_1.enhanceHttpServerWithSubscriptions,exports.postgraphql=postgraphile_1.postgraphile,exports.createPostGraphQLSchema=postgraphile_1.createPostGraphileSchema,exports.watchPostGraphQLSchema=postgraphile_1.watchPostGraphileSchema,exports.withPostGraphQLContext=postgraphile_1.withPostGraphileContext;var pluginHook_1=__webpack_require__(97);exports.makePluginHook=pluginHook_1.makePluginHook;const postgraphile_2=__webpack_require__(217);exports.default=postgraphile_2.postgraphile},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pg_1=__webpack_require__(57),events_1=__webpack_require__(29),postgraphile_core_1=__webpack_require__(44),createPostGraphileHttpRequestHandler_1=__webpack_require__(542),exportPostGraphileSchema_1=__webpack_require__(549),pluginHook_1=__webpack_require__(97),chalk_1=__webpack_require__(39),withPostGraphileContext_1=__webpack_require__(125),sleep=ms=>new Promise(resolve=>setTimeout(resolve,ms));function getPostgraphileSchemaBuilder(pgPool,schema,incomingOptions){incomingOptions.live&&null==incomingOptions.subscriptions&&(incomingOptions.subscriptions=!0);const options=pluginHook_1.pluginHookFromOptions(incomingOptions)("postgraphile:options",incomingOptions,{pgPool:pgPool,schema:schema});if(options.jwtSecret&&!options.jwtPgTypeIdentifier&&console.warn("WARNING: jwtSecret provided, however jwtPgTypeIdentifier (token identifier) not provided."),options.handleErrors&&(options.extendedErrors||options.showErrorStack))throw new Error("You cannot combine 'handleErrors' with the other error options");const pgSchemas=Array.isArray(schema)?schema:[schema],_emitter=options._emitter||new events_1.EventEmitter;let gqlSchema;const gqlSchemaPromise=async function(){let attempts=0;for(;;)try{if(options.watchPg){if(await postgraphile_core_1.watchPostGraphileSchema(pgPool,pgSchemas,options,newSchema=>{gqlSchema=newSchema,_emitter.emit("schemas:changed"),exportGqlSchema(gqlSchema)}),!gqlSchema)throw new Error("Consistency error: watchPostGraphileSchema promises to call the callback before the promise resolves; but this hasn't happened")}else gqlSchema=await postgraphile_core_1.createPostGraphileSchema(pgPool,pgSchemas,options),exportGqlSchema(gqlSchema);return attempts>0&&console.error(`Schema ${attempts>15?"eventually":attempts>5?"finally":"now"} generated successfully`),gqlSchema}catch(error){attempts++;const delay=Math.min(100*Math.pow(attempts,2),3e4),exitOnFail=!options.retryOnInitFail;logSeriousError(error,"building the initial schema"+(attempts>1?` (attempt ${attempts})`:""),exitOnFail?"Exiting because `retryOnInitFail` is not set.":`We'll try again in ${delay}ms.`),exitOnFail&&process.exit(34),await sleep(delay)}}();return{_emitter:_emitter,getGraphQLSchema:()=>gqlSchema?Promise.resolve(gqlSchema):gqlSchemaPromise,options:options};async function exportGqlSchema(newGqlSchema){try{await exportPostGraphileSchema_1.default(newGqlSchema,options)}catch(error){process.exitCode=35,logSeriousError(error,"exporting the schema")}}}function logSeriousError(error,when,nextSteps){console.error(`A ${chalk_1.default.bold("serious error")} occurred when ${chalk_1.default.bold(when)}. ${nextSteps?nextSteps+" ":""}Error details:\n\n${error.stack}\n`)}function constructorName(obj){return obj&&"function"==typeof obj.constructor&&obj.constructor.name&&String(obj.constructor.name)||null}function toPgPool(poolOrConfig){if((pgConfig=poolOrConfig)instanceof pg_1.Pool||((obj=pgConfig)&&"function"==typeof obj.constructor&&obj.constructor===pg_1.Pool.super_||pgConfig&&"object"==typeof pgConfig&&("Pool"===constructorName(pgConfig)||"BoundPool"===constructorName(pgConfig))&&pgConfig.Client&&pgConfig.options&&"function"==typeof pgConfig.connect&&"function"==typeof pgConfig.end&&"function"==typeof pgConfig.query))return poolOrConfig;var obj,pgConfig;if("string"==typeof poolOrConfig)return new pg_1.Pool({connectionString:poolOrConfig});if(poolOrConfig){if(function(obj){if(!obj||"object"!=typeof obj||"[object Object]"!==String(obj))return!1;const proto=Object.getPrototypeOf(obj);return null===proto||proto===Object.prototype}(poolOrConfig))return new pg_1.Pool(poolOrConfig);throw new Error("Invalid connection string / Pool ")}return new pg_1.Pool({})}exports.getPostgraphileSchemaBuilder=getPostgraphileSchemaBuilder,exports.default=function(poolOrConfig,schemaOrOptions,maybeOptions){let schema,incomingOptions;if("string"==typeof schemaOrOptions||Array.isArray(schemaOrOptions))schema=schemaOrOptions,incomingOptions=maybeOptions||{};else if("object"==typeof schemaOrOptions)schema="public",incomingOptions=schemaOrOptions||maybeOptions||{};else{if(arguments.length>1)throw new Error("The second argument to postgraphile was invalid... did you mean to set a schema?");schema="public",incomingOptions={}}if(void 0===poolOrConfig&&arguments.length>=1)throw new Error("The first argument to postgraphile was `undefined`... did you mean to set pool options?");const pgPool=toPgPool(poolOrConfig);pgPool.on("error",err=>{console.error("PostgreSQL client generated error: ",err.message)}),pgPool.on("connect",pgClient=>{withPostGraphileContext_1.debugPgClient(pgClient,!!options.allowExplain)});const{getGraphQLSchema:getGraphQLSchema,options:options,_emitter:_emitter}=getPostgraphileSchemaBuilder(pgPool,schema,incomingOptions);return createPostGraphileHttpRequestHandler_1.default(Object.assign(Object.assign(Object.assign({},"string"==typeof poolOrConfig?{ownerConnectionString:poolOrConfig}:{}),options),{getGqlSchema:getGraphQLSchema,pgPool:pgPool,_emitter:_emitter}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const graphql_1=__webpack_require__(20),extendedFormatError_1=__webpack_require__(543),koaMiddleware_1=__webpack_require__(544),pluginHook_1=__webpack_require__(97),withPostGraphileContext_1=(__webpack_require__(545),__webpack_require__(125)),lru_1=__webpack_require__(53),chalk_1=__webpack_require__(39),Debugger=__webpack_require__(19),httpError=__webpack_require__(188),parseUrl=__webpack_require__(90),finalHandler=__webpack_require__(192),bodyParser=__webpack_require__(196),crypto=__webpack_require__(28),noop=()=>{},{createHash:createHash}=crypto,graphiql_html_1=(__webpack_require__(547),__webpack_require__(548)),subscriptions_1=__webpack_require__(218),JS_ESCAPE_LOOKUP={"<":"\\u003c",">":"\\u003e","/":"\\u002f","\u2028":"\\u2028","\u2029":"\\u2029"};let lastString,lastHash;function isEmpty(value){for(const _key in value)return!1;return!0}exports.isEmpty=isEmpty;const debugGraphql=Debugger("postgraphile:graphql"),debugRequest=Debugger("postgraphile:request");function withPostGraphileContextFromReqResGenerator(options){const{pgSettings:pgSettingsGenerator,allowExplain:allowExplainGenerator,jwtSecret:jwtSecret,additionalGraphQLContextFromRequest:additionalGraphQLContextFromRequest}=options;return async(req,res,moreOptions,fn)=>{const jwtToken=jwtSecret?function(request){const{authorization:authorization}=request.headers;if(Array.isArray(authorization))throw createBadAuthorizationHeaderError();if(null==authorization)return null;const match=authorizationBearerRex.exec(authorization);if(!match)throw createBadAuthorizationHeaderError();return match[1]}(req):null,additionalContext="function"==typeof additionalGraphQLContextFromRequest?await additionalGraphQLContextFromRequest(req,res):null,pgSettings="function"==typeof pgSettingsGenerator?await pgSettingsGenerator(req):pgSettingsGenerator,allowExplain="function"==typeof allowExplainGenerator?await allowExplainGenerator(req):allowExplainGenerator;return withPostGraphileContext_1.default(Object.assign(Object.assign(Object.assign({},options),{jwtToken:jwtToken,pgSettings:pgSettings,explain:allowExplain&&"on"===req.headers["x-postgraphile-explain"]}),moreOptions),context=>{const graphqlContext=additionalContext?Object.assign(Object.assign({},additionalContext),context):context;return fn(graphqlContext)})}}function createBadAuthorizationHeaderError(){return httpError(400,"Authorization header is not of the correct bearer scheme format.")}exports.default=function(options){const MEGABYTE=1048576,{getGqlSchema:getGqlSchema,pgPool:pgPool,pgSettings:pgSettings,pgDefaultRole:pgDefaultRole,queryCacheMaxSize:queryCacheMaxSize=50*MEGABYTE,extendedErrors:extendedErrors,showErrorStack:showErrorStack,watchPg:watchPg,disableQueryLog:disableQueryLog,enableQueryBatching:enableQueryBatching}=options,subscriptions=!!options.subscriptions,live=!!options.live,enhanceGraphiql=!1!==options.enhanceGraphiql&&(!!options.enhanceGraphiql||subscriptions||live),enableCors=!!options.enableCors||!1,graphiql=!0===options.graphiql;if(options.absoluteRoutes)throw new Error("Sorry - the `absoluteRoutes` setting has been replaced with `externalUrlBase` which solves the issue in a cleaner way. Please update your settings. Thank you for testing a PostGraphile pre-release ");let externalUrlBase=options.externalUrlBase;if(externalUrlBase&&externalUrlBase.endsWith("/"))throw new Error("externalUrlBase must not end with a slash (`/`)");const pluginHook=pluginHook_1.pluginHookFromOptions(options),origGraphiqlHtml=pluginHook("postgraphile:graphiql:html",graphiql_html_1.default,{options:options});if(pgDefaultRole&&"function"==typeof pgSettings)throw new Error("pgDefaultRole cannot be combined with pgSettings(req) - please remove pgDefaultRole and instead always return a `role` key from pgSettings(req).");if(pgDefaultRole&&pgSettings&&"object"==typeof pgSettings&&Object.keys(pgSettings).map(s=>s.toLowerCase()).includes("role"))throw new Error("pgDefaultRole cannot be combined with pgSettings.role - please use one or the other.");if(graphiql)throw new Error("Cannot enable GraphiQL when POSTGRAPHILE_OMIT_ASSETS is set");const graphqlRoute=options.graphqlRoute||"/graphql",graphiqlRoute=graphiql?options.graphiqlRoute||"/graphiql":null,streamRoute=graphqlRoute.replace(/\/*$/,"")+"/stream";if(graphqlRoute===graphiqlRoute)throw new Error(`Cannot use the same route, '${graphqlRoute}', for both GraphQL and GraphiQL. Please use different routes.`);const formatError=error=>{const formattedError=extendedErrors&&extendedErrors.length?extendedFormatError_1.extendedFormatError(error,extendedErrors):graphql_1.formatError(error);return showErrorStack&&(formattedError.stack=null!=error.stack&&"json"===showErrorStack?error.stack.split("\n"):error.stack),formattedError},handleErrors=options.handleErrors||(errors=>errors.map(formatError)),bodyParserMiddlewaresComposed=[function(req,_res,next){req._koaCtx&&req._koaCtx.request&&req._koaCtx.request.body&&(req._body=!0,req.body=req._koaCtx.request.body),next()},bodyParser.json({limit:options.bodySizeLimit}),bodyParser.urlencoded({extended:!1,limit:options.bodySizeLimit}),bodyParser.text({type:"application/graphql",limit:options.bodySizeLimit})].reduce((parent,fn)=>(req,res,next)=>{parent(req,res,error=>{if(error)return next(error);fn(req,res,next)})},(_req,_res,next)=>next());let graphiqlHtml;const withPostGraphileContextFromReqRes=withPostGraphileContextFromReqResGenerator(options),staticValidationRules=pluginHook("postgraphile:validationRules:static",graphql_1.specifiedRules,{options:options}),queryCache=new lru_1.default({maxLength:Math.ceil(queryCacheMaxSize/1e5)});let lastGqlSchema;const parseQuery=(gqlSchema,queryString)=>{gqlSchema!==lastGqlSchema&&(queryCache.reset(),lastGqlSchema=gqlSchema);const canCache=queryCacheMaxSize>0&&queryString.length<1e5,hash=canCache?(queryString=>(queryString!==lastString&&(lastString=queryString,lastHash=createHash("sha1").update(queryString).digest("base64")),lastHash))(queryString):null,result=canCache?queryCache.get(hash):null;if(result)return result;{const source=new graphql_1.Source(queryString,"GraphQL Http Request");let queryDocumentAst;try{queryDocumentAst=graphql_1.parse(source)}catch(error){throw error.statusCode=400,error}debugRequest.enabled&&debugRequest("GraphQL query is parsed.");const cacheResult={queryDocumentAst:queryDocumentAst,validationErrors:graphql_1.validate(gqlSchema,queryDocumentAst,staticValidationRules),length:queryString.length};return canCache&&queryCache.set(hash,cacheResult),cacheResult}};let firstRequestHandler=(req,pathname)=>{if(firstRequestHandler=null,null==externalUrlBase){const{pathname:originalPathname=""}=parseUrl.original(req)||{};originalPathname!==pathname&&originalPathname.endsWith(pathname)&&(externalUrlBase=originalPathname.substr(0,originalPathname.length-pathname.length)),externalUrlBase=externalUrlBase||""}var obj;if(graphiqlHtml=origGraphiqlHtml?origGraphiqlHtml.replace(/<\/head>/,`  <script>window.POSTGRAPHILE_CONFIG=${obj={graphqlUrl:`${externalUrlBase}${graphqlRoute}`,streamUrl:watchPg?`${externalUrlBase}${streamRoute}`:null,enhanceGraphiql:enhanceGraphiql,subscriptions:subscriptions,allowExplain:"function"==typeof options.allowExplain?"__SHOULD_ALLOW_EXPLAIN__":!!options.allowExplain},JSON.stringify(obj).replace(/[<>/\u2028\u2029]/g,chr=>JS_ESCAPE_LOOKUP[chr])};<\/script>\n  </head>`):null,subscriptions){const server=req&&req.connection&&req.connection.server;server?subscriptions_1.enhanceHttpServerWithSubscriptions(server,middleware):console.warn("Failed to find server to add websocket listener to, you'll need to call `enhanceHttpServerWithSubscriptions` manually")}},theOneAndOnlyGraphQLSchema=null;watchPg||getGqlSchema().then(schema=>{theOneAndOnlyGraphQLSchema=schema}).catch(noop);const requestHandler=async(incomingReq,res,next)=>{const req=pluginHook("postgraphile:http:handler",incomingReq,{options:options,res:res,next:next});if(null==req)return;enableCors&&function(res){res.setHeader("Access-Control-Allow-Origin","*"),res.setHeader("Access-Control-Allow-Methods","HEAD, GET, POST"),res.setHeader("Access-Control-Allow-Headers",["Origin","X-Requested-With","Accept","Authorization","X-Apollo-Tracing","Content-Type","Content-Length","X-PostGraphile-Explain"].join(", ")),res.setHeader("Access-Control-Expose-Headers",["X-GraphQL-Event-Stream"].join(", "))}(res);const{pathname:pathname=""}=parseUrl(req)||{};firstRequestHandler&&firstRequestHandler(req,pathname);const isGraphqlRoute=pathname===graphqlRoute;if(!isGraphqlRoute)return next();if(res.statusCode=200,watchPg&&res.setHeader("X-GraphQL-Event-Stream",`${externalUrlBase}${streamRoute}`),"OPTIONS"===req.method)return res.statusCode=200,void res.end();let paramsList,results=[];const queryTimeStart=!disableQueryLog&&process.hrtime();let pgRole;debugRequest.enabled&&debugRequest("GraphQL query request has begun.");let returnArray=!1;try{const gqlSchema=theOneAndOnlyGraphQLSchema||await getGqlSchema();if(await((req,res)=>new Promise((resolve,reject)=>{bodyParserMiddlewaresComposed(req,res,error=>{error?reject(error):resolve()})}))(req,res),"POST"!==req.method)throw res.setHeader("Allow","POST, OPTIONS"),httpError(405,"Only `POST` requests are allowed.");const body=req.body;if(paramsList="string"==typeof body?{query:body}:body,null==paramsList)throw httpError(400,"Must provide an object parameters, not nullish value.");if("object"!=typeof paramsList)throw httpError(400,`Expected parameter object, not value of type '${typeof paramsList}'.`);if(Array.isArray(paramsList)){if(!enableQueryBatching)throw httpError(501,"Batching queries as an array is currently unsupported. Please provide a single query object.");returnArray=!0}else paramsList=[paramsList];paramsList=pluginHook("postgraphile:httpParamsList",paramsList,{options:options,req:req,res:res,returnArray:returnArray,httpError:httpError}),results=await Promise.all(paramsList.map(async params=>{let result,queryDocumentAst=null;const meta=Object.create(null);try{if(!params)throw httpError(400,"Invalid query structure.");const{query:query,operationName:operationName}=params;let validationErrors,{variables:variables}=params;if(!query)throw httpError(400,"Must provide a query string.");if("string"==typeof variables)if(""===variables)variables=null;else try{variables=JSON.parse(variables)}catch(error){throw error.statusCode=400,error}if(null!=variables&&"object"!=typeof variables)throw httpError(400,`Variables must be an object, not '${typeof variables}'.`);if(null!=operationName&&"string"!=typeof operationName)throw httpError(400,`Operation name must be a string, not '${typeof operationName}'.`);if(({queryDocumentAst:queryDocumentAst,validationErrors:validationErrors}=parseQuery(gqlSchema,query)),0===validationErrors.length){const moreValidationRules=pluginHook("postgraphile:validationRules",[],{options:options,req:req,res:res,variables:variables,operationName:operationName,meta:meta});moreValidationRules.length&&(validationErrors=graphql_1.validate(gqlSchema,queryDocumentAst,moreValidationRules))}if(validationErrors.length>0)result={errors:validationErrors,statusCode:400};else{if(!queryDocumentAst)throw new Error("Could not process query");debugRequest.enabled&&debugRequest("GraphQL query is validated."),debugGraphql.enabled&&debugGraphql("%s",graphql_1.print(queryDocumentAst).replace(/\s+/g," ").trim()),result=await withPostGraphileContextFromReqRes(req,res,{singleStatement:!1,queryDocumentAst:queryDocumentAst,variables:variables,operationName:operationName},graphqlContext=>{pgRole=graphqlContext.pgRole;const graphqlResult=graphql_1.execute(gqlSchema,queryDocumentAst,null,graphqlContext,variables,operationName);return"function"==typeof graphqlContext.getExplainResults?Promise.resolve(graphqlResult).then(async obj=>Object.assign(Object.assign({},obj),{explain:await graphqlContext.getExplainResults()})):graphqlResult})}}catch(error){result={errors:[error],statusCode:error.status||error.statusCode||500},500===result.statusCode&&console.error(error.stack)}finally{if(result&&result.errors&&(result.errors=handleErrors(result.errors,req,res)),isEmpty(meta)||(result.meta=meta),result=pluginHook("postgraphile:http:result",result,{options:options,returnArray:returnArray,queryDocumentAst:queryDocumentAst,req:req,pgRole:pgRole}),!disableQueryLog&&queryDocumentAst){const definitelyQueryDocumentAst=queryDocumentAst,resultStatusCode=result.statusCode,timeDiff=queryTimeStart&&process.hrtime(queryTimeStart);setImmediate(()=>{const prettyQuery=graphql_1.print(definitelyQueryDocumentAst).replace(/\s+/g," ").trim(),errorCount=(result.errors||[]).length,ms=1e3*timeDiff[0]+1e-6*timeDiff[1];let message;message=401===resultStatusCode?chalk_1.default.red("401 authentication error"):403===resultStatusCode?chalk_1.default.red("403 forbidden error"):chalk_1.default[0===errorCount?"green":"red"](errorCount+" error(s)"),console.log(`${message} ${null!=pgRole?`as ${chalk_1.default.magenta(pgRole)} `:""}in ${chalk_1.default.grey(ms.toFixed(2)+"ms")} :: ${prettyQuery}`)})}debugRequest.enabled&&debugRequest("GraphQL query has been executed.")}return result}))}catch(error){200===res.statusCode&&(res.statusCode=error.status||error.statusCode||500),returnArray=!1,results=[{errors:[error]}],500===res.statusCode&&console.error(error.stack)}finally{returnArray||(200===res.statusCode&&results[0].statusCode&&(res.statusCode=results[0].statusCode),results[0].statusCode=void 0),res.setHeader("Content-Type","application/json; charset=utf-8");const{statusCode:statusCode,result:result}=pluginHook("postgraphile:http:end",{statusCode:res.statusCode,result:returnArray?results:results[0]},{options:options,returnArray:returnArray,req:req,res:res});statusCode&&(res.statusCode=statusCode),res.end(JSON.stringify(result)),debugRequest.enabled&&debugRequest("GraphQL "+(returnArray?"queries":"query")+" request finished.")}},middleware=(a,b,c)=>{if(koaMiddleware_1.isKoaApp(a,b)){const ctx=a,next=b;return koaMiddleware_1.middleware(ctx,next,requestHandler)}{const req=a,res=b,next=c||finalHandler(req,res);requestHandler(req,res,next).catch(next)}};middleware.getGraphQLSchema=getGqlSchema,middleware.formatError=formatError,middleware.pgPool=pgPool,middleware.withPostGraphileContextFromReqRes=withPostGraphileContextFromReqRes,middleware.handleErrors=handleErrors,middleware.options=options;const hookedMiddleware=pluginHook("postgraphile:middleware",middleware,{options:options});if(!hookedMiddleware.getGraphQLSchema)throw new Error("Hook for 'postgraphile:middleware' has not copied over the helpers; e.g. missing `Object.assign(newMiddleware, oldMiddleware)`");return hookedMiddleware};const authorizationBearerRex=/^\s*bearer\s+([a-z0-9\-._~+/]+=*)\s*$/i},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendedFormatError=function(error,fields){if(!error)throw new Error("Received null or undefined error.");const originalError=error.originalError,exceptionDetails=originalError&&fields?function(err,inFields){const result={};let fields;if(Array.isArray(inFields))fields=inFields;else{if("string"!=typeof inFields)throw new Error("Invalid argument to extendedErrors - expected array of strings");fields=inFields.split(",")}return err&&"object"==typeof err&&fields.forEach(field=>{if("string"!=typeof field)throw new Error("Invalid argument to extendedErrors - expected array of strings");const errField="errcode"===field?"code":field;result[field]=null!=err[errField]?String(err[errField]):err[errField]}),result}(originalError,fields):void 0;return Object.assign(Object.assign(Object.assign({},exceptionDetails),exceptionDetails?{extensions:Object.assign(Object.assign({},originalError.extensions),{exception:exceptionDetails})}:null),{message:error.message,locations:error.locations,path:error.path})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isKoaApp=(a,b)=>a.req&&a.res&&"function"==typeof b,exports.middleware=async(ctx,next,requestHandler)=>{ctx.req._koaCtx=ctx;const oldEnd=ctx.res.end;let result;ctx.res.end=(body,cb)=>{ctx.status=ctx.res.statusCode,ctx.response.body=void 0===body?"":body,"function"==typeof cb&&cb()},ctx.req.originalUrl=ctx.request.originalUrl;try{result=await requestHandler(ctx.req,ctx.res,next)}finally{ctx.res.end=oldEnd,ctx.res.statusCode&&200!==ctx.res.statusCode&&(ctx.response.status=ctx.res.statusCode)}return result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const stream_1=__webpack_require__(32);exports.default=function(req,res,options){const{_emitter:_emitter}=options;req.socket.setTimeout(0),req.socket.setNoDelay(!0),req.socket.setKeepAlive(!0),res.statusCode=200,res.setHeader("Content-Type","text/event-stream"),res.setHeader("Cache-Control","no-cache"),req.httpVersionMajor>=2||res.setHeader("Connection","keep-alive");const koaCtx=req._koaCtx,isKoa=!!koaCtx,stream=isKoa?new stream_1.PassThrough:null;isKoa&&(koaCtx.response.body=stream,koaCtx.compress=!1);const sse=str=>{isKoa?stream.write(str):(res.write(str),"function"==typeof res.flushHeaders&&res.flushHeaders())};sse("event: open\n\n");const schemaChangedCb=()=>sse("event: change\ndata: schema\n\n");options.watchPg&&_emitter.on("schemas:changed",schemaChangedCb);const cleanup=()=>{stream?stream.end():res.end(),_emitter.removeListener("schemas:changed",schemaChangedCb)};req.on("close",cleanup),req.on("finish",cleanup),req.on("error",cleanup),_emitter.on("test:close",cleanup)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pg_1=__webpack_require__(57);exports.$$pgClient="pgClient",exports.default=function(context){if(null==context||"object"!=typeof context)throw new Error("Context must be an object.");const client=context[exports.$$pgClient];if(null==client)throw new Error("Postgres client does not exist on the context.");if(!(client instanceof pg_1.ClientBase))throw new Error("Postgres client on context is of the incorrect type.");return client}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=null},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=null},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const fs_1=__webpack_require__(43),graphql_1=__webpack_require__(20),util_1=__webpack_require__(17),readFile=util_1.promisify(fs_1.readFile),writeFile=util_1.promisify(fs_1.writeFile);async function writeFileIfDiffers(path,contents){let oldContents=null;try{oldContents=await readFile(path,"utf8")}catch(e){}oldContents!==contents&&await writeFile(path,contents)}exports.default=async function(schema,options={}){const jsonPath="string"==typeof options.exportJsonSchemaPath?options.exportJsonSchemaPath:null,graphqlPath="string"==typeof options.exportGqlSchemaPath?options.exportGqlSchemaPath:null,finalSchema=options.sortExport&&graphql_1.lexicographicSortSchema&&(jsonPath||graphqlPath)?graphql_1.lexicographicSortSchema(schema):schema;if(jsonPath){const result=await graphql_1.graphql(finalSchema,graphql_1.introspectionQuery);await writeFileIfDiffers(jsonPath,JSON.stringify(result,null,2))}graphqlPath&&await writeFileIfDiffers(graphqlPath,graphql_1.printSchema(finalSchema))}},function(module,exports){exports.options={dynamicJson:!0,cors:!0,graphiql:!1,graphqlRoute:"/graphql",externalUrlBase:"/"+process.env.AWS_STAGE,jwtSecret:process.env.JWT_SECRET||String(Math.random()),jwtPgTypeIdentifier:process.env.JWT_PG_TYPE_IDENTIFIER}},function(module,exports){module.exports=function(middlewares){return middlewares.reduce((parent,fn)=>(req,res,next)=>{parent(req,res,error=>{if(error)return next(error);fn(req,res,next)})},(_req,_res,next)=>next())}},function(module,exports,__webpack_require__){!function(){"use strict";var assign=__webpack_require__(553),vary=__webpack_require__(554),defaults={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function isString(s){return"string"==typeof s||s instanceof String}function configureOrigin(options,req){var isAllowed,requestOrigin=req.headers.origin,headers=[];return options.origin&&"*"!==options.origin?isString(options.origin)?(headers.push([{key:"Access-Control-Allow-Origin",value:options.origin}]),headers.push([{key:"Vary",value:"Origin"}])):(isAllowed=function isOriginAllowed(origin,allowedOrigin){if(Array.isArray(allowedOrigin)){for(var i=0;i<allowedOrigin.length;++i)if(isOriginAllowed(origin,allowedOrigin[i]))return!0;return!1}return isString(allowedOrigin)?origin===allowedOrigin:allowedOrigin instanceof RegExp?allowedOrigin.test(origin):!!allowedOrigin}(requestOrigin,options.origin),headers.push([{key:"Access-Control-Allow-Origin",value:!!isAllowed&&requestOrigin}]),headers.push([{key:"Vary",value:"Origin"}])):headers.push([{key:"Access-Control-Allow-Origin",value:"*"}]),headers}function configureCredentials(options){return!0===options.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function configureExposedHeaders(options){var headers=options.exposedHeaders;return headers?(headers.join&&(headers=headers.join(",")),headers&&headers.length?{key:"Access-Control-Expose-Headers",value:headers}:null):null}function applyHeaders(headers,res){for(var i=0,n=headers.length;i<n;i++){var header=headers[i];header&&(Array.isArray(header)?applyHeaders(header,res):"Vary"===header.key&&header.value?vary(res,header.value):header.value&&res.setHeader(header.key,header.value))}}module.exports=function(o){var optionsCallback=null;return optionsCallback="function"==typeof o?o:function(req,cb){cb(null,o)},function(req,res,next){optionsCallback(req,(function(err,options){if(err)next(err);else{var corsOptions=assign({},defaults,options),originCallback=null;corsOptions.origin&&"function"==typeof corsOptions.origin?originCallback=corsOptions.origin:corsOptions.origin&&(originCallback=function(origin,cb){cb(null,corsOptions.origin)}),originCallback?originCallback(req.headers.origin,(function(err2,origin){err2||!origin?next(err2):(corsOptions.origin=origin,function(options,req,res,next){var headers=[];"OPTIONS"===(req.method&&req.method.toUpperCase&&req.method.toUpperCase())?(headers.push(configureOrigin(options,req)),headers.push(configureCredentials(options)),headers.push(function(options){var methods=options.methods;return methods.join&&(methods=options.methods.join(",")),{key:"Access-Control-Allow-Methods",value:methods}}(options)),headers.push(function(options,req){var allowedHeaders=options.allowedHeaders||options.headers,headers=[];return allowedHeaders?allowedHeaders.join&&(allowedHeaders=allowedHeaders.join(",")):(allowedHeaders=req.headers["access-control-request-headers"],headers.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),allowedHeaders&&allowedHeaders.length&&headers.push([{key:"Access-Control-Allow-Headers",value:allowedHeaders}]),headers}(options,req)),headers.push(function(options){var maxAge=("number"==typeof options.maxAge||options.maxAge)&&options.maxAge.toString();return maxAge&&maxAge.length?{key:"Access-Control-Max-Age",value:maxAge}:null}(options)),headers.push(configureExposedHeaders(options)),applyHeaders(headers,res),options.preflightContinue?next():(res.statusCode=options.optionsSuccessStatus,res.setHeader("Content-Length","0"),res.end())):(headers.push(configureOrigin(options,req)),headers.push(configureCredentials(options)),headers.push(configureExposedHeaders(options)),applyHeaders(headers,res),next())}(corsOptions,req,res,next))})):next()}}))}}}()},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map((function(n){return test2[n]})).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports,__webpack_require__){"use strict";
/*!
 * vary
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(res,field){if(!res||!res.getHeader||!res.setHeader)throw new TypeError("res argument is required");var val=res.getHeader("Vary")||"",header=Array.isArray(val)?val.join(", "):String(val);(val=append(header,field))&&res.setHeader("Vary",val)},module.exports.append=append;var FIELD_NAME_REGEXP=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function append(header,field){if("string"!=typeof header)throw new TypeError("header argument is required");if(!field)throw new TypeError("field argument is required");for(var fields=Array.isArray(field)?field:parse(String(field)),j=0;j<fields.length;j++)if(!FIELD_NAME_REGEXP.test(fields[j]))throw new TypeError("field argument contains an invalid header name");if("*"===header)return header;var val=header,vals=parse(header.toLowerCase());if(-1!==fields.indexOf("*")||-1!==vals.indexOf("*"))return"*";for(var i=0;i<fields.length;i++){var fld=fields[i].toLowerCase();-1===vals.indexOf(fld)&&(vals.push(fld),val=val?val+", "+fields[i]:fields[i])}return val}function parse(header){for(var end=0,list=[],start=0,i=0,len=header.length;i<len;i++)switch(header.charCodeAt(i)){case 32:start===end&&(start=end=i+1);break;case 44:list.push(header.substring(start,end)),start=end=i+1;break;default:end=i+1}return list.push(header.substring(start,end)),list}}]));